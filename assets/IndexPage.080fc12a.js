import{u as Ft,f as Ot,c as Fi,g as Oi,b as Bi,a as Vi,h as qi,d as Bo,e as Hi,Q as Vo}from"./QItem.fd641ec3.js";import{i as $i,r as se,o as ft,w as be,j as k,e as Cn,a as je,M as qo,g as Ae,N as Ho,O as Dn,P as $o,L as ze,d as Ue,R as Bt,S as En,h as q,T as Xe,Q as wt,U as Li,q as et,V as Jt,c as Je,W as zi,X as Ni,Y as Lo,Z as ji,_ as Wi,$ as Ki,K as ln,a0 as bt,a1 as Gt,l as tt,a2 as Gi,a3 as Qt,u as Qi,a4 as Ji,a5 as Xi,a6 as Yi,a7 as Mn,a8 as $e,a9 as Mt,aa as zo,ab as Gn,ac as Zi,n as No,ad as er,ae as tr,af as It,ag as Ye,ah as jo,v as nr,p as or,f as St,m as ir,s as rr,x as it,ai as dt,F as Y,D as Re,aj as Ht,A as ee,z as Te,ak as ar,al as lr,am as Un,C as ot,an as sr,ao as ur,ap as Wo,aq as Ko,ar as Qe,as as cr,at as Qn,au as dr,av as fn,aw as fr,ax as pn,B as pr,y as mr}from"./index.2e4d65c5.js";let mn,$t=0;const Ve=new Array(256);for(let e=0;e<256;e++)Ve[e]=(e+256).toString(16).substring(1);const hr=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),Jn=4096;function Tn(){(mn===void 0||$t+16>Jn)&&($t=0,mn=hr(Jn));const e=Array.prototype.slice.call(mn,$t,$t+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ve[e[0]]+Ve[e[1]]+Ve[e[2]]+Ve[e[3]]+"-"+Ve[e[4]]+Ve[e[5]]+"-"+Ve[e[6]]+Ve[e[7]]+"-"+Ve[e[8]]+Ve[e[9]]+"-"+Ve[e[10]]+Ve[e[11]]+Ve[e[12]]+Ve[e[13]]+Ve[e[14]]+Ve[e[15]]}function gr(e){return e==null?null:e}function Xn(e,t){return e==null?t===!0?`f_${Tn()}`:null:e}function vr({getValue:e,required:t=!0}={}){if($i.value===!0){const n=e!==void 0?se(gr(e())):se(null);return t===!0&&n.value===null&&ft(()=>{n.value=`f_${Tn()}`}),e!==void 0&&be(e,o=>{n.value=Xn(o,t)}),n}return e!==void 0?k(()=>Xn(e(),t)):se(`f_${Tn()}`)}function yr({validate:e,resetValidation:t,requiresQForm:n}){const o=Cn(qo,!1);if(o!==!1){const{props:i,proxy:l}=Ae();Object.assign(l,{validate:e,resetValidation:t}),be(()=>i.disable,p=>{p===!0?(typeof t=="function"&&t(),o.unbindComponent(l)):o.bindComponent(l)}),ft(()=>{i.disable!==!0&&o.bindComponent(l)}),je(()=>{i.disable!==!0&&o.unbindComponent(l)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Yn=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Zn=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,eo=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Lt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,zt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,hn={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Yn.test(e),hexaColor:e=>Zn.test(e),hexOrHexaColor:e=>eo.test(e),rgbColor:e=>Lt.test(e),rgbaColor:e=>zt.test(e),rgbOrRgbaColor:e=>Lt.test(e)||zt.test(e),hexOrRgbColor:e=>Yn.test(e)||Lt.test(e),hexaOrRgbaColor:e=>Zn.test(e)||zt.test(e),anyColor:e=>eo.test(e)||Lt.test(e)||zt.test(e)},Sr=[!0,!1,"ondemand"],br={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Sr.includes(e)}};function xr(e,t){const{props:n,proxy:o}=Ae(),i=se(!1),l=se(null),p=se(!1);yr({validate:s,resetValidation:c});let h=0,x;const w=k(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),_=k(()=>n.disable!==!0&&w.value===!0&&t.value===!1),I=k(()=>n.error===!0||i.value===!0),a=k(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:l.value);be(()=>n.modelValue,()=>{p.value=!0,_.value===!0&&n.lazyRules===!1&&u()});function r(){n.lazyRules!=="ondemand"&&_.value===!0&&p.value===!0&&u()}be(()=>n.reactiveRules,v=>{v===!0?x===void 0&&(x=be(()=>n.rules,r,{immediate:!0,deep:!0})):x!==void 0&&(x(),x=void 0)},{immediate:!0}),be(()=>n.lazyRules,r),be(e,v=>{v===!0?p.value=!0:_.value===!0&&n.lazyRules!=="ondemand"&&u()});function c(){h++,t.value=!1,p.value=!1,i.value=!1,l.value=null,u.cancel()}function s(v=n.modelValue){if(n.disable===!0||w.value===!1)return!0;const S=++h,b=t.value!==!0?()=>{p.value=!0}:()=>{},E=(z,K)=>{z===!0&&b(),i.value=z,l.value=K||null,t.value=!1},O=[];for(let z=0;z<n.rules.length;z++){const K=n.rules[z];let Z;if(typeof K=="function"?Z=K(v,hn):typeof K=="string"&&hn[K]!==void 0&&(Z=hn[K](v)),Z===!1||typeof Z=="string")return E(!0,Z),!1;Z!==!0&&Z!==void 0&&O.push(Z)}return O.length===0?(E(!1),!0):(t.value=!0,Promise.all(O).then(z=>{if(z===void 0||Array.isArray(z)===!1||z.length===0)return S===h&&E(!1),!0;const K=z.find(Z=>Z===!1||typeof Z=="string");return S===h&&E(K!==void 0,K),K===void 0},z=>(S===h&&(console.error(z),E(!0)),!1)))}const u=Ho(s,0);return je(()=>{x!==void 0&&x(),u.cancel()}),Object.assign(o,{resetValidation:c,validate:s}),Dn(o,"hasError",()=>I.value),{isDirtyModel:p,hasRules:w,hasError:I,errorMessage:a,validate:s,resetValidation:c}}const to=/^on[A-Z]/;function wr(){const{attrs:e,vnode:t}=Ae(),n={listeners:se({}),attributes:se({})};function o(){const i={},l={};for(const p in e)p!=="class"&&p!=="style"&&to.test(p)===!1&&(i[p]=e[p]);for(const p in t.props)to.test(p)===!0&&(l[p]=t.props[p]);n.attributes.value=i,n.listeners.value=l}return $o(o),o(),n}let lt=[],Ut=[];function Go(e){Ut=Ut.filter(t=>t!==e)}function Cr(e){Go(e),Ut.push(e)}function no(e){Go(e),Ut.length===0&&lt.length!==0&&(lt[lt.length-1](),lt=[])}function Vt(e){Ut.length===0?e():lt.push(e)}function Tr(e){lt=lt.filter(t=>t!==e)}function At(e){return e!=null&&(""+e).length!==0}const sn={...Ft,...br,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},An=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Fn({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,proxy:o}=Ae(),i=Ot(n,o.$q),l=vr({required:e,getValue:()=>n.for});return{requiredForAttr:e,tag:t===!0?k(()=>n.tag):{value:"label"},isDark:i,editable:k(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:se(!1),focused:se(!1),hasPopupOpen:!1,splitAttrs:wr(),targetUid:l,rootRef:se(null),targetRef:se(null),controlRef:se(null)}}function On(e){const{props:t,emit:n,slots:o,attrs:i,proxy:l}=Ae(),{$q:p}=l;let h=null;e.hasValue===void 0&&(e.hasValue=k(()=>At(t.modelValue))),e.emitValue===void 0&&(e.emitValue=A=>{n("update:modelValue",A)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:U,onFocusout:m}),Object.assign(e,{clearValue:L,onControlFocusin:U,onControlFocusout:m,focus:K}),e.computedCounter===void 0&&(e.computedCounter=k(()=>{if(t.counter!==!1){const A=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,ne=t.maxlength!==void 0?t.maxlength:t.maxValues;return A+(ne!==void 0?" / "+ne:"")}}));const{isDirtyModel:x,hasRules:w,hasError:_,errorMessage:I,resetValidation:a}=xr(e.focused,e.innerLoading),r=e.floatingLabel!==void 0?k(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):k(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),c=k(()=>t.bottomSlots===!0||t.hint!==void 0||w.value===!0||t.counter===!0||t.error!==null),s=k(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),u=k(()=>`q-field row no-wrap items-start q-field--${s.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(r.value===!0?" q-field--float":"")+(S.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(_.value===!0?" q-field--error":"")+(_.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&c.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),v=k(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(_.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),S=k(()=>t.labelSlot===!0||t.label!==void 0),b=k(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&_.value!==!0?` text-${t.labelColor}`:"")),E=k(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:r.value,modelValue:t.modelValue,emitValue:e.emitValue})),O=k(()=>{const A={};return e.targetUid.value&&(A.for=e.targetUid.value),t.disable===!0&&(A["aria-disabled"]="true"),A});function z(){const A=document.activeElement;let ne=e.targetRef!==void 0&&e.targetRef.value;ne&&(A===null||A.id!==e.targetUid.value)&&(ne.hasAttribute("tabindex")===!0||(ne=ne.querySelector("[tabindex]")),ne&&ne!==A&&ne.focus({preventScroll:!0}))}function K(){Vt(z)}function Z(){Tr(z);const A=document.activeElement;A!==null&&e.rootRef.value.contains(A)&&A.blur()}function U(A){h!==null&&(clearTimeout(h),h=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",A))}function m(A,ne){h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",A)),ne!==void 0&&ne())})}function L(A){ze(A),p.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),Ue(()=>{const ne=x.value;a(),x.value=ne})}function M(){const A=[];return o.prepend!==void 0&&A.push(q("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Xe},o.prepend())),A.push(q("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},te())),_.value===!0&&t.noErrorIcon===!1&&A.push(ue("error",[q(wt,{name:p.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?A.push(ue("inner-loading-append",o.loading!==void 0?o.loading():[q(Li,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&A.push(ue("inner-clearable-append",[q(wt,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||p.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:L})])),o.append!==void 0&&A.push(q("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Xe},o.append())),e.getInnerAppend!==void 0&&A.push(ue("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&A.push(e.getControlChild()),A}function te(){const A=[];return t.prefix!==void 0&&t.prefix!==null&&A.push(q("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&A.push(e.getShadowControl()),e.getControl!==void 0?A.push(e.getControl()):o.rawControl!==void 0?A.push(o.rawControl()):o.control!==void 0&&A.push(q("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(E.value))),S.value===!0&&A.push(q("div",{class:b.value},et(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&A.push(q("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),A.concat(et(o.default))}function D(){let A,ne;_.value===!0?I.value!==null?(A=[q("div",{role:"alert"},I.value)],ne=`q--slot-error-${I.value}`):(A=et(o.error),ne="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(A=[q("div",t.hint)],ne=`q--slot-hint-${t.hint}`):(A=et(o.hint),ne="q--slot-hint"));const xe=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&xe===!1&&A===void 0)return;const me=q("div",{key:ne,class:"q-field__messages col"},A);return q("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Xe},[t.hideBottomSpace===!0?me:q(Jt,{name:"q-transition--field-message"},()=>me),xe===!0?q("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function ue(A,ne){return ne===null?null:q("div",{key:A,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},ne)}let ie=!1;return Bt(()=>{ie=!0}),En(()=>{ie===!0&&t.autofocus===!0&&l.focus()}),t.autofocus===!0&&ft(()=>{l.focus()}),je(()=>{h!==null&&clearTimeout(h)}),Object.assign(l,{focus:K,blur:Z}),function(){const ne=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...O.value}:O.value;return q(e.tag.value,{ref:e.rootRef,class:[u.value,i.class],style:i.style,...ne},[o.before!==void 0?q("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Xe},o.before()):null,q("div",{class:"q-field__inner relative-position col self-stretch"},[q("div",{ref:e.controlRef,class:v.value,tabindex:-1,...e.controlEvents},M()),c.value===!0?D():null]),o.after!==void 0?q("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Xe},o.after()):null])}}var _r=Je({name:"QField",inheritAttrs:!1,props:{...sn,tag:{type:String,default:"label"}},emits:An,setup(){return On(Fn({requiredForAttr:!1,tagProp:!0}))}});const kr={xs:8,sm:10,md:14,lg:20,xl:24};var Rr=Je({name:"QChip",props:{...Ft,...zi,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=Ae(),i=Ot(e,o),l=Ni(e,kr),p=k(()=>e.selected===!0||e.icon!==void 0),h=k(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),x=k(()=>e.iconRemove||o.iconSet.chip.remove),w=k(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),_=k(()=>{const u=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(u?` text-${u} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(w.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),I=k(()=>{const u=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},v={...u,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:u,remove:v}});function a(u){u.keyCode===13&&r(u)}function r(u){e.disable||(n("update:selected",!e.selected),n("click",u))}function c(u){(u.keyCode===void 0||u.keyCode===13)&&(ze(u),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function s(){const u=[];w.value===!0&&u.push(q("div",{class:"q-focus-helper"})),p.value===!0&&u.push(q(wt,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const v=e.label!==void 0?[q("div",{class:"ellipsis"},[e.label])]:void 0;return u.push(q("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ji(t.default,v))),e.iconRight&&u.push(q(wt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&u.push(q(wt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:x.value,...I.value.remove,onClick:c,onKeyup:c})),u}return()=>{if(e.modelValue===!1)return;const u={class:_.value,style:l.value};return w.value===!0&&Object.assign(u,I.value.chip,{onClick:r,onKeyup:a}),Lo("div",u,s(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Wi,e.ripple]])}}});function Qo(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Ki.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Ir={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Pr({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:i,emit:l}=Ae(),p=se(null);let h=null;function x(r){return p.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const w={};n===void 0&&(Object.assign(w,{hide(r){i.hide(r)},toggle(r){i.toggle(r),r.qAnchorHandled=!0},toggleKey(r){ln(r,13)===!0&&w.toggle(r)},contextClick(r){i.hide(r),Xe(r),Ue(()=>{i.show(r),r.qAnchorHandled=!0})},prevent:Xe,mobileTouch(r){if(w.mobileCleanup(r),x(r)!==!0)return;i.hide(r),p.value.classList.add("non-selectable");const c=r.target;bt(w,"anchor",[[c,"touchmove","mobileCleanup","passive"],[c,"touchend","mobileCleanup","passive"],[c,"touchcancel","mobileCleanup","passive"],[p.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{h=null,i.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){p.value.classList.remove("non-selectable"),h!==null&&(clearTimeout(h),h=null),e.value===!0&&r!==void 0&&Qo()}}),n=function(r=o.contextMenu){if(o.noParentEvent===!0||p.value===null)return;let c;r===!0?i.$q.platform.is.mobile===!0?c=[[p.value,"touchstart","mobileTouch","passive"]]:c=[[p.value,"mousedown","hide","passive"],[p.value,"contextmenu","contextClick","notPassive"]]:c=[[p.value,"click","toggle","passive"],[p.value,"keyup","toggleKey","passive"]],bt(w,"anchor",c)});function _(){Gt(w,"anchor")}function I(r){for(p.value=r;p.value.classList.contains("q-anchor--skip");)p.value=p.value.parentNode;n()}function a(){if(o.target===!1||o.target===""||i.$el.parentNode===null)p.value=null;else if(o.target===!0)I(i.$el.parentNode);else{let r=o.target;if(typeof o.target=="string")try{r=document.querySelector(o.target)}catch{r=void 0}r!=null?(p.value=r.$el||r,n()):(p.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return be(()=>o.contextMenu,r=>{p.value!==null&&(_(),n(r))}),be(()=>o.target,()=>{p.value!==null&&_(),a()}),be(()=>o.noParentEvent,r=>{p.value!==null&&(r===!0?_():n())}),ft(()=>{a(),t!==!0&&o.modelValue===!0&&p.value===null&&l("update:modelValue",!1)}),je(()=>{h!==null&&clearTimeout(h),_()}),{anchorEl:p,canShow:x,anchorEvents:w}}function Dr(e,t){const n=se(null);let o;function i(h,x){const w=`${x!==void 0?"add":"remove"}EventListener`,_=x!==void 0?x:o;h!==window&&h[w]("scroll",_,tt.passive),window[w]("scroll",_,tt.passive),o=x}function l(){n.value!==null&&(i(n.value),n.value=null)}const p=be(()=>e.noParentEvent,()=>{n.value!==null&&(l(),t())});return je(p),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:i}}const Jo={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Xo=["beforeShow","show","beforeHide","hide"];function Yo({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:i,processOnMount:l}){const p=Ae(),{props:h,emit:x,proxy:w}=p;let _;function I(S){e.value===!0?c(S):a(S)}function a(S){if(h.disable===!0||S!==void 0&&S.qAnchorHandled===!0||t!==void 0&&t(S)!==!0)return;const b=h["onUpdate:modelValue"]!==void 0;b===!0&&(x("update:modelValue",!0),_=S,Ue(()=>{_===S&&(_=void 0)})),(h.modelValue===null||b===!1)&&r(S)}function r(S){e.value!==!0&&(e.value=!0,x("beforeShow",S),o!==void 0?o(S):x("show",S))}function c(S){if(h.disable===!0)return;const b=h["onUpdate:modelValue"]!==void 0;b===!0&&(x("update:modelValue",!1),_=S,Ue(()=>{_===S&&(_=void 0)})),(h.modelValue===null||b===!1)&&s(S)}function s(S){e.value!==!1&&(e.value=!1,x("beforeHide",S),i!==void 0?i(S):x("hide",S))}function u(S){h.disable===!0&&S===!0?h["onUpdate:modelValue"]!==void 0&&x("update:modelValue",!1):S===!0!==e.value&&(S===!0?r:s)(_)}be(()=>h.modelValue,u),n!==void 0&&Gi(p)===!0&&be(()=>w.$route.fullPath,()=>{n.value===!0&&e.value===!0&&c()}),l===!0&&ft(()=>{u(h.modelValue)});const v={show:a,hide:c,toggle:I};return Object.assign(w,v),v}const Ct=[];function Er(e){return Ct.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Zo(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Qt(e)}else if(e.__qPortal===!0){const n=Qt(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Qt(e)}while(e!=null)}function Mr(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Zo(e,t);continue}e.hide(t)}e=Qt(e)}}const Ur=Je({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Ar(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function ei(e,t,n,o){const i=se(!1),l=se(!1);let p=null;const h={},x=o==="dialog"&&Ar(e);function w(I){if(I===!0){no(h),l.value=!0;return}l.value=!1,i.value===!1&&(x===!1&&p===null&&(p=Xi(!1,o)),i.value=!0,Ct.push(e.proxy),Cr(h))}function _(I){if(l.value=!1,I!==!0)return;no(h),i.value=!1;const a=Ct.indexOf(e.proxy);a!==-1&&Ct.splice(a,1),p!==null&&(Yi(p),p=null)}return Qi(()=>{_(!0)}),e.proxy.__qPortal=!0,Dn(e.proxy,"contentEl",()=>t.value),{showPortal:w,hidePortal:_,portalIsActive:i,portalIsAccessible:l,renderPortal:()=>x===!0?n():i.value===!0?[q(Ji,{to:p},q(Ur,n))]:void 0}}const ti={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ni(e,t=()=>{},n=()=>{}){return{transitionProps:k(()=>{const o=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:k(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function oi(){let e;const t=Ae();function n(){e=void 0}return Bt(n),je(n),{removeTick:n,registerTick(o){e=o,Ue(()=>{e===o&&(Mn(t)===!1&&e(),e=void 0)})}}}function ii(){let e=null;const t=Ae();function n(){e!==null&&(clearTimeout(e),e=null)}return Bt(n),je(n),{removeTimeout:n,registerTimeout(o,i){n(),Mn(t)===!1&&(e=setTimeout(()=>{e=null,o()},i))}}}const st=[];let kt;function Fr(e){kt=e.keyCode===27}function Or(){kt===!0&&(kt=!1)}function Br(e){kt===!0&&(kt=!1,ln(e,27)===!0&&st[st.length-1](e))}function ri(e){window[e]("keydown",Fr),window[e]("blur",Or),window[e]("keyup",Br),kt=!1}function ai(e){$e.is.desktop===!0&&(st.push(e),st.length===1&&ri("addEventListener"))}function Xt(e){const t=st.indexOf(e);t!==-1&&(st.splice(t,1),st.length===0&&ri("removeEventListener"))}const ut=[];function li(e){ut[ut.length-1](e)}function si(e){$e.is.desktop===!0&&(ut.push(e),ut.length===1&&document.body.addEventListener("focusin",li))}function _n(e){const t=ut.indexOf(e);t!==-1&&(ut.splice(t,1),ut.length===0&&document.body.removeEventListener("focusin",li))}const{notPassiveCapture:Yt}=tt,ct=[];function Zt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Ct.length-1;for(;n>=0;){const o=Ct[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=ct.length-1;o>=0;o--){const i=ct[o];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Vr(e){ct.push(e),ct.length===1&&(document.addEventListener("mousedown",Zt,Yt),document.addEventListener("touchstart",Zt,Yt))}function oo(e){const t=ct.findIndex(n=>n===e);t!==-1&&(ct.splice(t,1),ct.length===0&&(document.removeEventListener("mousedown",Zt,Yt),document.removeEventListener("touchstart",Zt,Yt)))}let io,ro;function ao(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function qr(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const kn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{kn[`${e}#ltr`]=e,kn[`${e}#rtl`]=e});function lo(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:kn[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Hr(e,t){let{top:n,left:o,right:i,bottom:l,width:p,height:h}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],l+=t[1],i+=t[0],p+=t[0],h+=t[1]),{top:n,bottom:l,height:h,left:o,right:i,width:p,middle:o+(i-o)/2,center:n+(l-n)/2}}function $r(e,t,n){let{top:o,left:i}=e.getBoundingClientRect();return o+=t.top,i+=t.left,n!==void 0&&(o+=n[1],i+=n[0]),{top:o,bottom:o+1,height:1,left:i,right:i+1,width:1,middle:i,center:o}}function Lr(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function so(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function ui(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ui(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:i,anchorOrigin:l,selfOrigin:p,absoluteOffset:h,fit:x,cover:w,maxHeight:_,maxWidth:I}=e;if($e.is.ios===!0&&window.visualViewport!==void 0){const z=document.body.style,{offsetLeft:K,offsetTop:Z}=window.visualViewport;K!==io&&(z.setProperty("--q-pe-left",K+"px"),io=K),Z!==ro&&(z.setProperty("--q-pe-top",Z+"px"),ro=Z)}const{scrollLeft:a,scrollTop:r}=n,c=h===void 0?Hr(i,w===!0?[0,0]:o):$r(i,h,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:I||"100vw",maxHeight:_||"100vh",visibility:"visible"});const{offsetWidth:s,offsetHeight:u}=n,{elWidth:v,elHeight:S}=x===!0||w===!0?{elWidth:Math.max(c.width,s),elHeight:w===!0?Math.max(c.height,u):u}:{elWidth:s,elHeight:u};let b={maxWidth:I,maxHeight:_};(x===!0||w===!0)&&(b.minWidth=c.width+"px",w===!0&&(b.minHeight=c.height+"px")),Object.assign(n.style,b);const E=Lr(v,S);let O=so(c,E,l,p);if(h===void 0||o===void 0)gn(O,c,E,l,p);else{const{top:z,left:K}=O;gn(O,c,E,l,p);let Z=!1;if(O.top!==z){Z=!0;const U=2*o[1];c.center=c.top-=U,c.bottom-=U+2}if(O.left!==K){Z=!0;const U=2*o[0];c.middle=c.left-=U,c.right-=U+2}Z===!0&&(O=so(c,E,l,p),gn(O,c,E,l,p))}b={top:O.top+"px",left:O.left+"px"},O.maxHeight!==void 0&&(b.maxHeight=O.maxHeight+"px",c.height>O.maxHeight&&(b.minHeight=b.maxHeight)),O.maxWidth!==void 0&&(b.maxWidth=O.maxWidth+"px",c.width>O.maxWidth&&(b.minWidth=b.maxWidth)),Object.assign(n.style,b),n.scrollTop!==r&&(n.scrollTop=r),n.scrollLeft!==a&&(n.scrollLeft=a)}function gn(e,t,n,o,i){const l=n.bottom,p=n.right,h=Fi(),x=window.innerHeight-h,w=document.body.clientWidth;if(e.top<0||e.top+l>x)if(i.vertical==="center")e.top=t[o.vertical]>x/2?Math.max(0,x-l):0,e.maxHeight=Math.min(l,x);else if(t[o.vertical]>x/2){const _=Math.min(x,o.vertical==="center"?t.center:o.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(l,_),e.top=Math.max(0,_-l)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(l,x-e.top);if(e.left<0||e.left+p>w)if(e.maxWidth=Math.min(p,w),i.horizontal==="middle")e.left=t[o.horizontal]>w/2?Math.max(0,w-p):0;else if(t[o.horizontal]>w/2){const _=Math.min(w,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(p,_),e.left=Math.max(0,_-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(p,w-e.left)}var zr=Je({name:"QMenu",inheritAttrs:!1,props:{...Ir,...Jo,...Ft,...ti,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ao},self:{type:String,validator:ao},offset:{type:Array,validator:qr},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Xo,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let i=null,l,p,h;const x=Ae(),{proxy:w}=x,{$q:_}=w,I=se(null),a=se(!1),r=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),c=Ot(e,_),{registerTick:s,removeTick:u}=oi(),{registerTimeout:v}=ii(),{transitionProps:S,transitionStyle:b}=ni(e),{localScrollTarget:E,changeScrollEvent:O,unconfigureScrollTarget:z}=Dr(e,N),{anchorEl:K,canShow:Z}=Pr({showing:a}),{hide:U}=Yo({showing:a,canShow:Z,handleShow:me,handleHide:R,hideOnRouteChange:r,processOnMount:!0}),{showPortal:m,hidePortal:L,renderPortal:M}=ei(x,I,Se,"menu"),te={anchorEl:K,innerRef:I,onClickOutside(V){if(e.persistent!==!0&&a.value===!0)return U(V),(V.type==="touchstart"||V.target.classList.contains("q-dialog__backdrop"))&&ze(V),!0}},D=k(()=>lo(e.anchor||(e.cover===!0?"center middle":"bottom start"),_.lang.rtl)),ue=k(()=>e.cover===!0?D.value:lo(e.self||"top start",_.lang.rtl)),ie=k(()=>(e.square===!0?" q-menu--square":"")+(c.value===!0?" q-menu--dark q-dark":"")),A=k(()=>e.autoClose===!0?{onClick:ce}:{}),ne=k(()=>a.value===!0&&e.persistent!==!0);be(ne,V=>{V===!0?(ai(B),Vr(te)):(Xt(B),oo(te))});function xe(){Vt(()=>{let V=I.value;V&&V.contains(document.activeElement)!==!0&&(V=V.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||V.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||V.querySelector("[autofocus], [data-autofocus]")||V,V.focus({preventScroll:!0}))})}function me(V){if(i=e.noRefocus===!1?document.activeElement:null,si(pe),m(),N(),l=void 0,V!==void 0&&(e.touchPosition||e.contextMenu)){const Ce=Mt(V);if(Ce.left!==void 0){const{top:Pe,left:We}=K.value.getBoundingClientRect();l={left:Ce.left-We,top:Ce.top-Pe}}}p===void 0&&(p=be(()=>_.screen.width+"|"+_.screen.height+"|"+e.self+"|"+e.anchor+"|"+_.lang.rtl,J)),e.noFocus!==!0&&document.activeElement.blur(),s(()=>{J(),e.noFocus!==!0&&xe()}),v(()=>{_.platform.is.ios===!0&&(h=e.autoClose,I.value.click()),J(),m(!0),n("show",V)},e.transitionDuration)}function R(V){u(),L(),T(!0),i!==null&&(V===void 0||V.qClickOutside!==!0)&&(((V&&V.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),v(()=>{L(!0),n("hide",V)},e.transitionDuration)}function T(V){l=void 0,p!==void 0&&(p(),p=void 0),(V===!0||a.value===!0)&&(_n(pe),z(),oo(te),Xt(B)),V!==!0&&(i=null)}function N(){(K.value!==null||e.scrollTarget!==void 0)&&(E.value=Oi(K.value,e.scrollTarget),O(E.value,J))}function ce(V){h!==!0?(Zo(w,V),n("click",V)):h=!1}function pe(V){ne.value===!0&&e.noFocus!==!0&&zo(I.value,V.target)!==!0&&xe()}function B(V){n("escapeKey"),U(V)}function J(){ui({targetEl:I.value,offset:e.offset,anchorEl:K.value,anchorOrigin:D.value,selfOrigin:ue.value,absoluteOffset:l,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Se(){return q(Jt,S.value,()=>a.value===!0?q("div",{role:"menu",...o,ref:I,tabindex:-1,class:["q-menu q-position-engine scroll"+ie.value,o.class],style:[o.style,b.value],...A.value},et(t.default)):null)}return je(T),Object.assign(w,{focus:xe,updatePosition:J}),M}});function Nr(e,t,n){let o;function i(){o!==void 0&&(Gn.remove(o),o=void 0)}return je(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){o={condition:()=>n.value===!0,handler:t},Gn.add(o)}}}let Pt=0,vn,yn,Et,Sn=!1,uo,co,fo,at=null;function jr(e){Wr(e)&&ze(e)}function Wr(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Zi(e),n=e.shiftKey&&!e.deltaX,o=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=n||o?e.deltaY:e.deltaX;for(let l=0;l<t.length;l++){const p=t[l];if(qi(p,o))return o?i<0&&p.scrollTop===0?!0:i>0&&p.scrollTop+p.clientHeight===p.scrollHeight:i<0&&p.scrollLeft===0?!0:i>0&&p.scrollLeft+p.clientWidth===p.scrollWidth}return!0}function po(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Nt(e){Sn!==!0&&(Sn=!0,requestAnimationFrame(()=>{Sn=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:o}=document.scrollingElement;(Et===void 0||t!==window.innerHeight)&&(Et=n-t,document.scrollingElement.scrollTop=o),o>Et&&(document.scrollingElement.scrollTop-=Math.ceil((o-Et)/8))}))}function mo(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:i}=window.getComputedStyle(t);vn=Bi(window),yn=Vi(window),uo=t.style.left,co=t.style.top,fo=window.location.href,t.style.left=`-${vn}px`,t.style.top=`-${yn}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,$e.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Nt,tt.passiveCapture),window.visualViewport.addEventListener("scroll",Nt,tt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",po,tt.passiveCapture))}$e.is.desktop===!0&&$e.is.mac===!0&&window[`${e}EventListener`]("wheel",jr,tt.notPassive),e==="remove"&&($e.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",Nt,tt.passiveCapture),window.visualViewport.removeEventListener("scroll",Nt,tt.passiveCapture)):window.removeEventListener("scroll",po,tt.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=uo,t.style.top=co,window.location.href===fo&&window.scrollTo(vn,yn),Et=void 0)}function Kr(e){let t="add";if(e===!0){if(Pt++,at!==null){clearTimeout(at),at=null;return}if(Pt>1)return}else{if(Pt===0||(Pt--,Pt>0))return;if(t="remove",$e.is.ios===!0&&$e.is.nativeMobile===!0){at!==null&&clearTimeout(at),at=setTimeout(()=>{mo(t),at=null},100);return}}mo(t)}function Gr(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Kr(t))}}}let jt=0;const Qr={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ho={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var en=Je({name:"QDialog",inheritAttrs:!1,props:{...Jo,...ti,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Xo,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const i=Ae(),l=se(null),p=se(!1),h=se(!1);let x=null,w=null,_,I;const a=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:r}=Gr(),{registerTimeout:c}=ii(),{registerTick:s,removeTick:u}=oi(),{transitionProps:v,transitionStyle:S}=ni(e,()=>ho[e.position][0],()=>ho[e.position][1]),b=k(()=>S.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:E,hidePortal:O,portalIsAccessible:z,renderPortal:K}=ei(i,l,pe,"dialog"),{hide:Z}=Yo({showing:p,hideOnRouteChange:a,handleShow:ue,handleHide:ie,processOnMount:!0}),{addToHistory:U,removeFromHistory:m}=Nr(p,Z,a),L=k(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Qr[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),M=k(()=>p.value===!0&&e.seamless!==!0),te=k(()=>e.autoClose===!0?{onClick:T}:{}),D=k(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${M.value===!0?"modal":"seamless"}`,o.class]);be(()=>e.maximized,B=>{p.value===!0&&R(B)}),be(M,B=>{r(B),B===!0?(si(ce),ai(xe)):(_n(ce),Xt(xe))});function ue(B){U(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,R(e.maximized),E(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),s(A)):u(),c(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:J,bottom:Se}=document.activeElement.getBoundingClientRect(),{innerHeight:V}=window,Ce=window.visualViewport!==void 0?window.visualViewport.height:V;J>0&&Se>Ce/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ce,Se>=V?1/0:Math.ceil(document.scrollingElement.scrollTop+Se-Ce/2))),document.activeElement.scrollIntoView()}I=!0,l.value.click(),I=!1}E(!0),h.value=!1,n("show",B)},e.transitionDuration)}function ie(B){u(),m(),me(!0),h.value=!0,O(),w!==null&&(((B&&B.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),c(()=>{O(!0),h.value=!1,n("hide",B)},e.transitionDuration)}function A(B){Vt(()=>{let J=l.value;J===null||J.contains(document.activeElement)===!0||(J=(B!==""?J.querySelector(B):null)||J.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||J.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||J.querySelector("[autofocus], [data-autofocus]")||J,J.focus({preventScroll:!0}))})}function ne(B){B&&typeof B.focus=="function"?B.focus({preventScroll:!0}):A(),n("shake");const J=l.value;J!==null&&(J.classList.remove("q-animate--scale"),J.classList.add("q-animate--scale"),x!==null&&clearTimeout(x),x=setTimeout(()=>{x=null,l.value!==null&&(J.classList.remove("q-animate--scale"),A())},170))}function xe(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ne():(n("escapeKey"),Z()))}function me(B){x!==null&&(clearTimeout(x),x=null),(B===!0||p.value===!0)&&(R(!1),e.seamless!==!0&&(r(!1),_n(ce),Xt(xe))),B!==!0&&(w=null)}function R(B){B===!0?_!==!0&&(jt<1&&document.body.classList.add("q-body--dialog"),jt++,_=!0):_===!0&&(jt<2&&document.body.classList.remove("q-body--dialog"),jt--,_=!1)}function T(B){I!==!0&&(Z(B),n("click",B))}function N(B){e.persistent!==!0&&e.noBackdropDismiss!==!0?Z(B):e.noShake!==!0&&ne()}function ce(B){e.allowFocusOutside!==!0&&z.value===!0&&zo(l.value,B.target)!==!0&&A('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:A,shake:ne,__updateRefocusTarget(B){w=B||null}}),je(me);function pe(){return q("div",{role:"dialog","aria-modal":M.value===!0?"true":"false",...o,class:D.value},[q(Jt,{name:"q-transition--fade",appear:!0},()=>M.value===!0?q("div",{class:"q-dialog__backdrop fixed-full",style:b.value,"aria-hidden":"true",tabindex:-1,onClick:N}):null),q(Jt,v.value,()=>p.value===!0?q("div",{ref:l,class:L.value,style:S.value,tabindex:-1,...te.value},et(t.default)):null)])}return K}});let tn=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,tn=e.scrollLeft>=0,e.remove()}const Ze=1e3,Jr=["start","center","end","start-force","center-force","end-force"],ci=Array.prototype.filter,Xr=window.getComputedStyle(document.body).overflowAnchor===void 0?No:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];ci.call(n,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const o=n[t];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function Tt(e,t){return e+t}function bn(e,t,n,o,i,l,p,h){const x=e===window?document.scrollingElement||document.documentElement:e,w=i===!0?"offsetWidth":"offsetHeight",_={scrollStart:0,scrollViewSize:-p-h,scrollMaxSize:0,offsetStart:-p,offsetEnd:-h};if(i===!0?(e===window?(_.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,_.scrollViewSize+=document.documentElement.clientWidth):(_.scrollStart=x.scrollLeft,_.scrollViewSize+=x.clientWidth),_.scrollMaxSize=x.scrollWidth,l===!0&&(_.scrollStart=(tn===!0?_.scrollMaxSize-_.scrollViewSize:0)-_.scrollStart)):(e===window?(_.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,_.scrollViewSize+=document.documentElement.clientHeight):(_.scrollStart=x.scrollTop,_.scrollViewSize+=x.clientHeight),_.scrollMaxSize=x.scrollHeight),n!==null)for(let I=n.previousElementSibling;I!==null;I=I.previousElementSibling)I.classList.contains("q-virtual-scroll--skip")===!1&&(_.offsetStart+=I[w]);if(o!==null)for(let I=o.nextElementSibling;I!==null;I=I.nextElementSibling)I.classList.contains("q-virtual-scroll--skip")===!1&&(_.offsetEnd+=I[w]);if(t!==e){const I=x.getBoundingClientRect(),a=t.getBoundingClientRect();i===!0?(_.offsetStart+=a.left-I.left,_.offsetEnd-=a.width):(_.offsetStart+=a.top-I.top,_.offsetEnd-=a.height),e!==window&&(_.offsetStart+=_.scrollStart),_.offsetEnd+=_.scrollMaxSize-_.offsetStart}return _}function go(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(tn===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(tn===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Dt(e,t,n,o){if(n>=o)return 0;const i=t.length,l=Math.floor(n/Ze),p=Math.floor((o-1)/Ze)+1;let h=e.slice(l,p).reduce(Tt,0);return n%Ze!==0&&(h-=t.slice(l*Ze,n).reduce(Tt,0)),o%Ze!==0&&o!==i&&(h-=t.slice(o,p*Ze).reduce(Tt,0)),h}const Yr={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Zr={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Yr};function ea({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const i=Ae(),{props:l,emit:p,proxy:h}=i,{$q:x}=h;let w,_,I,a=[],r;const c=se(0),s=se(0),u=se({}),v=se(null),S=se(null),b=se(null),E=se({from:0,to:0}),O=k(()=>l.tableColspan!==void 0?l.tableColspan:100);o===void 0&&(o=k(()=>l.virtualScrollItemSize));const z=k(()=>o.value+";"+l.virtualScrollHorizontal),K=k(()=>z.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);be(K,()=>{ie()}),be(z,Z);function Z(){ue(_,!0)}function U(R){ue(R===void 0?_:R)}function m(R,T){const N=t();if(N==null||N.nodeType===8)return;const ce=bn(N,n(),v.value,S.value,l.virtualScrollHorizontal,x.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);I!==ce.scrollViewSize&&ie(ce.scrollViewSize),M(N,ce,Math.min(e.value-1,Math.max(0,parseInt(R,10)||0)),0,Jr.indexOf(T)!==-1?T:_!==-1&&R>_?"end":"start")}function L(){const R=t();if(R==null||R.nodeType===8)return;const T=bn(R,n(),v.value,S.value,l.virtualScrollHorizontal,x.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),N=e.value-1,ce=T.scrollMaxSize-T.offsetStart-T.offsetEnd-s.value;if(w===T.scrollStart)return;if(T.scrollMaxSize<=0){M(R,T,0,0);return}I!==T.scrollViewSize&&ie(T.scrollViewSize),te(E.value.from);const pe=Math.floor(T.scrollMaxSize-Math.max(T.scrollViewSize,T.offsetEnd)-Math.min(r[N],T.scrollViewSize/2));if(pe>0&&Math.ceil(T.scrollStart)>=pe){M(R,T,N,T.scrollMaxSize-T.offsetEnd-a.reduce(Tt,0));return}let B=0,J=T.scrollStart-T.offsetStart,Se=J;if(J<=ce&&J+T.scrollViewSize>=c.value)J-=c.value,B=E.value.from,Se=J;else for(let V=0;J>=a[V]&&B<N;V++)J-=a[V],B+=Ze;for(;J>0&&B<N;)J-=r[B],J>-T.scrollViewSize?(B++,Se=J):Se=r[B]+J;M(R,T,B,Se)}function M(R,T,N,ce,pe){const B=typeof pe=="string"&&pe.indexOf("-force")!==-1,J=B===!0?pe.replace("-force",""):pe,Se=J!==void 0?J:"start";let V=Math.max(0,N-u.value[Se]),Ce=V+u.value.total;Ce>e.value&&(Ce=e.value,V=Math.max(0,Ce-u.value.total)),w=T.scrollStart;const Pe=V!==E.value.from||Ce!==E.value.to;if(Pe===!1&&J===void 0){ne(N);return}const{activeElement:We}=document,De=b.value;Pe===!0&&De!==null&&De!==We&&De.contains(We)===!0&&(De.addEventListener("focusout",D),setTimeout(()=>{De!==null&&De.removeEventListener("focusout",D)})),Xr(De,N-V);const Ke=J!==void 0?r.slice(V,N).reduce(Tt,0):0;if(Pe===!0){const H=Ce>=E.value.from&&V<=E.value.to?E.value.to:Ce;E.value={from:V,to:H},c.value=Dt(a,r,0,V),s.value=Dt(a,r,Ce,e.value),requestAnimationFrame(()=>{E.value.to!==Ce&&w===T.scrollStart&&(E.value={from:E.value.from,to:Ce},s.value=Dt(a,r,Ce,e.value))})}requestAnimationFrame(()=>{if(w!==T.scrollStart)return;Pe===!0&&te(V);const H=r.slice(V,N).reduce(Tt,0),j=H+T.offsetStart+c.value,oe=j+r[N];let ge=j+ce;if(J!==void 0){const $=H-Ke,ve=T.scrollStart+$;ge=B!==!0&&ve<j&&oe<ve+T.scrollViewSize?ve:J==="end"?oe-T.scrollViewSize:j-(J==="start"?0:Math.round((T.scrollViewSize-r[N])/2))}w=ge,go(R,ge,l.virtualScrollHorizontal,x.lang.rtl),ne(N)})}function te(R){const T=b.value;if(T){const N=ci.call(T.children,V=>V.classList&&V.classList.contains("q-virtual-scroll--skip")===!1),ce=N.length,pe=l.virtualScrollHorizontal===!0?V=>V.getBoundingClientRect().width:V=>V.offsetHeight;let B=R,J,Se;for(let V=0;V<ce;){for(J=pe(N[V]),V++;V<ce&&N[V].classList.contains("q-virtual-scroll--with-prev")===!0;)J+=pe(N[V]),V++;Se=J-r[B],Se!==0&&(r[B]+=Se,a[Math.floor(B/Ze)]+=Se),B++}}}function D(){b.value!==null&&b.value!==void 0&&b.value.focus()}function ue(R,T){const N=1*o.value;(T===!0||Array.isArray(r)===!1)&&(r=[]);const ce=r.length;r.length=e.value;for(let B=e.value-1;B>=ce;B--)r[B]=N;const pe=Math.floor((e.value-1)/Ze);a=[];for(let B=0;B<=pe;B++){let J=0;const Se=Math.min((B+1)*Ze,e.value);for(let V=B*Ze;V<Se;V++)J+=r[V];a.push(J)}_=-1,w=void 0,c.value=Dt(a,r,0,E.value.from),s.value=Dt(a,r,E.value.to,e.value),R>=0?(te(E.value.from),Ue(()=>{m(R)})):xe()}function ie(R){if(R===void 0&&typeof window!="undefined"){const J=t();J!=null&&J.nodeType!==8&&(R=bn(J,n(),v.value,S.value,l.virtualScrollHorizontal,x.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}I=R;const T=parseFloat(l.virtualScrollSliceRatioBefore)||0,N=parseFloat(l.virtualScrollSliceRatioAfter)||0,ce=1+T+N,pe=R===void 0||R<=0?1:Math.ceil(R/o.value),B=Math.max(1,pe,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/ce));u.value={total:Math.ceil(B*ce),start:Math.ceil(B*T),center:Math.ceil(B*(.5+T)),end:Math.ceil(B*(1+T)),view:pe}}function A(R,T){const N=l.virtualScrollHorizontal===!0?"width":"height",ce={["--q-virtual-scroll-item-"+N]:o.value+"px"};return[R==="tbody"?q(R,{class:"q-virtual-scroll__padding",key:"before",ref:v},[q("tr",[q("td",{style:{[N]:`${c.value}px`,...ce},colspan:O.value})])]):q(R,{class:"q-virtual-scroll__padding",key:"before",ref:v,style:{[N]:`${c.value}px`,...ce}}),q(R,{class:"q-virtual-scroll__content",key:"content",ref:b,tabindex:-1},T.flat()),R==="tbody"?q(R,{class:"q-virtual-scroll__padding",key:"after",ref:S},[q("tr",[q("td",{style:{[N]:`${s.value}px`,...ce},colspan:O.value})])]):q(R,{class:"q-virtual-scroll__padding",key:"after",ref:S,style:{[N]:`${s.value}px`,...ce}})]}function ne(R){_!==R&&(l.onVirtualScroll!==void 0&&p("virtualScroll",{index:R,from:E.value.from,to:E.value.to-1,direction:R<_?"decrease":"increase",ref:h}),_=R)}ie();const xe=Ho(L,x.platform.is.ios===!0?120:35);er(()=>{ie()});let me=!1;return Bt(()=>{me=!0}),En(()=>{if(me!==!0)return;const R=t();w!==void 0&&R!==void 0&&R!==null&&R.nodeType!==8?go(R,w,l.virtualScrollHorizontal,x.lang.rtl):m(_)}),je(()=>{xe.cancel()}),Object.assign(h,{scrollTo:m,reset:Z,refresh:U}),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:u,setVirtualScrollSize:ie,onVirtualScrollEvt:xe,localResetVirtualScroll:ue,padVirtualScroll:A,scrollTo:m,reset:Z,refresh:U}}const Bn={name:String};function ta(e){return k(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function na(e={}){return(t,n,o)=>{t[n](q("input",{class:"hidden"+(o||""),...e.value}))}}function di(e){return k(()=>e.name||e.for)}const oa=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,ia=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,ra=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,aa=/[a-z0-9_ -]$/i;function fi(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&($e.is.firefox===!0?aa.test(n.data)===!1:oa.test(n.data)===!0||ia.test(n.data)===!0||ra.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}function xt(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function vo(e,t,n){if(n<=t)return t;const o=n-t+1;let i=t+(e-t)%o;return i<t&&(i=o+i),i===0?0:i}const yo=e=>["add","add-unique","toggle"].includes(e),la=".*+?^${}()|[]\\",sa=Object.keys(sn);var Rn=Je({name:"QSelect",inheritAttrs:!1,props:{...Zr,...Bn,...sn,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:yo},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...An,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:o}=Ae(),{$q:i}=o,l=se(!1),p=se(!1),h=se(-1),x=se(""),w=se(!1),_=se(!1);let I=null,a=null,r,c,s,u=null,v,S,b,E;const O=se(null),z=se(null),K=se(null),Z=se(null),U=se(null),m=di(e),L=fi(zn),M=k(()=>Array.isArray(e.options)?e.options.length:0),te=k(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:D,virtualScrollSliceSizeComputed:ue,localResetVirtualScroll:ie,padVirtualScroll:A,onVirtualScrollEvt:ne,scrollTo:xe,setVirtualScrollSize:me}=ea({virtualScrollLength:M,getVirtualScrollTarget:wi,getVirtualScrollEl:$n,virtualScrollItemSizeComputed:te}),R=Fn(),T=k(()=>{const y=e.mapOptions===!0&&e.multiple!==!0,X=e.modelValue!==void 0&&(e.modelValue!==null||y===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const G=e.mapOptions===!0&&r!==void 0?r:[],he=X.map(ke=>P(ke,G));return e.modelValue===null&&y===!0?he.filter(ke=>ke!==null):he}return X}),N=k(()=>{const y={};return sa.forEach(X=>{const G=e[X];G!==void 0&&(y[X]=G)}),y}),ce=k(()=>e.optionsDark===null?R.isDark.value:e.optionsDark),pe=k(()=>At(T.value)),B=k(()=>{let y="q-field__input q-placeholder col";return e.hideSelected===!0||T.value.length===0?[y,e.inputClass]:(y+=" q-field__input--padding",e.inputClass===void 0?y:[y,e.inputClass])}),J=k(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Se=k(()=>M.value===0),V=k(()=>T.value.map(y=>Ie.value(y)).join(", ")),Ce=k(()=>e.displayValue!==void 0?e.displayValue:V.value),Pe=k(()=>e.optionsHtml===!0?()=>!0:y=>y!=null&&y.html===!0),We=k(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||T.value.some(Pe.value))),De=k(()=>R.focused.value===!0?e.tabindex:-1),Ke=k(()=>{const y={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${R.targetUid.value}_lb`};return h.value>=0&&(y["aria-activedescendant"]=`${R.targetUid.value}_${h.value}`),y}),H=k(()=>({id:`${R.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),j=k(()=>T.value.map((y,X)=>({index:X,opt:y,html:Pe.value(y),selected:!0,removeAtIndex:C,toggleOption:re,tabindex:De.value}))),oe=k(()=>{if(M.value===0)return[];const{from:y,to:X}=D.value;return e.options.slice(y,X).map((G,he)=>{const ke=qe.value(G)===!0,_e=ae(G)===!0,Be=y+he,Ee={clickable:!0,active:_e,activeClass:ve.value,manualFocus:!0,focused:!1,disable:ke,tabindex:-1,dense:e.optionsDense,dark:ce.value,role:"option","aria-selected":_e===!0?"true":"false",id:`${R.targetUid.value}_${Be}`,onClick:()=>{re(G)}};return ke!==!0&&(h.value===Be&&(Ee.focused=!0),i.platform.is.desktop===!0&&(Ee.onMousemove=()=>{l.value===!0&&de(Be)})),{index:Be,opt:G,html:Pe.value(G),label:Ie.value(G),selected:Ee.active,focused:Ee.focused,toggleOption:re,setOptionIndex:de,itemProps:Ee}})}),ge=k(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),$=k(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ve=k(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),we=k(()=>W(e.optionValue,"value")),Ie=k(()=>W(e.optionLabel,"label")),qe=k(()=>W(e.optionDisable,"disable")),Le=k(()=>T.value.map(y=>we.value(y))),Fe=k(()=>{const y={onInput:zn,onChange:L,onKeydown:mt,onKeyup:Oe,onKeypress:pt,onFocus:fe,onClick(X){c===!0&&Ye(X)}};return y.onCompositionstart=y.onCompositionupdate=y.onCompositionend=L,y});be(T,y=>{r=y,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&R.innerLoading.value!==!0&&(p.value!==!0&&l.value!==!0||pe.value!==!0)&&(s!==!0&&yt(),(p.value===!0||l.value===!0)&&ht(""))},{immediate:!0}),be(()=>e.fillInput,yt),be(l,cn),be(M,Ai);function f(y){return e.emitValue===!0?we.value(y):y}function g(y){if(y!==-1&&y<T.value.length)if(e.multiple===!0){const X=e.modelValue.slice();n("remove",{index:y,value:X.splice(y,1)[0]}),n("update:modelValue",X)}else n("update:modelValue",null)}function C(y){g(y),R.focus()}function F(y,X){const G=f(y);if(e.multiple!==!0){e.fillInput===!0&&Rt(Ie.value(y),!0,!0),n("update:modelValue",G);return}if(T.value.length===0){n("add",{index:0,value:G}),n("update:modelValue",e.multiple===!0?[G]:G);return}if(X===!0&&ae(y)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const he=e.modelValue.slice();n("add",{index:he.length,value:G}),he.push(G),n("update:modelValue",he)}function re(y,X){if(R.editable.value!==!0||y===void 0||qe.value(y)===!0)return;const G=we.value(y);if(e.multiple!==!0){X!==!0&&(Rt(e.fillInput===!0?Ie.value(y):"",!0,!0),rt()),z.value!==null&&z.value.focus(),(T.value.length===0||It(we.value(T.value[0]),G)!==!0)&&n("update:modelValue",e.emitValue===!0?G:y);return}if((c!==!0||w.value===!0)&&R.focus(),fe(),T.value.length===0){const _e=e.emitValue===!0?G:y;n("add",{index:0,value:_e}),n("update:modelValue",e.multiple===!0?[_e]:_e);return}const he=e.modelValue.slice(),ke=Le.value.findIndex(_e=>It(_e,G));if(ke!==-1)n("remove",{index:ke,value:he.splice(ke,1)[0]});else{if(e.maxValues!==void 0&&he.length>=e.maxValues)return;const _e=e.emitValue===!0?G:y;n("add",{index:he.length,value:_e}),he.push(_e)}n("update:modelValue",he)}function de(y){if(i.platform.is.desktop!==!0)return;const X=y!==-1&&y<M.value?y:-1;h.value!==X&&(h.value=X)}function le(y=1,X){if(l.value===!0){let G=h.value;do G=vo(G+y,-1,M.value-1);while(G!==-1&&G!==h.value&&qe.value(e.options[G])===!0);h.value!==G&&(de(G),xe(G),X!==!0&&e.useInput===!0&&e.fillInput===!0&&qt(G>=0?Ie.value(e.options[G]):v,!0))}}function P(y,X){const G=he=>It(we.value(he),y);return e.options.find(G)||X.find(G)||y}function W(y,X){const G=y!==void 0?y:X;return typeof G=="function"?G:he=>he!==null&&typeof he=="object"&&G in he?he[G]:he}function ae(y){const X=we.value(y);return Le.value.find(G=>It(G,X))!==void 0}function fe(y){e.useInput===!0&&z.value!==null&&(y===void 0||z.value===y.target&&y.target.value===V.value)&&z.value.select()}function ye(y){ln(y,27)===!0&&l.value===!0&&(Ye(y),rt(),yt()),n("keyup",y)}function Oe(y){const{value:X}=y.target;if(y.keyCode!==void 0){ye(y);return}if(y.target.value="",I!==null&&(clearTimeout(I),I=null),a!==null&&(clearTimeout(a),a=null),yt(),typeof X=="string"&&X.length!==0){const G=X.toLocaleLowerCase(),he=_e=>{const Be=e.options.find(Ee=>_e.value(Ee).toLocaleLowerCase()===G);return Be===void 0?!1:(T.value.indexOf(Be)===-1?re(Be):rt(),!0)},ke=_e=>{he(we)!==!0&&(he(Ie)===!0||_e===!0||ht(X,!0,()=>ke(!0)))};ke()}else R.clearValue(y)}function pt(y){n("keypress",y)}function mt(y){if(n("keydown",y),jo(y)===!0)return;const X=x.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),G=y.shiftKey!==!0&&e.multiple!==!0&&(h.value!==-1||X===!0);if(y.keyCode===27){Xe(y);return}if(y.keyCode===9&&G===!1){gt();return}if(y.target===void 0||y.target.id!==R.targetUid.value||R.editable.value!==!0)return;if(y.keyCode===40&&R.innerLoading.value!==!0&&l.value===!1){ze(y),vt();return}if(y.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&x.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?g(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(y.keyCode===35||y.keyCode===36)&&(typeof x.value!="string"||x.value.length===0)&&(ze(y),h.value=-1,le(y.keyCode===36?1:-1,e.multiple)),(y.keyCode===33||y.keyCode===34)&&ue.value!==void 0&&(ze(y),h.value=Math.max(-1,Math.min(M.value,h.value+(y.keyCode===33?-1:1)*ue.value.view)),le(y.keyCode===33?1:-1,e.multiple)),(y.keyCode===38||y.keyCode===40)&&(ze(y),le(y.keyCode===38?-1:1,e.multiple));const he=M.value;if((b===void 0||E<Date.now())&&(b=""),he>0&&e.useInput!==!0&&y.key!==void 0&&y.key.length===1&&y.altKey===!1&&y.ctrlKey===!1&&y.metaKey===!1&&(y.keyCode!==32||b.length!==0)){l.value!==!0&&vt(y);const ke=y.key.toLocaleLowerCase(),_e=b.length===1&&b[0]===ke;E=Date.now()+1500,_e===!1&&(ze(y),b+=ke);const Be=new RegExp("^"+b.split("").map(dn=>la.indexOf(dn)!==-1?"\\"+dn:dn).join(".*"),"i");let Ee=h.value;if(_e===!0||Ee<0||Be.test(Ie.value(e.options[Ee]))!==!0)do Ee=vo(Ee+1,-1,he-1);while(Ee!==h.value&&(qe.value(e.options[Ee])===!0||Be.test(Ie.value(e.options[Ee]))!==!0));h.value!==Ee&&Ue(()=>{de(Ee),xe(Ee),Ee>=0&&e.useInput===!0&&e.fillInput===!0&&qt(Ie.value(e.options[Ee]),!0)});return}if(!(y.keyCode!==13&&(y.keyCode!==32||e.useInput===!0||b!=="")&&(y.keyCode!==9||G===!1))){if(y.keyCode!==9&&ze(y),h.value!==-1&&h.value<he){re(e.options[h.value]);return}if(X===!0){const ke=(_e,Be)=>{if(Be){if(yo(Be)!==!0)return}else Be=e.newValueMode;if(Rt("",e.multiple!==!0,!0),_e==null)return;(Be==="toggle"?re:F)(_e,Be==="add-unique"),e.multiple!==!0&&(z.value!==null&&z.value.focus(),rt())};if(e.onNewValue!==void 0?n("newValue",x.value,ke):ke(x.value),e.multiple!==!0)return}l.value===!0?gt():R.innerLoading.value!==!0&&vt()}}function $n(){return c===!0?U.value:K.value!==null&&K.value.contentEl!==null?K.value.contentEl:void 0}function wi(){return $n()}function Ci(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?j.value.map(y=>t["selected-item"](y)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?j.value.map((y,X)=>q(Rr,{key:"option-"+X,removable:R.editable.value===!0&&qe.value(y.opt)!==!0,dense:!0,textColor:e.color,tabindex:De.value,onRemove(){y.removeAtIndex(X)}},()=>q("span",{class:"ellipsis",[y.html===!0?"innerHTML":"textContent"]:Ie.value(y.opt)}))):[q("span",{[We.value===!0?"innerHTML":"textContent"]:Ce.value})]}function Ln(){if(Se.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:x.value}):void 0;const y=t.option!==void 0?t.option:G=>q(Vo,{key:G.index,...G.itemProps},()=>q(Bo,()=>q(Hi,()=>q("span",{[G.html===!0?"innerHTML":"textContent"]:G.label}))));let X=A("div",oe.value.map(y));return t["before-options"]!==void 0&&(X=t["before-options"]().concat(X)),nr(t["after-options"],X)}function Ti(y,X){const G=X===!0?{...Ke.value,...R.splitAttrs.attributes.value}:void 0,he={ref:X===!0?z:void 0,key:"i_t",class:B.value,style:e.inputStyle,value:x.value!==void 0?x.value:"",type:"search",...G,id:X===!0?R.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":y===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Fe.value};return y!==!0&&c===!0&&(Array.isArray(he.class)===!0?he.class=[...he.class,"no-pointer-events"]:he.class+=" no-pointer-events"),q("input",he)}function zn(y){I!==null&&(clearTimeout(I),I=null),a!==null&&(clearTimeout(a),a=null),!(y&&y.target&&y.target.qComposing===!0)&&(qt(y.target.value||""),s=!0,v=x.value,R.focused.value!==!0&&(c!==!0||w.value===!0)&&R.focus(),e.onFilter!==void 0&&(I=setTimeout(()=>{I=null,ht(x.value)},e.inputDebounce)))}function qt(y,X){x.value!==y&&(x.value=y,X===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",y):a=setTimeout(()=>{a=null,n("inputValue",y)},e.inputDebounce))}function Rt(y,X,G){s=G!==!0,e.useInput===!0&&(qt(y,!0),(X===!0||G!==!0)&&(v=y),X!==!0&&ht(y))}function ht(y,X,G){if(e.onFilter===void 0||X!==!0&&R.focused.value!==!0)return;R.innerLoading.value===!0?n("filterAbort"):(R.innerLoading.value=!0,_.value=!0),y!==""&&e.multiple!==!0&&T.value.length!==0&&s!==!0&&y===Ie.value(T.value[0])&&(y="");const he=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);u!==null&&clearTimeout(u),u=he,n("filter",y,(ke,_e)=>{(X===!0||R.focused.value===!0)&&u===he&&(clearTimeout(u),typeof ke=="function"&&ke(),_.value=!1,Ue(()=>{R.innerLoading.value=!1,R.editable.value===!0&&(X===!0?l.value===!0&&rt():l.value===!0?cn(!0):l.value=!0),typeof _e=="function"&&Ue(()=>{_e(o)}),typeof G=="function"&&Ue(()=>{G(o)})}))},()=>{R.focused.value===!0&&u===he&&(clearTimeout(u),R.innerLoading.value=!1,_.value=!1),l.value===!0&&(l.value=!1)})}function _i(){return q(zr,{ref:K,class:J.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Se.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ce.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:$.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...H.value,onScrollPassive:ne,onBeforeShow:jn,onBeforeHide:ki,onShow:Ri},Ln)}function ki(y){Wn(y),gt()}function Ri(){me()}function Ii(y){Ye(y),z.value!==null&&z.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Pi(y){Ye(y),Ue(()=>{w.value=!1})}function Di(){const y=[q(_r,{class:`col-auto ${R.fieldClass.value}`,...N.value,for:R.targetUid.value,dark:ce.value,square:!0,loading:_.value,itemAligned:!1,filled:!0,stackLabel:x.value.length!==0,...R.splitAttrs.listeners.value,onFocus:Ii,onBlur:Pi},{...t,rawControl:()=>R.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&y.push(q("div",{ref:U,class:J.value+" scroll",style:e.popupContentStyle,...H.value,onClick:Xe,onScrollPassive:ne},Ln())),q(en,{ref:Z,modelValue:p.value,position:e.useInput===!0?"top":void 0,transitionShow:S,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:jn,onBeforeHide:Ei,onHide:Mi,onShow:Ui},()=>q("div",{class:"q-select__dialog"+(ce.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},y))}function Ei(y){Wn(y),Z.value!==null&&Z.value.__updateRefocusTarget(R.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),R.focused.value=!1}function Mi(y){rt(),R.focused.value===!1&&n("blur",y),yt()}function Ui(){const y=document.activeElement;(y===null||y.id!==R.targetUid.value)&&z.value!==null&&z.value!==y&&z.value.focus(),me()}function gt(){p.value!==!0&&(h.value=-1,l.value===!0&&(l.value=!1),R.focused.value===!1&&(u!==null&&(clearTimeout(u),u=null),R.innerLoading.value===!0&&(n("filterAbort"),R.innerLoading.value=!1,_.value=!1)))}function vt(y){R.editable.value===!0&&(c===!0?(R.onControlFocusin(y),p.value=!0,Ue(()=>{R.focus()})):R.focus(),e.onFilter!==void 0?ht(x.value):(Se.value!==!0||t["no-option"]!==void 0)&&(l.value=!0))}function rt(){p.value=!1,gt()}function yt(){e.useInput===!0&&Rt(e.multiple!==!0&&e.fillInput===!0&&T.value.length!==0&&Ie.value(T.value[0])||"",!0,!0)}function cn(y){let X=-1;if(y===!0){if(T.value.length!==0){const G=we.value(T.value[0]);X=e.options.findIndex(he=>It(we.value(he),G))}ie(X)}de(X)}function Ai(y,X){l.value===!0&&R.innerLoading.value===!1&&(ie(-1,!0),Ue(()=>{l.value===!0&&R.innerLoading.value===!1&&(y>X?ie():cn(!0))}))}function Nn(){p.value===!1&&K.value!==null&&K.value.updatePosition()}function jn(y){y!==void 0&&Ye(y),n("popupShow",y),R.hasPopupOpen=!0,R.onControlFocusin(y)}function Wn(y){y!==void 0&&Ye(y),n("popupHide",y),R.hasPopupOpen=!1,R.onControlFocusout(y)}function Kn(){c=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Se.value===!1:!0),S=i.platform.is.ios===!0&&c===!0&&e.useInput===!0?"fade":e.transitionShow}return $o(Kn),tr(Nn),Kn(),je(()=>{I!==null&&clearTimeout(I),a!==null&&clearTimeout(a)}),Object.assign(o,{showPopup:vt,hidePopup:rt,removeAtIndex:g,add:F,toggleOption:re,getOptionIndex:()=>h.value,setOptionIndex:de,moveOptionSelection:le,filter:ht,updateMenuPosition:Nn,updateInputValue:Rt,isOptionSelected:ae,getEmittingOptionValue:f,isOptionDisabled:(...y)=>qe.value.apply(null,y)===!0,getOptionValue:(...y)=>we.value.apply(null,y),getOptionLabel:(...y)=>Ie.value.apply(null,y)}),Object.assign(R,{innerValue:T,fieldClass:k(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:O,targetRef:z,hasValue:pe,showPopup:vt,floatingLabel:k(()=>e.hideSelected!==!0&&pe.value===!0||typeof x.value=="number"||x.value.length!==0||At(e.displayValue)),getControlChild:()=>{if(R.editable.value!==!1&&(p.value===!0||Se.value!==!0||t["no-option"]!==void 0))return c===!0?Di():_i();R.hasPopupOpen===!0&&(R.hasPopupOpen=!1)},controlEvents:{onFocusin(y){R.onControlFocusin(y)},onFocusout(y){R.onControlFocusout(y,()=>{yt(),gt()})},onClick(y){if(Xe(y),c!==!0&&l.value===!0){gt(),z.value!==null&&z.value.focus();return}vt(y)}},getControl:y=>{const X=Ci(),G=y===!0||p.value!==!0||c!==!0;if(e.useInput===!0)X.push(Ti(y,G));else if(R.editable.value===!0){const ke=G===!0?Ke.value:void 0;X.push(q("input",{ref:G===!0?z:void 0,key:"d_t",class:"q-select__focus-target",id:G===!0?R.targetUid.value:void 0,value:Ce.value,readonly:!0,"data-autofocus":y===!0||e.autofocus===!0||void 0,...ke,onKeydown:mt,onKeyup:ye,onKeypress:pt})),G===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&X.push(q("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Oe}))}if(m.value!==void 0&&e.disable!==!0&&Le.value.length!==0){const ke=Le.value.map(_e=>q("option",{value:_e,selected:!0}));X.push(q("select",{class:"hidden",name:m.value,multiple:e.multiple},ke))}const he=e.useInput===!0||G!==!0?void 0:R.splitAttrs.attributes.value;return q("div",{class:"q-field__native row items-center",...he,...R.splitAttrs.listeners.value},X)},getInnerAppend:()=>e.loading!==!0&&_.value!==!0&&e.hideDropdownIcon!==!0?[q(wt,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:ge.value})]:null}),On(R)}});const So={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},nn={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},pi=Object.keys(nn);pi.forEach(e=>{nn[e].regex=new RegExp(nn[e].pattern)});const ua=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+pi.join("")+"])|(.)","g"),bo=/[.*+?^${}()|[\]\\]/g,Me=String.fromCharCode(1),ca={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function da(e,t,n,o){let i,l,p,h,x,w;const _=se(null),I=se(r());function a(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}be(()=>e.type+e.autogrow,s),be(()=>e.mask,U=>{if(U!==void 0)u(I.value,!0);else{const m=K(I.value);s(),e.modelValue!==m&&t("update:modelValue",m)}}),be(()=>e.fillMask+e.reverseFillMask,()=>{_.value===!0&&u(I.value,!0)}),be(()=>e.unmaskedValue,()=>{_.value===!0&&u(I.value)});function r(){if(s(),_.value===!0){const U=O(K(e.modelValue));return e.fillMask!==!1?Z(U):U}return e.modelValue}function c(U){if(U<i.length)return i.slice(-U);let m="",L=i;const M=L.indexOf(Me);if(M!==-1){for(let te=U-L.length;te>0;te--)m+=Me;L=L.slice(0,M)+m+L.slice(M)}return L}function s(){if(_.value=e.mask!==void 0&&e.mask.length!==0&&a(),_.value===!1){h=void 0,i="",l="";return}const U=So[e.mask]===void 0?e.mask:So[e.mask],m=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",L=m.replace(bo,"\\$&"),M=[],te=[],D=[];let ue=e.reverseFillMask===!0,ie="",A="";U.replace(ua,(R,T,N,ce,pe)=>{if(ce!==void 0){const B=nn[ce];D.push(B),A=B.negate,ue===!0&&(te.push("(?:"+A+"+)?("+B.pattern+"+)?(?:"+A+"+)?("+B.pattern+"+)?"),ue=!1),te.push("(?:"+A+"+)?("+B.pattern+")?")}else if(N!==void 0)ie="\\"+(N==="\\"?"":N),D.push(N),M.push("([^"+ie+"]+)?"+ie+"?");else{const B=T!==void 0?T:pe;ie=B==="\\"?"\\\\\\\\":B.replace(bo,"\\\\$&"),D.push(B),M.push("([^"+ie+"]+)?"+ie+"?")}});const ne=new RegExp("^"+M.join("")+"("+(ie===""?".":"[^"+ie+"]")+"+)?"+(ie===""?"":"["+ie+"]*")+"$"),xe=te.length-1,me=te.map((R,T)=>T===0&&e.reverseFillMask===!0?new RegExp("^"+L+"*"+R):T===xe?new RegExp("^"+R+"("+(A===""?".":A)+"+)?"+(e.reverseFillMask===!0?"$":L+"*")):new RegExp("^"+R));p=D,h=R=>{const T=ne.exec(e.reverseFillMask===!0?R:R.slice(0,D.length+1));T!==null&&(R=T.slice(1).join(""));const N=[],ce=me.length;for(let pe=0,B=R;pe<ce;pe++){const J=me[pe].exec(B);if(J===null)break;B=B.slice(J.shift().length),N.push(...J)}return N.length!==0?N.join(""):R},i=D.map(R=>typeof R=="string"?R:Me).join(""),l=i.split(Me).join(m)}function u(U,m,L){const M=o.value,te=M.selectionEnd,D=M.value.length-te,ue=K(U);m===!0&&s();const ie=O(ue),A=e.fillMask!==!1?Z(ie):ie,ne=I.value!==A;M.value!==A&&(M.value=A),ne===!0&&(I.value=A),document.activeElement===M&&Ue(()=>{if(A===l){const me=e.reverseFillMask===!0?l.length:0;M.setSelectionRange(me,me,"forward");return}if(L==="insertFromPaste"&&e.reverseFillMask!==!0){const me=M.selectionEnd;let R=te-1;for(let T=x;T<=R&&T<me;T++)i[T]!==Me&&R++;S.right(M,R);return}if(["deleteContentBackward","deleteContentForward"].indexOf(L)!==-1){const me=e.reverseFillMask===!0?te===0?A.length>ie.length?1:0:Math.max(0,A.length-(A===l?0:Math.min(ie.length,D)+1))+1:te;M.setSelectionRange(me,me,"forward");return}if(e.reverseFillMask===!0)if(ne===!0){const me=Math.max(0,A.length-(A===l?0:Math.min(ie.length,D+1)));me===1&&te===1?M.setSelectionRange(me,me,"forward"):S.rightReverse(M,me)}else{const me=A.length-D;M.setSelectionRange(me,me,"backward")}else if(ne===!0){const me=Math.max(0,i.indexOf(Me),Math.min(ie.length,te)-1);S.right(M,me)}else{const me=te-1;S.right(M,me)}});const xe=e.unmaskedValue===!0?K(A):A;String(e.modelValue)!==xe&&(e.modelValue!==null||xe!=="")&&n(xe,!0)}function v(U,m,L){const M=O(K(U.value));m=Math.max(0,i.indexOf(Me),Math.min(M.length,m)),x=m,U.setSelectionRange(m,L,"forward")}const S={left(U,m){const L=i.slice(m-1).indexOf(Me)===-1;let M=Math.max(0,m-1);for(;M>=0;M--)if(i[M]===Me){m=M,L===!0&&m++;break}if(M<0&&i[m]!==void 0&&i[m]!==Me)return S.right(U,0);m>=0&&U.setSelectionRange(m,m,"backward")},right(U,m){const L=U.value.length;let M=Math.min(L,m+1);for(;M<=L;M++)if(i[M]===Me){m=M;break}else i[M-1]===Me&&(m=M);if(M>L&&i[m-1]!==void 0&&i[m-1]!==Me)return S.left(U,L);U.setSelectionRange(m,m,"forward")},leftReverse(U,m){const L=c(U.value.length);let M=Math.max(0,m-1);for(;M>=0;M--)if(L[M-1]===Me){m=M;break}else if(L[M]===Me&&(m=M,M===0))break;if(M<0&&L[m]!==void 0&&L[m]!==Me)return S.rightReverse(U,0);m>=0&&U.setSelectionRange(m,m,"backward")},rightReverse(U,m){const L=U.value.length,M=c(L),te=M.slice(0,m+1).indexOf(Me)===-1;let D=Math.min(L,m+1);for(;D<=L;D++)if(M[D-1]===Me){m=D,m>0&&te===!0&&m--;break}if(D>L&&M[m-1]!==void 0&&M[m-1]!==Me)return S.leftReverse(U,L);U.setSelectionRange(m,m,"forward")}};function b(U){t("click",U),w=void 0}function E(U){if(t("keydown",U),jo(U)===!0||U.altKey===!0)return;const m=o.value,L=m.selectionStart,M=m.selectionEnd;if(U.shiftKey||(w=void 0),U.keyCode===37||U.keyCode===39){U.shiftKey&&w===void 0&&(w=m.selectionDirection==="forward"?L:M);const te=S[(U.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(U.preventDefault(),te(m,w===L?M:L),U.shiftKey){const D=m.selectionStart;m.setSelectionRange(Math.min(w,D),Math.max(w,D),"forward")}}else U.keyCode===8&&e.reverseFillMask!==!0&&L===M?(S.left(m,L),m.setSelectionRange(m.selectionStart,M,"backward")):U.keyCode===46&&e.reverseFillMask===!0&&L===M&&(S.rightReverse(m,M),m.setSelectionRange(L,m.selectionEnd,"forward"))}function O(U){if(U==null||U==="")return"";if(e.reverseFillMask===!0)return z(U);const m=p;let L=0,M="";for(let te=0;te<m.length;te++){const D=U[L],ue=m[te];if(typeof ue=="string")M+=ue,D===ue&&L++;else if(D!==void 0&&ue.regex.test(D))M+=ue.transform!==void 0?ue.transform(D):D,L++;else return M}return M}function z(U){const m=p,L=i.indexOf(Me);let M=U.length-1,te="";for(let D=m.length-1;D>=0&&M!==-1;D--){const ue=m[D];let ie=U[M];if(typeof ue=="string")te=ue+te,ie===ue&&M--;else if(ie!==void 0&&ue.regex.test(ie))do te=(ue.transform!==void 0?ue.transform(ie):ie)+te,M--,ie=U[M];while(L===D&&ie!==void 0&&ue.regex.test(ie));else return te}return te}function K(U){return typeof U!="string"||h===void 0?typeof U=="number"?h(""+U):U:h(U)}function Z(U){return l.length-U.length<=0?U:e.reverseFillMask===!0&&U.length!==0?l.slice(0,-U.length)+U:U+l.slice(U.length)}return{innerValue:I,hasMask:_,moveCursorForPaste:v,updateMaskValue:u,onMaskedKeydown:E,onMaskedClick:b}}function fa(e,t){function n(){const o=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(l=>{i.items.add(l)}),{files:i.files}}catch{return{files:void 0}}}return t===!0?k(()=>{if(e.type==="file")return n()}):k(n)}var He=Je({name:"QInput",inheritAttrs:!1,props:{...sn,...ca,...Bn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...An,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=Ae(),{$q:i}=o,l={};let p=NaN,h,x,w=null,_;const I=se(null),a=di(e),{innerValue:r,hasMask:c,moveCursorForPaste:s,updateMaskValue:u,onMaskedKeydown:v,onMaskedClick:S}=da(e,t,ie,I),b=fa(e,!0),E=k(()=>At(r.value)),O=fi(D),z=Fn(),K=k(()=>e.type==="textarea"||e.autogrow===!0),Z=k(()=>K.value===!0||["text","search","url","tel","password"].includes(e.type)),U=k(()=>{const T={...z.splitAttrs.listeners.value,onInput:D,onPaste:te,onChange:ne,onBlur:xe,onFocus:Ye};return T.onCompositionstart=T.onCompositionupdate=T.onCompositionend=O,c.value===!0&&(T.onKeydown=v,T.onClick=S),e.autogrow===!0&&(T.onAnimationend=ue),T}),m=k(()=>{const T={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:a.value,...z.splitAttrs.attributes.value,id:z.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return K.value===!1&&(T.type=e.type),e.autogrow===!0&&(T.rows=1),T});be(()=>e.type,()=>{I.value&&(I.value.value=e.modelValue)}),be(()=>e.modelValue,T=>{if(c.value===!0){if(x===!0&&(x=!1,String(T)===p))return;u(T)}else r.value!==T&&(r.value=T,e.type==="number"&&l.hasOwnProperty("value")===!0&&(h===!0?h=!1:delete l.value));e.autogrow===!0&&Ue(A)}),be(()=>e.autogrow,T=>{T===!0?Ue(A):I.value!==null&&n.rows>0&&(I.value.style.height="auto")}),be(()=>e.dense,()=>{e.autogrow===!0&&Ue(A)});function L(){Vt(()=>{const T=document.activeElement;I.value!==null&&I.value!==T&&(T===null||T.id!==z.targetUid.value)&&I.value.focus({preventScroll:!0})})}function M(){I.value!==null&&I.value.select()}function te(T){if(c.value===!0&&e.reverseFillMask!==!0){const N=T.target;s(N,N.selectionStart,N.selectionEnd)}t("paste",T)}function D(T){if(!T||!T.target)return;if(e.type==="file"){t("update:modelValue",T.target.files);return}const N=T.target.value;if(T.target.qComposing===!0){l.value=N;return}if(c.value===!0)u(N,!1,T.inputType);else if(ie(N),Z.value===!0&&T.target===document.activeElement){const{selectionStart:ce,selectionEnd:pe}=T.target;ce!==void 0&&pe!==void 0&&Ue(()=>{T.target===document.activeElement&&N.indexOf(T.target.value)===0&&T.target.setSelectionRange(ce,pe)})}e.autogrow===!0&&A()}function ue(T){t("animationend",T),A()}function ie(T,N){_=()=>{w=null,e.type!=="number"&&l.hasOwnProperty("value")===!0&&delete l.value,e.modelValue!==T&&p!==T&&(p=T,N===!0&&(x=!0),t("update:modelValue",T),Ue(()=>{p===T&&(p=NaN)})),_=void 0},e.type==="number"&&(h=!0,l.value=T),e.debounce!==void 0?(w!==null&&clearTimeout(w),l.value=T,w=setTimeout(_,e.debounce)):_()}function A(){requestAnimationFrame(()=>{const T=I.value;if(T!==null){const N=T.parentNode.style,{scrollTop:ce}=T,{overflowY:pe,maxHeight:B}=i.platform.is.firefox===!0?{}:window.getComputedStyle(T),J=pe!==void 0&&pe!=="scroll";J===!0&&(T.style.overflowY="hidden"),N.marginBottom=T.scrollHeight-1+"px",T.style.height="1px",T.style.height=T.scrollHeight+"px",J===!0&&(T.style.overflowY=parseInt(B,10)<T.scrollHeight?"auto":"hidden"),N.marginBottom="",T.scrollTop=ce}})}function ne(T){O(T),w!==null&&(clearTimeout(w),w=null),_!==void 0&&_(),t("change",T.target.value)}function xe(T){T!==void 0&&Ye(T),w!==null&&(clearTimeout(w),w=null),_!==void 0&&_(),h=!1,x=!1,delete l.value,e.type!=="file"&&setTimeout(()=>{I.value!==null&&(I.value.value=r.value!==void 0?r.value:"")})}function me(){return l.hasOwnProperty("value")===!0?l.value:r.value!==void 0?r.value:""}je(()=>{xe()}),ft(()=>{e.autogrow===!0&&A()}),Object.assign(z,{innerValue:r,fieldClass:k(()=>`q-${K.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:k(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:I,emitValue:ie,hasValue:E,floatingLabel:k(()=>E.value===!0&&(e.type!=="number"||isNaN(r.value)===!1)||At(e.displayValue)),getControl:()=>q(K.value===!0?"textarea":"input",{ref:I,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...m.value,...U.value,...e.type!=="file"?{value:me()}:b.value}),getShadowControl:()=>q("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(K.value===!0?"":" text-no-wrap")},[q("span",{class:"invisible"},me()),q("span",e.shadowText)])});const R=On(z);return Object.assign(o,{focus:L,select:M,getNativeElement:()=>I.value}),Dn(o,"nativeEl",()=>I.value),R}}),pa=Je({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const o=Ae(),i=se(null);let l=0;const p=[];function h(r){const c=typeof r=="boolean"?r:e.noErrorFocus!==!0,s=++l,u=(b,E)=>{n("validation"+(b===!0?"Success":"Error"),E)},v=b=>{const E=b.validate();return typeof E.then=="function"?E.then(O=>({valid:O,comp:b}),O=>({valid:!1,comp:b,err:O})):Promise.resolve({valid:E,comp:b})};return(e.greedy===!0?Promise.all(p.map(v)).then(b=>b.filter(E=>E.valid!==!0)):p.reduce((b,E)=>b.then(()=>v(E).then(O=>{if(O.valid===!1)return Promise.reject(O)})),Promise.resolve()).catch(b=>[b])).then(b=>{if(b===void 0||b.length===0)return s===l&&u(!0),!0;if(s===l){const{comp:E,err:O}=b[0];if(O!==void 0&&console.error(O),u(!1,E),c===!0){const z=b.find(({comp:K})=>typeof K.focus=="function"&&Mn(K.$)===!1);z!==void 0&&z.comp.focus()}}return!1})}function x(){l++,p.forEach(r=>{typeof r.resetValidation=="function"&&r.resetValidation()})}function w(r){r!==void 0&&ze(r);const c=l+1;h().then(s=>{c===l&&s===!0&&(e.onSubmit!==void 0?n("submit",r):r!==void 0&&r.target!==void 0&&typeof r.target.submit=="function"&&r.target.submit())})}function _(r){r!==void 0&&ze(r),n("reset"),Ue(()=>{x(),e.autofocus===!0&&e.noResetFocus!==!0&&I()})}function I(){Vt(()=>{if(i.value===null)return;const r=i.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(i.value.querySelectorAll("[tabindex]"),c=>c.tabIndex!==-1);r!=null&&r.focus({preventScroll:!0})})}or(qo,{bindComponent(r){p.push(r)},unbindComponent(r){const c=p.indexOf(r);c!==-1&&p.splice(c,1)}});let a=!1;return Bt(()=>{a=!0}),En(()=>{a===!0&&e.autofocus===!0&&I()}),ft(()=>{e.autofocus===!0&&I()}),Object.assign(o.proxy,{validate:h,resetValidation:x,submit:w,reset:_,focus:I,getValidationComponents:()=>p}),()=>q("form",{class:"q-form",ref:i,onSubmit:w,onReset:_},et(t.default))}}),ma=Je({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Ae(),o=Cn(ir,St);if(o===St)return console.error("QPage needs to be a deep child of QLayout"),St;if(Cn(rr,St)===St)return console.error("QPage needs to be child of QPageContainer"),St;const l=k(()=>{const h=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const x=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(h,x)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-h+"px":n.screen.height===0?h!==0?`calc(100vh - ${h}px)`:"100vh":n.screen.height-h+"px"}}),p=k(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>q("main",{class:p.value,style:l.value},et(t.default))}});const ha={id:"IdCardFront",class:"front-id",style:{"background-color":"aqua",height:"12.75cm",width:"8.1cm","font-size":"7pt",position:"relative","background-image":"url('/images/lgu_id_front.png')","background-position":"center","background-size":"contain"}},ga={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"75px",left:"5px","font-size":"12pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},va={style:{width:"169px",height:"168px","border-radius":"100%",position:"absolute",top:"80px",left:"81px",border:"1px solid #058040",overflow:"hidden"}},ya=["src"],Sa={style:{"text-align":"left",position:"absolute",top:"260px",left:"172px","font-size":"13pt","font-weight":"500"}},xo=Object.assign({name:"IdCardFront",data(){return{imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&this.$nextTick(()=>{this.getPhoto()})}},methods:{getPhoto(){this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/test.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e}).catch(e=>{console.error(e)})}}},{__name:"IdCardFront",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(it(),dt("div",ha,[Y("div",ga,Re(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),Y("div",va,[Y("img",{src:t.imgSrcFromServer,style:Ht([{position:"relative"},`top:${e.photoFormat.top}px; left: ${e.photoFormat.left}px; transform: scale(${e.photoFormat.scale})`])},null,12,ya)]),Y("div",Sa,Re(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1),Y("div",{style:Ht([`font-size:${e.textFormat.lastName.font_size}px; bottom: ${e.textFormat.lastName.bottom}px;
        left: ${e.textFormat.lastName.left}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},Re(e.details.lastName)+Re(e.details.extName?", "+e.details.extName:""),5),Y("div",{style:Ht([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size}px; bottom: ${e.textFormat.firstName.bottom}px;
        left: ${e.textFormat.firstName.left}px; `])},Re(e.details.firstName)+" "+Re(e.details.middleName?e.details.middleName[0]+". ":""),5),Y("div",{style:Ht([{width:"258px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size}px; bottom: ${e.textFormat.position.bottom}px;
        left: ${e.textFormat.position.left}px; line-height: ${e.textFormat.position.line_height}px;`])},Re(e.details.position),5)]))}});var on=Je({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=k(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>q(e.tag,{class:n.value},et(t.default))}}),In=Je({name:"QCard",props:{...Ft,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Ae(),o=Ot(e,n),i=k(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>q(e.tag,{class:i.value},et(t.default))}}),ba="/assets/get_sig.0d2f964a.png";/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){var e=!1;try{throw new Error}catch(f){e=!!f.stack}var t=Z(),n,o=function(){},i=function(){var f={task:void 0,next:null},g=f,C=!1,F=void 0,re=!1,de=[];function le(){for(var fe,ye;f.next;)f=f.next,fe=f.task,f.task=void 0,ye=f.domain,ye&&(f.domain=void 0,ye.enter()),P(fe,ye);for(;de.length;)fe=de.pop(),P(fe);C=!1}function P(fe,ye){try{fe()}catch(Oe){if(re)throw ye&&ye.exit(),setTimeout(le,0),ye&&ye.enter(),Oe;setTimeout(function(){throw Oe},0)}ye&&ye.exit()}if(i=function(fe){g=g.next={task:fe,domain:re&&process.domain,next:null},C||(C=!0,F())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)re=!0,F=function(){process.nextTick(le)};else if(typeof setImmediate=="function")typeof window!="undefined"?F=setImmediate.bind(window,le):F=function(){setImmediate(le)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel;W.port1.onmessage=function(){F=ae,W.port1.onmessage=le,le()};var ae=function(){W.port2.postMessage(0)};F=function(){setTimeout(le,0),ae()}}else F=function(){setTimeout(le,0)};return i.runAfter=function(fe){de.push(fe),C||(C=!0,F())},i}(),l=Function.call;function p(f){return function(){return l.apply(f,arguments)}}var h=p(Array.prototype.slice),x=p(Array.prototype.reduce||function(f,g){var C=0,F=this.length;if(arguments.length===1)do{if(C in this){g=this[C++];break}if(++C>=F)throw new TypeError}while(1);for(;C<F;C++)C in this&&(g=f(g,this[C],C));return g}),w=p(Array.prototype.indexOf||function(f){for(var g=0;g<this.length;g++)if(this[g]===f)return g;return-1}),_=p(Array.prototype.map||function(f,g){var C=this,F=[];return x(C,function(re,de,le){F.push(f.call(g,de,le,C))},void 0),F}),I=Object.create||function(f){function g(){}return g.prototype=f,new g},a=p(Object.prototype.hasOwnProperty),r=Object.keys||function(f){var g=[];for(var C in f)a(f,C)&&g.push(C);return g},c=p(Object.prototype.toString);function s(f){return f===Object(f)}function u(f){return c(f)==="[object StopIteration]"||f instanceof v}var v;typeof ReturnValue!="undefined"?v=ReturnValue:v=function(f){this.value=f};var S="From previous event:";function b(f,g){if(e&&g.stack&&typeof f=="object"&&f!==null&&f.stack&&f.stack.indexOf(S)===-1){for(var C=[],F=g;F;F=F.source)F.stack&&C.unshift(F.stack);C.unshift(f.stack);var re=C.join(`
`+S+`
`);f.stack=E(re)}}function E(f){for(var g=f.split(`
`),C=[],F=0;F<g.length;++F){var re=g[F];!K(re)&&!O(re)&&re&&C.push(re)}return C.join(`
`)}function O(f){return f.indexOf("(module.js:")!==-1||f.indexOf("(node.js:")!==-1}function z(f){var g=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(f);if(g)return[g[1],Number(g[2])];var C=/at ([^ ]+):(\d+):(?:\d+)$/.exec(f);if(C)return[C[1],Number(C[2])];var F=/.*@(.+):(\d+)$/.exec(f);if(F)return[F[1],Number(F[2])]}function K(f){var g=z(f);if(!g)return!1;var C=g[0],F=g[1];return C===n&&F>=t&&F<=Fe}function Z(){if(!!e)try{throw new Error}catch(F){var f=F.stack.split(`
`),g=f[0].indexOf("@")>0?f[1]:f[2],C=z(g);return C?(n=C[0],C[1]):void 0}}function U(f,g,C){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(g+" is deprecated, use "+C+" instead.",new Error("").stack),f.apply(f,arguments)}}function m(f){return f instanceof D?f:ne(f)?Pe(f):Ce(f)}m.resolve=m,m.nextTick=i,m.longStackSupport=!1,typeof process=="object"&&process&&process.env&&{}.Q_DEBUG&&(m.longStackSupport=!0),m.defer=L;function L(){var f=[],g=[],C,F=I(L.prototype),re=I(D.prototype);if(re.promiseDispatch=function(le,P,W){var ae=h(arguments);f?(f.push(ae),P==="when"&&W[1]&&g.push(W[1])):m.nextTick(function(){C.promiseDispatch.apply(C,ae)})},re.valueOf=function(){if(f)return re;var le=ie(C);return A(le)&&(C=le),le},re.inspect=function(){return C?C.inspect():{state:"pending"}},m.longStackSupport&&e)try{throw new Error}catch(le){re.stack=le.stack.substring(le.stack.indexOf(`
`)+1)}function de(le){C=le,re.source=le,x(f,function(P,W){m.nextTick(function(){le.promiseDispatch.apply(le,W)})},void 0),f=void 0,g=void 0}return F.promise=re,F.resolve=function(le){C||de(m(le))},F.fulfill=function(le){C||de(Ce(le))},F.reject=function(le){C||de(V(le))},F.notify=function(le){C||x(g,function(P,W){m.nextTick(function(){W(le)})},void 0)},F}L.prototype.makeNodeResolver=function(){var f=this;return function(g,C){g?f.reject(g):arguments.length>2?f.resolve(h(arguments,1)):f.resolve(C)}},m.Promise=M,m.promise=M;function M(f){if(typeof f!="function")throw new TypeError("resolver must be a function.");var g=L();try{f(g.resolve,g.reject,g.notify)}catch(C){g.reject(C)}return g.promise}M.race=te,M.all=$,M.reject=V,M.resolve=m,m.passByCopy=function(f){return f},D.prototype.passByCopy=function(){return this},m.join=function(f,g){return m(f).join(g)},D.prototype.join=function(f){return m([this,f]).spread(function(g,C){if(g===C)return g;throw new Error("Q can't join: not the same: "+g+" "+C)})},m.race=te;function te(f){return M(function(g,C){for(var F=0,re=f.length;F<re;F++)m(f[F]).then(g,C)})}D.prototype.race=function(){return this.then(m.race)},m.makePromise=D;function D(f,g,C){g===void 0&&(g=function(de){return V(new Error("Promise does not support operation: "+de))}),C===void 0&&(C=function(){return{state:"unknown"}});var F=I(D.prototype);if(F.promiseDispatch=function(de,le,P){var W;try{f[le]?W=f[le].apply(F,P):W=g.call(F,le,P)}catch(ae){W=V(ae)}de&&de(W)},F.inspect=C,C){var re=C();re.state==="rejected"&&(F.exception=re.reason),F.valueOf=function(){var de=C();return de.state==="pending"||de.state==="rejected"?F:de.value}}return F}D.prototype.toString=function(){return"[object Promise]"},D.prototype.then=function(f,g,C){var F=this,re=L(),de=!1;function le(ae){try{return typeof f=="function"?f(ae):ae}catch(fe){return V(fe)}}function P(ae){if(typeof g=="function"){b(ae,F);try{return g(ae)}catch(fe){return V(fe)}}return V(ae)}function W(ae){return typeof C=="function"?C(ae):ae}return m.nextTick(function(){F.promiseDispatch(function(ae){de||(de=!0,re.resolve(le(ae)))},"when",[function(ae){de||(de=!0,re.resolve(P(ae)))}])}),F.promiseDispatch(void 0,"when",[void 0,function(ae){var fe,ye=!1;try{fe=W(ae)}catch(Oe){if(ye=!0,m.onerror)m.onerror(Oe);else throw Oe}ye||re.notify(fe)}]),re.promise},m.tap=function(f,g){return m(f).tap(g)},D.prototype.tap=function(f){return f=m(f),this.then(function(g){return f.fcall(g).thenResolve(g)})},m.when=ue;function ue(f,g,C,F){return m(f).then(g,C,F)}D.prototype.thenResolve=function(f){return this.then(function(){return f})},m.thenResolve=function(f,g){return m(f).thenResolve(g)},D.prototype.thenReject=function(f){return this.then(function(){throw f})},m.thenReject=function(f,g){return m(f).thenReject(g)},m.nearer=ie;function ie(f){if(A(f)){var g=f.inspect();if(g.state==="fulfilled")return g.value}return f}m.isPromise=A;function A(f){return f instanceof D}m.isPromiseAlike=ne;function ne(f){return s(f)&&typeof f.then=="function"}m.isPending=xe;function xe(f){return A(f)&&f.inspect().state==="pending"}D.prototype.isPending=function(){return this.inspect().state==="pending"},m.isFulfilled=me;function me(f){return!A(f)||f.inspect().state==="fulfilled"}D.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},m.isRejected=R;function R(f){return A(f)&&f.inspect().state==="rejected"}D.prototype.isRejected=function(){return this.inspect().state==="rejected"};var T=[],N=[],ce=[],pe=!0;function B(){T.length=0,N.length=0,pe||(pe=!0)}function J(f,g){!pe||(typeof process=="object"&&typeof process.emit=="function"&&m.nextTick.runAfter(function(){w(N,f)!==-1&&(process.emit("unhandledRejection",g,f),ce.push(f))}),N.push(f),g&&typeof g.stack!="undefined"?T.push(g.stack):T.push("(no stack) "+g))}function Se(f){if(!!pe){var g=w(N,f);g!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&m.nextTick.runAfter(function(){var C=w(ce,f);C!==-1&&(process.emit("rejectionHandled",T[g],f),ce.splice(C,1))}),N.splice(g,1),T.splice(g,1))}}m.resetUnhandledRejections=B,m.getUnhandledReasons=function(){return T.slice()},m.stopUnhandledRejectionTracking=function(){B(),pe=!1},B(),m.reject=V;function V(f){var g=D({when:function(C){return C&&Se(this),C?C(f):this}},function(){return this},function(){return{state:"rejected",reason:f}});return J(g,f),g}m.fulfill=Ce;function Ce(f){return D({when:function(){return f},get:function(g){return f[g]},set:function(g,C){f[g]=C},delete:function(g){delete f[g]},post:function(g,C){return g==null?f.apply(void 0,C):f[g].apply(f,C)},apply:function(g,C){return f.apply(g,C)},keys:function(){return r(f)}},void 0,function(){return{state:"fulfilled",value:f}})}function Pe(f){var g=L();return m.nextTick(function(){try{f.then(g.resolve,g.reject,g.notify)}catch(C){g.reject(C)}}),g.promise}m.master=We;function We(f){return D({isDef:function(){}},function(C,F){return ge(f,C,F)},function(){return m(f).inspect()})}m.spread=De;function De(f,g,C){return m(f).spread(g,C)}D.prototype.spread=function(f,g){return this.all().then(function(C){return f.apply(void 0,C)},g)},m.async=Ke;function Ke(f){return function(){function g(de,le){var P;if(typeof StopIteration=="undefined"){try{P=C[de](le)}catch(W){return V(W)}return P.done?m(P.value):ue(P.value,F,re)}else{try{P=C[de](le)}catch(W){return u(W)?m(W.value):V(W)}return ue(P,F,re)}}var C=f.apply(this,arguments),F=g.bind(g,"next"),re=g.bind(g,"throw");return F()}}m.spawn=H;function H(f){m.done(m.async(f)())}m.return=j;function j(f){throw new v(f)}m.promised=oe;function oe(f){return function(){return De([this,$(arguments)],function(g,C){return f.apply(g,C)})}}m.dispatch=ge;function ge(f,g,C){return m(f).dispatch(g,C)}D.prototype.dispatch=function(f,g){var C=this,F=L();return m.nextTick(function(){C.promiseDispatch(F.resolve,f,g)}),F.promise},m.get=function(f,g){return m(f).dispatch("get",[g])},D.prototype.get=function(f){return this.dispatch("get",[f])},m.set=function(f,g,C){return m(f).dispatch("set",[g,C])},D.prototype.set=function(f,g){return this.dispatch("set",[f,g])},m.del=m.delete=function(f,g){return m(f).dispatch("delete",[g])},D.prototype.del=D.prototype.delete=function(f){return this.dispatch("delete",[f])},m.mapply=m.post=function(f,g,C){return m(f).dispatch("post",[g,C])},D.prototype.mapply=D.prototype.post=function(f,g){return this.dispatch("post",[f,g])},m.send=m.mcall=m.invoke=function(f,g){return m(f).dispatch("post",[g,h(arguments,2)])},D.prototype.send=D.prototype.mcall=D.prototype.invoke=function(f){return this.dispatch("post",[f,h(arguments,1)])},m.fapply=function(f,g){return m(f).dispatch("apply",[void 0,g])},D.prototype.fapply=function(f){return this.dispatch("apply",[void 0,f])},m.try=m.fcall=function(f){return m(f).dispatch("apply",[void 0,h(arguments,1)])},D.prototype.fcall=function(){return this.dispatch("apply",[void 0,h(arguments)])},m.fbind=function(f){var g=m(f),C=h(arguments,1);return function(){return g.dispatch("apply",[this,C.concat(h(arguments))])}},D.prototype.fbind=function(){var f=this,g=h(arguments);return function(){return f.dispatch("apply",[this,g.concat(h(arguments))])}},m.keys=function(f){return m(f).dispatch("keys",[])},D.prototype.keys=function(){return this.dispatch("keys",[])},m.all=$;function $(f){return ue(f,function(g){var C=0,F=L();return x(g,function(re,de,le){var P;A(de)&&(P=de.inspect()).state==="fulfilled"?g[le]=P.value:(++C,ue(de,function(W){g[le]=W,--C===0&&F.resolve(g)},F.reject,function(W){F.notify({index:le,value:W})}))},void 0),C===0&&F.resolve(g),F.promise})}D.prototype.all=function(){return $(this)},m.any=ve;function ve(f){if(f.length===0)return m.resolve();var g=m.defer(),C=0;return x(f,function(F,re,de){var le=f[de];C++,ue(le,P,W,ae);function P(fe){g.resolve(fe)}function W(){C--,C===0&&g.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))}function ae(fe){g.notify({index:de,value:fe})}},void 0),g.promise}D.prototype.any=function(){return ve(this)},m.allResolved=U(we,"allResolved","allSettled");function we(f){return ue(f,function(g){return g=_(g,m),ue($(_(g,function(C){return ue(C,o,o)})),function(){return g})})}D.prototype.allResolved=function(){return we(this)},m.allSettled=Ie;function Ie(f){return m(f).allSettled()}D.prototype.allSettled=function(){return this.then(function(f){return $(_(f,function(g){g=m(g);function C(){return g.inspect()}return g.then(C,C)}))})},m.fail=m.catch=function(f,g){return m(f).then(void 0,g)},D.prototype.fail=D.prototype.catch=function(f){return this.then(void 0,f)},m.progress=qe;function qe(f,g){return m(f).then(void 0,void 0,g)}D.prototype.progress=function(f){return this.then(void 0,void 0,f)},m.fin=m.finally=function(f,g){return m(f).finally(g)},D.prototype.fin=D.prototype.finally=function(f){if(!f||typeof f.apply!="function")throw new Error("Q can't apply finally callback");return f=m(f),this.then(function(g){return f.fcall().then(function(){return g})},function(g){return f.fcall().then(function(){throw g})})},m.done=function(f,g,C,F){return m(f).done(g,C,F)},D.prototype.done=function(f,g,C){var F=function(de){m.nextTick(function(){if(b(de,re),m.onerror)m.onerror(de);else throw de})},re=f||g||C?this.then(f,g,C):this;typeof process=="object"&&process&&process.domain&&(F=process.domain.bind(F)),re.then(void 0,F)},m.timeout=function(f,g,C){return m(f).timeout(g,C)},D.prototype.timeout=function(f,g){var C=L(),F=setTimeout(function(){(!g||typeof g=="string")&&(g=new Error(g||"Timed out after "+f+" ms"),g.code="ETIMEDOUT"),C.reject(g)},f);return this.then(function(re){clearTimeout(F),C.resolve(re)},function(re){clearTimeout(F),C.reject(re)},C.notify),C.promise},m.delay=function(f,g){return g===void 0&&(g=f,f=void 0),m(f).delay(g)},D.prototype.delay=function(f){return this.then(function(g){var C=L();return setTimeout(function(){C.resolve(g)},f),C.promise})},m.nfapply=function(f,g){return m(f).nfapply(g)},D.prototype.nfapply=function(f){var g=L(),C=h(f);return C.push(g.makeNodeResolver()),this.fapply(C).fail(g.reject),g.promise},m.nfcall=function(f){var g=h(arguments,1);return m(f).nfapply(g)},D.prototype.nfcall=function(){var f=h(arguments),g=L();return f.push(g.makeNodeResolver()),this.fapply(f).fail(g.reject),g.promise},m.nfbind=m.denodeify=function(f){if(f===void 0)throw new Error("Q can't wrap an undefined function");var g=h(arguments,1);return function(){var C=g.concat(h(arguments)),F=L();return C.push(F.makeNodeResolver()),m(f).fapply(C).fail(F.reject),F.promise}},D.prototype.nfbind=D.prototype.denodeify=function(){var f=h(arguments);return f.unshift(this),m.denodeify.apply(void 0,f)},m.nbind=function(f,g){var C=h(arguments,2);return function(){var F=C.concat(h(arguments)),re=L();F.push(re.makeNodeResolver());function de(){return f.apply(g,arguments)}return m(de).fapply(F).fail(re.reject),re.promise}},D.prototype.nbind=function(){var f=h(arguments,0);return f.unshift(this),m.nbind.apply(void 0,f)},m.nmapply=m.npost=function(f,g,C){return m(f).npost(g,C)},D.prototype.nmapply=D.prototype.npost=function(f,g){var C=h(g||[]),F=L();return C.push(F.makeNodeResolver()),this.dispatch("post",[f,C]).fail(F.reject),F.promise},m.nsend=m.nmcall=m.ninvoke=function(f,g){var C=h(arguments,2),F=L();return C.push(F.makeNodeResolver()),m(f).dispatch("post",[g,C]).fail(F.reject),F.promise},D.prototype.nsend=D.prototype.nmcall=D.prototype.ninvoke=function(f){var g=h(arguments,1),C=L();return g.push(C.makeNodeResolver()),this.dispatch("post",[f,g]).fail(C.reject),C.promise},m.nodeify=Le;function Le(f,g){return m(f).nodeify(g)}D.prototype.nodeify=function(f){if(f)this.then(function(g){m.nextTick(function(){f(null,g)})},function(g){m.nextTick(function(){f(g)})});else return this},m.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Fe=Z();return m});var d=d||{};d.STUConstructor=function(){var e,t=65535,n=0,o=0,i={},l={};function p(a){return typeof a!="undefined"}function h(){return n++}function x(){return o++}function w(a){var r=9e3,c=this;p(a)||(a=r),this.onDCAtimeout=null,e=new WebSocket("wss://localhost:"+a.toString()+"/ws"),e.onopen=function(){console.log("connected")},e.onmessage=_,e.onclose=function(){console.log("disconnected"),typeof c.onDCAtimeout=="function"&&c.onDCAtimeout()}}w.prototype.Reinitialize=function(){d.STU=new d.STUConstructor},w.prototype.isServiceReady=function(){return e.readyState==1},w.prototype.isDCAReady=function(){var a=Q.defer();return d.STU.isServiceReady()?(setTimeout(function(){a.promise.isPending()&&(d.STU.isServiceReady()&&d.STU.close(),a.resolve(!1))},1e3),d.STU.getUsbDevices().then(function(r){a.promise.isPending()&&a.resolve(!0)}).fail(function(r){a.promise.isPending()&&a.resolve(!0)})):a.resolve(!1),a.promise},w.prototype.close=function(){e.close()};function _(a){if(typeof a.data!="undefined"&&a.data!=""){var r=JSON.parse(a.data);if(p(r.ticket)&&p(i[r.ticket]))p(r.success)&&r.success==!0&&p(r.data)?i[r.ticket].resolve(r.data):i[r.ticket].reject(new Error(p(r.error)?r.error:"")),delete i[r.ticket];else if(p(r.stream)&&p(l[r.stream])&&p(r.data))l[r.stream].stream(r.data);else throw new Error("websocket invalid message: "+a.data)}else console.log("Unexpected message type "+typeof a+" = "+JSON.stringify(a))}function I(a){for(var r=a.length,c=0;c<r;){var s=c+t<r?"0":"1",u=a.substr(c,t);e.send(s+u),c+=t}}return w.prototype.VendorId={VendorId_Wacom:1386},w.prototype.ProductId={ProductId_500:161,ProductId_300:162,ProductId_520A:163,ProductId_430:164,ProductId_530:165,ProductId_430V:166,ProductId_540:168,ProductId_541:169},w.prototype.ProductId_min=161,w.prototype.ProductId_max=175,w.prototype.send=function(a){var r=Q.defer();try{var c=h();a.ticket=c;var s=JSON.stringify(a);I(s),i[c]=r}catch(u){r.reject(u)}return r.promise},w.prototype.sendNoReturn=function(a){var r=JSON.stringify(a);I(r)},w.prototype.setStream=function(a){var r=x();return l[r]=a,r},w.prototype.removeStream=function(a){delete l[a]},w.prototype.getUsbDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"getUsbDevices"})},w.prototype.getTlsDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetTlsDevices",function:"getTlsDevices"})},w.prototype.isSupportedUsbDevice=function(a,r){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"isSupportedUsbDevice",idVendor:a,idProduct:r})},w.prototype.getStringUsbDevice=function(a){function r(c){return("0000"+c.toString(16)).substr(-4)}return r(a.idVendor)+":"+r(a.idProduct)+":"+r(a.bcdDevice)},w.prototype.SerialPort={Type:{Unknown:0,Physical:1,Virtual:2,Remote:3}},w.prototype.getSerialPorts=function(){return d.STU.send({scope:"WacomGSS.STU.GetSerialPorts",function:"getSerialPorts"})},w.prototype.UsbInterface=function(){var a="WacomGSS.STU.UsbInterface",r="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(s){return r=s.id,s})},c.prototype.connect=function(s,u){return d.STU.send({scope:a,id:r,function:"connect",usbDevice:s,exclusiveLock:u})},c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:r,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:r,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:a,id:r,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(s){return d.STU.send({scope:a,id:r,function:"queueSetPredicateAll",predicate:s})},c.prototype.get=function(s){return d.STU.send({scope:a,id:r,function:"get_",length:s})},c.prototype.set=function(s){return d.STU.send({scope:a,id:r,function:"set",base64Data:s})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:r,function:"supportsWrite"})},c.prototype.write=function(s){return d.STU.send({scope:a,id:r,function:"write",base64Data:s})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:r,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:r,function:"getProductId"})},c}(),w.prototype.Protocol=function(){var a="WacomGSS.STU.Protocol",r="",c={};function s(){}return s.prototype.PenDataOptionMode={PenDataOptionMode_None:0,PenDataOptionMode_TimeCount:1,PenDataOptionMode_SequenceNumber:2,PenDataOptionMode_TimeCountSequence:3},s.prototype.InkingMode={InkingMode_Off:0,InkingMode_On:1},s.prototype.ReportId={ReportId_PenData:1,ReportId_Status:3,ReportId_Reset:4,ReportId_HidInformation:6,ReportId_Information:8,ReportId_Capability:9,ReportId_Uid:10,ReportId_Uid2:11,ReportId_DefaultMode:12,ReportId_ReportRate:13,ReportId_RenderingMode:14,ReportId_Eserial:15,ReportId_PenDataEncrypted:16,ReportId_HostPublicKey:19,ReportId_DevicePublicKey:20,ReportId_StartCapture:21,ReportId_EndCapture:22,ReportId_DHprime:26,ReportId_DHbase:27,ReportId_ClearScreen:32,ReportId_InkingMode:33,ReportId_InkThreshold:34,ReportId_ClearScreenArea:35,ReportId_StartImageDataArea:36,ReportId_StartImageData:37,ReportId_ImageDataBlock:38,ReportId_EndImageData:39,ReportId_HandwritingThicknessColor:40,ReportId_BackgroundColor:41,ReportId_HandwritingDisplayArea:42,ReportId_BacklightBrightness:43,ReportId_ScreenContrast:44,ReportId_HandwritingThicknessColor24:45,ReportId_BackgroundColor24:46,ReportId_BootScreen:47,ReportId_PenDataOption:48,ReportId_PenDataEncryptedOption:49,ReportId_PenDataOptionMode:50,ReportId_PenDataTimeCountSequenceEncrypted:51,ReportId_PenDataTimeCountSequence:52,ReportId_EncryptionCommand:64,ReportId_EncryptionStatus:80,ReportId_GetReport:128,ReportId_SetResult:129,ReportId_PinPadData:144,ReportId_PinPadDataEncrypted:145,ReportId_PinOperationMode:146,ReportId_OperationMode:147,ReportId_RomStartImageData:148,ReportId_RomImageOccupancy:149,ReportId_RomImageHash:150,ReportId_RomImageDelete:151,ReportId_CurrentImageArea:152,ReportId_EventData:153,ReportId_EventDataEncrypted:154,ReportId_RomImageDisplay:155,ReportId_ReportSizeCollection:255,Decrypt:256,SigCaptX_Decrypt:256,SigCaptX_TabletDisconnected:257},s.prototype.DefaultMode={DefaultMode_HID:1,DefaultMode_Serial:2},s.prototype.StatusCode={StatusCode_Ready:0,StatusCode_Image:1,StatusCode_Capture:2,StatusCode_Calculation:3,StatusCode_Image_Boot:4,StatusCode_RomBusy:5,StatusCode_SystemReset:255},s.prototype.ErrorCode={ErrorCode_None:0,ErrorCode_WrongReportId:1,ErrorCode_WrongState:2,ErrorCode_CRC:3,ErrorCode_GraphicsWrongEncodingType:16,ErrorCode_GraphicsImageTooLong:17,ErrorCode_GraphicsZlibError:18,ErrorCode_GraphicsWrongParameters:21,ErrorCode_PadNotExist:32,ErrorCode_RomSizeOverflow:51,ErrorCode_RomInvalidParameter:52,ErrorCode_RomErrorCRC:53},s.prototype.Rectangle={upperLeftXpixel:0,upperLeftYpixel:0,lowerRightXpixel:0,lowerRightYpixel:0},s.prototype.InkThreshold={onPressureMark:0,offPressureMark:0},s.prototype.HandwritingThicknessColor={penColor:0,penThickness:0},s.prototype.HandwritingThicknessColor24={penColor:0,penThickness:0},s.prototype.EncryptionCommandNumber={EncryptionCommandNumber_SetEncryptionType:1,EncryptionCommandNumber_SetParameterBlock:2,EncryptionCommandNumber_GetStatusBlock:3,EncryptionCommandNumber_GetParameterBlock:4,EncryptionCommandNumber_GenerateSymmetricKey:5},s.prototype.EncodingMode={EncodingMode_1bit:0,EncodingMode_1bit_Zlib:1,EncodingMode_16bit:2,EncodingMode_24bit:4,EncodingMode_1bit_Bulk:16,EncodingMode_16bit_Bulk:18,EncodingMode_24bit_Bulk:20},s.prototype.EndImageDataFlag={EndImageDataFlag_Commit:0,EndImageDataFlag_Abandon:1},s.prototype.ResetFlag={ResetFlag_Software:0,ResetFlag_Hardware:1},s.prototype.EncodingFlag={EncodingFlag_Zlib:1,EncodingFlag_1bit:2,EncodingFlag_16bit:4,EncodingFlag_24bit:8},s.prototype.StatusCodeRSA={StatusCodeRSA_Ready:0,StatusCodeRSA_Calculating:250,StatusCodeRSA_Even:251,StatusCodeRSA_Long:252,StatusCodeRSA_Short:253,StatusCodeRSA_Invalid:254,StatusCodeRSA_NotReady:255},s.prototype.ErrorCodeRSA={ErrorCodeRSA_None:0,ErrorCodeRSA_BadParameter:1,ErrorCodeRSA_ParameterTooLong:2,ErrorCodeRSA_PublicKeyNotReady:3,ErrorCodeRSA_PublicExponentNotReady:4,ErrorCodeRSA_SpecifiedKeyInUse:5,ErrorCodeRSA_SpecifiedKeyNotInUse:6,ErrorCodeRSA_BadCommandCode:7,ErrorCodeRSA_CommandPending:8,ErrorCodeRSA_SpecifiedKeyExists:9,ErrorCodeRSA_SpecifiedKeyNotExist:10,ErrorCodeRSA_NotInitialized:11},s.prototype.SymmetricKeyType={SymmetricKeyType_AES128:0,SymmetricKeyType_AES192:1,SymmetricKeyType_AES256:2},s.prototype.AsymmetricKeyType={AsymmetricKeyType_RSA1024:0,AsymmetricKeyType_RSA1536:1,AsymmetricKeyType_RSA2048:2},s.prototype.AsymmetricPaddingType={AsymmetricPaddingType_None:0,AsymmetricPaddingType_PKCS1:1,AsymmetricPaddingType_OAEP:2},s.prototype.AsymmetricPaddingType={EncryptionCommandParameterBlockIndex_RSAe:0,EncryptionCommandParameterBlockIndex_RSAn:1,EncryptionCommandParameterBlockIndex_RSAc:2,EncryptionCommandParameterBlockIndex_RSAm:3},s.prototype.RomImageDeleteMode={RomImageDeleteMode_All:0,RomImageDeleteMode_PinPad_All:1,RomImageDeleteMode_SlideShow_All:2,RomImageDeleteMode_KeyPad_All:3,RomImageDeleteMode_Signature_All:4,RomImageDeleteMode_MessageBox_All:5,RomImageDeleteMode_PinPad_Number:6,RomImageDeleteMode_SlideShow_Number:7,RomImageDeleteMode_KeyPad_Number:8,RomImageDeleteMode_Signature_Number:9,RomImageDeleteMode_MessageBox_Number:10},s.prototype.OperationModeType={OperationModeType_Normal:0,OperationModeType_PinPad:1,OperationModeType_SlideShow:2,OperationModeType_KeyPad:3,OperationModeType_Signature:4,OperationModeType_MessageBox:5},s.prototype.ImageDataBlock_maxLengthHID=253,s.prototype.ImageDataBlock_maxLengthSerial=2557,s.prototype.ImageDataBlock_maxLength540=2557,s.prototype.toJSON=function(){return{id:r,scope:a}},s.prototype.Constructor=function(u){return c=u,d.STU.send({scope:a,function:"Constructor",intf:c.toJSON()}).then(function(v){return r=v.id,v})},s.prototype.getInterface=function(){return c},s.prototype.getInformation=function(){return d.STU.send({scope:a,id:r,function:"getInformation"})},s.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:a,id:r,function:"getPenDataOptionMode"})},s.prototype.setPenDataOptionMode=function(u){return d.STU.send({scope:a,id:r,function:"setPenDataOptionMode",penDataOptionMode:u})},s.prototype.OperationMode_Normal=function(){function u(){this.operationMode=0,this.data=[]}return u}(),s.prototype.OperationMode_PinPad=function(){function u(v,S,b,E,O,z,K){this.operationMode=1,this.data=[],this.data[0]=v,this.data[1]=Number(S),this.data[2]=b,this.data[3]=E,this.data[4]=Number(O),this.data[5]=z,this.data[6]=K}return u}(),s.prototype.OperationMode_SlideShow=function(){function u(v,S,b,E){this.operationMode=2,this.data=[],this.data[0]=v,this.data[1]=S,this.data[2]=(b[0]&15)<<4|b[1]&15,this.data[3]=(b[2]&15)<<4|b[3]&15,this.data[4]=(b[4]&15)<<4|b[5]&15,this.data[5]=(b[6]&15)<<4|b[7]&15,this.data[6]=(b[8]&15)<<4|b[9]&15,this.data[7]=E>>24&255,this.data[8]=E>>16&255,this.data[9]=E>>8&255,this.data[10]=E&255}return u}(),s.prototype.OperationMode_KeyPad=function(){function u(v,S){this.operationMode=3,this.data=[],this.data[0]=v,this.data[1]=S}return u}(),s.prototype.OperationMode_Signature=function(){function u(v,S,b,E){this.operationMode=4,this.data=[],this.data[0]=v,this.data[1]=S[0],this.data[2]=S[1],this.data[3]=S[2],this.data[4]=b}return u}(),s.prototype.setOperationMode=function(u){return d.STU.send({scope:a,id:r,function:"setOperationMode",operationMode:u})},s.prototype.getOperationMode=function(){return d.STU.send({scope:a,id:r,function:"getOperationMode"})},s.prototype.RomStartImageData_PinPad=function(){function u(v,S,b,E,O){this.encodingMode=v,this.operationMode=1,this.imageType=S,this.imageNumber=b,this.data=[E,O,0]}return u}(),s.prototype.RomStartImageData_SlideShow=function(){function u(v,S,b){this.encodingMode=v,this.operationMode=2,this.imageType=S,this.imageNumber=b,this.data=[0,0,0]}return u}(),s.prototype.RomStartImageData_KeyPad=function(){function u(v,S,b,E,O){this.encodingMode=v,this.operationMode=3,this.imageType=S,this.imageNumber=b,this.data=[],this.data[0]=E,this.data[1]=O.length>8&&O[8]?1:0,this.data[2]=(O.length>7&&O[7]?128:0)|(O.length>6&&O[6]?64:0)|(O.length>5&&O[5]?32:0)|(O.length>4&&O[4]?16:0)|(O.length>3&&O[3]?8:0)|(O.length>2&&O[2]?4:0)|(O.length>1&&O[1]?2:0)|(O.length>0&&O[0]?1:0)}return u}(),s.prototype.RomStartImageData_Signature=function(){function u(v,S,b,E){this.encodingMode=v,this.operationMode=4,this.imageType=S,this.imageNumber=b,this.data=[],this.data[0]=(E[2]?4:0)|(E[1]?2:0)|(E[0]?1:0)}return u}(),s.prototype.RomStartImageData_MessageBox=function(){function u(v,S){this.encodingMode=v,this.operationMode=5,this.imageType=!1,this.imageNumber=S,this.data=[0,0,0]}return u}(),s.prototype.setRomStartImageData=function(u){return d.STU.send({scope:a,id:r,function:"setRomStartImageData",romStartImage:u})},s.prototype.setRomImageHash=function(u,v,S){return d.STU.send({scope:a,id:r,function:"setRomImageHash",operationModeType:u,imageType:v,imageNumber:S})},s.prototype.getRomImageHash=function(){return d.STU.send({scope:a,id:r,function:"getRomImageHash"})},s.prototype.setRomImageDelete=function(u,v,S){return d.STU.send({scope:a,id:r,function:"setRomImageDelete",romImageDeleteMode:u,imageType:v,imageNumber:S})},s.prototype.getCurrentImageArea=function(){return d.STU.send({scope:a,id:r,function:"getCurrentImageArea"})},s.prototype.setRomImageDisplay=function(u,v,S){return d.STU.send({scope:a,id:r,function:"setRomImageDisplay",operationModeType:u,imageType:v,imageNumber:S})},s.prototype.getEserial=function(){return d.STU.send({scope:a,id:r,function:"getEserial"})},s.prototype.setClearScreen=function(){return d.STU.send({scope:a,id:r,function:"setClearScreen"})},s.prototype.setInkingMode=function(u){return d.STU.send({scope:a,id:r,function:"setInkingMode",inkingMode:u})},s.prototype.rebind=function(u){var v=u;return d.STU.send({scope:a,id:r,function:"rebind",intf:u.toJSON()}).then(function(S){S===null&&(c=v)})},s.prototype.getStatus=function(){return d.STU.send({scope:a,id:r,function:"getStatus"})},s.prototype.setReset=function(u){return d.STU.send({scope:a,id:r,function:"setReset",flag:u})},s.prototype.getHidInformation=function(){return d.STU.send({scope:a,id:r,function:"getHidInformation"})},s.prototype.getCapability=function(){return d.STU.send({scope:a,id:r,function:"getCapability"})},s.prototype.getUid=function(){return d.STU.send({scope:a,id:r,function:"getUid"})},s.prototype.setUid=function(u){return d.STU.send({scope:a,id:r,function:"setUid",uid:u})},s.prototype.getUid2=function(){return d.STU.send({scope:a,id:r,function:"getUid2"})},s.prototype.setDefaultMode=function(u){return d.STU.send({scope:a,id:r,function:"setDefaultMode",defaultMode:u})},s.prototype.getDefaultMode=function(){return d.STU.send({scope:a,id:r,function:"getDefaultMode"})},s.prototype.getHostPublicKey=function(){return d.STU.send({scope:a,id:r,function:"getHostPublicKey"})},s.prototype.setHostPublicKey=function(u){return d.STU.send({scope:a,id:r,function:"setHostPublicKey",hostPublicKey:u})},s.prototype.getDevicePublicKey=function(){return d.STU.send({scope:a,id:r,function:"getDevicePublicKey"})},s.prototype.setStartCapture=function(u){return d.STU.send({scope:a,id:r,function:"setStartCapture",sessionId:u})},s.prototype.setEndCapture=function(){return d.STU.send({scope:a,id:r,function:"setEndCapture"})},s.prototype.getDHprime=function(){return d.STU.send({scope:a,id:r,function:"getDHprime"})},s.prototype.setDHprime=function(u){return d.STU.send({scope:a,id:r,function:"setDHprime",prime:u})},s.prototype.getDHbase=function(){return d.STU.send({scope:a,id:r,function:"getDHbase"})},s.prototype.setDHbase=function(u){return d.STU.send({scope:a,id:r,function:"setDHbase",base})},s.prototype.setClearScreenArea=function(u){return d.STU.send({scope:a,id:r,function:"setClearScreenArea",area:u})},s.prototype.getInkingMode=function(){return d.STU.send({scope:a,id:r,function:"getInkingMode"})},s.prototype.getInkThreshold=function(){return d.STU.send({scope:a,id:r,function:"getInkThreshold"})},s.prototype.setInkThreshold=function(u){return d.STU.send({scope:a,id:r,function:"setInkThreshold",inkThreshold:u})},s.prototype.setStartImageData=function(u){return d.STU.send({scope:a,id:r,function:"setStartImageData",encodingMode:u})},s.prototype.setStartImageDataArea=function(u,v){return d.STU.send({scope:a,id:r,function:"setStartImageDataArea",encodingMode:u,area:v})},s.prototype.setImageDataBlock=function(u){return d.STU.send({scope:a,id:r,function:"setEndImageData",imageDataBlock:u})},s.prototype.setEndImageData=function(u){return d.STU.send({scope:a,id:r,function:"setEndImageData",endImageDataFlag})},s.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingThicknessColor"})},s.prototype.setHandwritingThicknessColor=function(u){return d.STU.send({scope:a,id:r,function:"setHandwritingThicknessColor",handwritingThicknessColor:u})},s.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingThicknessColor24"})},s.prototype.setHandwritingThicknessColor24=function(u){return d.STU.send({scope:a,id:r,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:u})},s.prototype.getBackgroundColor=function(){return d.STU.send({scope:a,id:r,function:"getBackgroundColor"})},s.prototype.setBackgroundColor=function(u){return d.STU.send({scope:a,id:r,function:"setBackgroundColor",backgroundColor:u})},s.prototype.getBackgroundColor24=function(){return d.STU.send({scope:a,id:r,function:"getBackgroundColor24"})},s.prototype.setBackgroundColor24=function(u){return d.STU.send({scope:a,id:r,function:"setBackgroundColor24",backgroundColor24:u})},s.prototype.BootScreenFlag={Disable:0,Enable:1},s.prototype.setBootScreen=function(u){return d.STU.send({scope:a,id:r,function:"setBootScreen",bootScreenFlag:u})},s.prototype.getBootScreen=function(){return d.STU.send({scope:a,id:r,function:"getBootScreen"})},s.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingDisplayArea"})},s.prototype.setHandwritingDisplayArea=function(u){return d.STU.send({scope:a,id:r,function:"setHandwritingDisplayArea",handwritingDisplayArea:u})},s.prototype.getBacklightBrightness=function(){return d.STU.send({scope:a,id:r,function:"getBacklightBrightness"})},s.prototype.setBacklightBrightness=function(u){return d.STU.send({scope:a,id:r,function:"setBacklightBrightness",backlightBrightness:u})},s.prototype.getScreenContrast=function(){return d.STU.send({scope:a,id:r,function:"getScreenContrast"})},s.prototype.setScreenContrast=function(u){return d.STU.send({scope:a,id:r,function:"setScreenContrast",screenContrast:u})},s.prototype.getEncryptionStatus=function(){return d.STU.send({scope:a,id:r,function:"getEncryptionStatus"})},s.prototype.EncryptionCommand=function(){var u="WacomGSS.STU.Protocol";function v(b){this.encryptionCommandNumber=b.encryptionCommandNumber,this.parameter=b.parameter,this.lengthOrIndex=b.lengthOrIndex,this.data=b.data}function S(){this.encryptionCommandNumber=0,this.parameter=0,this.lengthOrIndex=0,this.data=[]}return S.prototype.initializeSetEncryptionType=function(b,E,O){return d.STU.send({scope:u,function:"EncryptionCommand_initializeSetEncryptionType",symmetricKeyType:b,asymmetricPaddingType:E,asymmetricKeyType:O}).then(function(z){return v.call(this,z),this})},S.prototype.initializeSetParameterBlock=function(b,E){return d.STU.send({scope:u,function:"EncryptionCommand_initializeSetParameterBlock",index:b,data:E}).then(function(O){return v.call(this,O),this})},S.prototype.initializeGenerateSymmetricKey=function(){return d.STU.send({scope:u,function:"EncryptionCommand_initializeGenerateSymmetricKey"}).then(function(b){return v.call(this,b),this})},S.prototype.initializeGetParameterBlock=function(b,E){return d.STU.send({scope:u,function:"EncryptionCommand_initializeGetParameterBlock"}).then(function(O){return v.call(this,O),this})},S}(),s.prototype.getEncryptionCommand=function(u){return d.STU.send({scope:a,id:r,function:"getEncryptionCommand",encryptionCommandNumber:u})},s.prototype.getReportSizeCollection=function(){return d.STU.send({scope:a,id:r,function:"getReportSizeCollection"})},s.prototype.setReportRate=function(u){return d.STU.send({scope:a,id:r,function:"setReportRate",reportRate:u})},s.prototype.getReportRate=function(){return d.STU.send({scope:a,id:r,function:"getReportRate"})},s.prototype.RenderingMode={RenderingMode_Legacy:0,RenderingMode_WILL:1},s.prototype.setRenderingMode=function(u){return d.STU.send({scope:a,id:r,function:"setRenderingMode",renderingMode:u})},s.prototype.getRenderingMode=function(){return d.STU.send({scope:a,id:r,function:"getRenderingMode"})},s}(),w.prototype.ProtocolHelper={ReportHandler:function(){var a="WacomGSS.STU.ProtocolHelper.ReportHandler",r=null,c=null;function s(){this.onReportPenData=function(u){},this.onReportPenDataOption=function(u){},this.onReportPenDataTimeCountSequence=function(u){},this.onReportPenDataEncrypted=function(u){},this.onReportPenDataEncryptedOption=function(u){},this.onReportPenDataTimeCountSequenceEncrypted=function(u){},this.onReportDevicePublicKey=function(u){},this.onReportEncryptionStatus=function(u){},this.onReportEventDataPinPad=function(u){},this.onReportEventDataKeyPad=function(u){},this.onReportEventDataSignature=function(u){},this.onReportEventDataPinPadEncrypted=function(u){},this.onReportEventDataKeyPadEncrypted=function(u){},this.onReportEventDataSignatureEncrypted=function(u){},this.decrypt=function(u){},this.tabletDisconnected=function(u){},this.stream=function(u){var v=new d.STU.Protocol;switch(u.reportId){case v.ReportId.ReportId_PenData:this.onReportPenData(u);break;case v.ReportId.ReportId_PenDataOption:this.onReportPenDataOption(u);break;case v.ReportId.ReportId_PenDataTimeCountSequence:this.onReportPenDataTimeCountSequence(u);break;case v.ReportId.ReportId_PenDataEncrypted:this.onReportPenDataEncrypted(u);break;case v.ReportId.ReportId_PenDataEncryptedOption:this.onReportPenDataEncryptedOption(u);break;case v.ReportId.ReportId_PenDataTimeCountSequenceEncrypted:this.onReportPenDataTimeCountSequenceEncrypted(u);break;case v.ReportId.ReportId_DevicePublicKey:this.onReportDevicePublicKey(u);break;case v.ReportId.ReportId_EncryptionStatus:this.onReportEncryptionStatus(u);break;case v.ReportId.ReportId_EventData:this.onEventData(v,u);break;case v.ReportId.ReportId_EventDataEncrypted:this.onEventDataEncrypted(v,u);break;case v.ReportId.SigCaptX_Decrypt:this.decrypt(u);break;case v.ReportId.SigCaptX_TabletDisconnected:this.tabletDisconnected(u);break}}}return s.prototype.startReporting=function(u,v){return r=d.STU.setStream(this),d.STU.send({interfaceQueueHolder:u.toJSON(),scope:a,function:"startReporting",streamId:r,tabletDecrypt:v===!0}).then(function(S){return c=S.id,S})},s.prototype.stopReporting=function(){if(r===null)throw"Error: trying to stop reporting before starting";return d.STU.send({id:c,scope:a,function:"stopReporting"}).then(function(u){return d.STU.removeStream(r),u})},s.prototype.onEventData=function(u,v){switch(v.operationModeType){case u.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPad(v);break;case u.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPad(v);break;case u.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignature(v);break}},s.prototype.onEventDataEncrypted=function(u,v){switch(v.operationModeType){case u.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPadEncrypted(v);break;case u.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPadEncrypted(v);break;case u.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignatureEncrypted(v);break}},s}(),InkState_isOff:1,InkState_isOn:2,InkState_isInk:4,InkState_isFirst:8,InkState_isLast:16,InkState:{InkState_Up:1,InkState_Down:2,InkState_Inking:6,InkState_First:14,InkState_Last:17},OpDirection:{OpDirection_Get:256,OpDirection_Set:512},statusCanSend:function(a,r,c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"statusCanSend",statusCode:a,reportId:r,opDirection:c})},waitForStatusToSend:function(a,r,c,s,u){var v=Q.defer();function S(){a.getStatus().then(function(b){return d.STU.ProtocolHelper.statusCanSend(b.statusCode,r,c)}).then(function(b){if(b===!0){v.resolve();return}if(s<=0){v.reject(new Error("timeout error"));return}s--,setTimeout(S,u)})}return setTimeout(S,0),v.promise},waitForStatus:function(a,r,c,s){var u=Q.defer();function v(){a.getStatus().then(function(S){if(S.statusCode===r){u.resolve();return}if(c<=0){u.reject(new Error("timeout error"));return}c--,setTimeout(v,s)})}return setTimeout(v,0),u.promise},supportsEncryption:function(a){var r=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_DHprime,r,25,50).then(function(c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption",protocol:a})})},supportsEncryption_DHprime:function(a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption_DHprime",dhPrime:a})},setHostPublicKeyAndPollForDevicePublicKey:function(a,r,c,s){return a.setHostPublicKey(r).then(function(u){var v=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_DevicePublicKey,v,c,s)}).then(function(u){return a.getDevicePublicKey()}).then(function(u){if(u.length!==r.length)throw new Error("Unexpected key size");return u})},writeImage:function(a,r,c,s,u){s=typeof s=="undefined"?25:s,u=typeof u=="undefined"?25:u;var v=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_StartImageData,v,s,u).then(function(S){return a.setStartImageData(r)}).then(function(S){var b=a.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(a,r,b,c,s,u)})},writeImageCommon:function(a,r,c,s,u,v){if(c>a.ImageDataBlock_maxLengthSerial)throw new Error("Invalid maxImageBlockSize");var S=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_ImageDataBlock,S,u,v).then(function(b){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeImageCommon",protocol:a.toJSON(),intf:a.getInterface().toJSON(),encodingMode:r,imageData:s,maxImageBlockSize:c})})},flattenMonochrome:function(a,r,c,s){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenMonochrome",b64Data:a,screenWidth:r,screenHeight:c,dataStore:s===!0}).then(function(u){if(typeof u=="string")return u;var v=new d.STU.DataStore;return v.setId(u.id),v})},flatten:function(a,r,c,s,u){var v=new d.STU.Protocol;switch(a){case v.EncodingMode.EncodingMode_24bit:case v.EncodingMode.EncodingMode_24bit_Bulk:return d.STU.ProtocolHelper.flattenColor24(r,c,s,u);case v.EncodingMode.EncodingMode_16bit:case v.EncodingMode.EncodingMode_16bit_Bulk:return d.STU.ProtocolHelper.flattenColor16(r,c,s,u);case v.EncodingMode.EncodingMode_1bit:case v.EncodingMode.EncodingMode_1bit_Bulk:return d.STU.ProtocolHelper.flattenMonochrome(r,c,s,u)}},resizeAndFlatten:function(a,r,c,s,u,v,S,b,E,O,z,K){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"resizeAndFlatten",b64Data:a,offsetX:r,offsetY:c,bitmapWidth:s,bitmapHeight:u,screenWidth:v,screenHeight:S,encodingMode:b,scale:E,backgroundColor:O,clip:z,dataStore:K===!0}).then(function(Z){if(typeof Z=="string")return Z;var U=new d.STU.DataStore;return U.setId(Z.id),U})},encodingFlagSupportsColor:function(a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"encodingFlagSupportsColor",screenWidth:a})},flattenColor16:function(a,r,c,s){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor16",b64Data:a,screenWidth:r,screenHeight:c,dataStore:s===!0}).then(function(u){if(typeof u=="string")return u;var v=new d.STU.DataStore;return v.setId(u.id),v})},flattenColor24:function(a,r,c,s){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor24",b64Data:a,screenWidth:r,screenHeight:c,dataStore:s===!0}).then(function(u){if(typeof u=="string")return u;var v=new d.STU.DataStore;return v.setId(u.id),v})},generateSymmetricKeyAndWaitForEncryptionStatus:function(a,r,c,s){var u=d.STU.ProtocolHelper.OpDirection.OpDirection_Set,v=Q.defer(),S=h();return i[S]=v,d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_EncryptionCommand,u,r,c).then(function(b){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"generateSymmetricKeyAndWaitForEncryptionStatus",protocol:a.toJSON(),intf:a.getInterface().toJSON(),timeout:s,sleepBetweenRetries:c,ticket2:S}).then(function(E){return v.promise})})},simulateEncodingFlag:function(a,r){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"simulateEncodingFlag",idProduct:a,encodingFlag:typeof obj=="undefined"?0:r})},writeImageArea:function(a,r,c,s,u,v){u=typeof u=="undefined"?25:u,v=typeof v=="undefined"?25:v;var S=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_StartImageDataArea,S,u,v).then(function(b){return a.setStartImageDataArea(r,c)}).then(function(b){var E=a.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(a,r,E,s,u,v)})},writeRomImage:function(a,r,c,s,u,v){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeRomImage",protocol:a,romStartImageData:r,maxImageBlockSize:c,imageData:s,retries:u,sleepBetweenRetries:v})}},w.prototype.Tablet=function(){var a="WacomGSS.STU.Tablet",r=null;function c(){}return c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.Constructor=function(s,u,v){return d.STU.send({scope:a,function:"Constructor",hasIntf:typeof s!="undefined",intf:typeof s=="undefined"?null:s.toJSON(),encryptionHandler:typeof u=="undefined"||u===null?null:u.toJSON(),encryptionHandler2:typeof v=="undefined"||v===null?null:v.toJSON()}).then(function(S){return r=S.id,S})},c.prototype.attach=function(s){return d.STU.send({scope:a,id:r,function:"attach",intf:typeof s=="undefined"?null:s.toJSON()})},c.prototype.detach=function(s){return d.STU.send({scope:a,id:r,function:"detach"}).then(function(u){var v;return p(u.scope)&&p(u.id)&&(u.scope==="WacomGSS.STU.UsbInterface"?(v=new w.UsbInterface,v.id=u.id):u.scope==="WacomGSS.STU.SerialInterface"&&(v=new w.SerialInterface,v.id=u.id)),v})},c.prototype.getInformation=function(){return d.STU.send({scope:a,id:r,function:"getInformation"})},c.prototype.setClearScreen=function(){return d.STU.send({scope:a,id:r,function:"setClearScreen"})},c.prototype.isSupported=function(s){return d.STU.send({scope:a,id:r,function:"isSupported",reportId:s})},c.prototype.getProductId=function(s){return d.STU.send({scope:a,id:r,function:"getProductId"})},c.prototype.setPenDataOptionMode=function(s){return d.STU.send({scope:a,id:r,function:"setPenDataOptionMode",penDataOptionMode:s})},c.prototype.getDHprime=function(){return d.STU.send({scope:a,id:r,function:"getDHprime"})},c.prototype.startCapture=function(s){return d.STU.send({scope:a,id:r,function:"startCapture",sessionId:s})},c.prototype.setInkingMode=function(s){return d.STU.send({scope:a,id:r,function:"setInkingMode",inkingMode:s})},c.prototype.queueSetPredicateAll=function(s){return d.STU.send({scope:a,id:r,function:"queueSetPredicateAll",predicate:s})},c.prototype.endCapture=function(){return d.STU.send({scope:a,id:r,function:"endCapture"})},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:r,function:"disconnect"})},c.prototype.empty=function(){return d.STU.send({scope:a,id:r,function:"empty"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:r,function:"isConnected"})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:r,function:"supportsWrite"})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:r,function:"getReportCountLengths"})},c.prototype.getStatus=function(){return d.STU.send({scope:a,id:r,function:"getStatus"})},c.prototype.reset=function(){return d.STU.send({scope:a,id:r,function:"reset"})},c.prototype.getHidInformation=function(){return d.STU.send({scope:a,id:r,function:"getHidInformation"})},c.prototype.getCapability=function(){return d.STU.send({scope:a,id:r,function:"getCapability"})},c.prototype.getUid=function(){return d.STU.send({scope:a,id:r,function:"getUid"})},c.prototype.setUid=function(s){return d.STU.send({scope:a,id:r,function:"setUid",uid:s})},c.prototype.getUid2=function(){return d.STU.send({scope:a,id:r,function:"getUid2"})},c.prototype.setDefaultMode=function(s){return d.STU.send({scope:a,id:r,function:"setDefaultMode",defaultMode:s})},c.prototype.getDefaultMode=function(){return d.STU.send({scope:a,id:r,function:"getDefaultMode"})},c.prototype.getHostPublicKey=function(){return d.STU.send({scope:a,id:r,function:"getHostPublicKey"})},c.prototype.getDevicePublicKey=function(){return d.STU.send({scope:a,id:r,function:"getDevicePublicKey"})},c.prototype.setDHprime=function(s){return d.STU.send({scope:a,id:r,function:"setDHprime",prime:s})},c.prototype.getDHbase=function(){return d.STU.send({scope:a,id:r,function:"getDHbase"})},c.prototype.setDHbase=function(s){return d.STU.send({scope:a,id:r,function:"setDHbase",base})},c.prototype.setClearScreenArea=function(s){return d.STU.send({scope:a,id:r,function:"setClearScreenArea",area:s})},c.prototype.getInkingMode=function(){return d.STU.send({scope:a,id:r,function:"getInkingMode"})},c.prototype.getInkThreshold=function(){return d.STU.send({scope:a,id:r,function:"getInkThreshold"})},c.prototype.setInkThreshold=function(s){return d.STU.send({scope:a,id:r,function:"setInkThreshold",inkThreshold:s})},c.prototype.writeImage=function(s,u){var v=null;return typeof u=="string"?v=u:v=u.toJSON(),d.STU.send({scope:a,id:r,function:"writeImage",encodingMode:s,b64Data:v})},c.prototype.writeImageArea=function(s,u,v){var S=null;return typeof v=="string"?S=v:S=v.toJSON(),d.STU.send({scope:a,id:r,function:"writeImageArea",encodingMode:s,area:u,b64Data:S})},c.prototype.endImageData=function(s){return d.STU.send({scope:a,id:r,function:"endImageData"})},c.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingThicknessColor"})},c.prototype.setHandwritingThicknessColor=function(s){return d.STU.send({scope:a,id:r,function:"setHandwritingThicknessColor",handwritingThicknessColor:s})},c.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingThicknessColor24"})},c.prototype.setHandwritingThicknessColor24=function(s){return d.STU.send({scope:a,id:r,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:s})},c.prototype.getBackgroundColor=function(){return d.STU.send({scope:a,id:r,function:"getBackgroundColor"})},c.prototype.setBackgroundColor=function(s){return d.STU.send({scope:a,id:r,function:"setBackgroundColor",backgroundColor:s})},c.prototype.getBackgroundColor24=function(){return d.STU.send({scope:a,id:r,function:"getBackgroundColor24"})},c.prototype.setBackgroundColor24=function(s){return d.STU.send({scope:a,id:r,function:"setBackgroundColor24",backgroundColor24:s})},c.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingDisplayArea"})},c.prototype.setHandwritingDisplayArea=function(s){return d.STU.send({scope:a,id:r,function:"setHandwritingDisplayArea",handwritingDisplayArea:s})},c.prototype.getBacklightBrightness=function(){return d.STU.send({scope:a,id:r,function:"getBacklightBrightness"})},c.prototype.setBacklightBrightness=function(s){return d.STU.send({scope:a,id:r,function:"setBacklightBrightness",backlightBrightness:s})},c.prototype.getScreenContrast=function(){return d.STU.send({scope:a,id:r,function:"getScreenContrast"})},c.prototype.setScreenContrast=function(s){return d.STU.send({scope:a,id:r,function:"setScreenContrast",screenContrast:s})},c.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:a,id:r,function:"getPenDataOptionMode"})},c.prototype.getEncryptionStatus=function(){return d.STU.send({scope:a,id:r,function:"getEncryptionStatus"})},c.prototype.getEncryptionCommand=function(s){return d.STU.send({scope:a,id:r,function:"getEncryptionCommand",encryptionCommandNumber:s})},c.prototype.decrypt=function(s){return d.STU.send({scope:a,id:r,decrypt:"decrypt",data:s})},c.prototype.setReportRate=function(s){return d.STU.send({scope:a,id:r,function:"setReportRate",reportRate:s})},c.prototype.getReportRate=function(){return d.STU.send({scope:a,id:r,function:"getReportRate"})},c.prototype.setRenderingMode=function(s){return d.STU.send({scope:a,id:r,function:"setRenderingMode",renderingMode:s})},c.prototype.getRenderingMode=function(){return d.STU.send({scope:a,id:r,function:"getRenderingMode"})},c.prototype.setOperationMode=function(s){return d.STU.send({scope:a,id:r,function:"setOperationMode",operationMode:s})},c.prototype.getOperationMode=function(){return d.STU.send({scope:a,id:r,function:"getOperationMode"})},c.prototype.writeRomImage=function(s,u){return d.STU.send({scope:a,id:r,function:"writeRomImage",romStartImageData:s,imageData:u})},c.prototype.setRomImageHash=function(s,u,v){return d.STU.send({scope:a,id:r,function:"setRomImageHash",operationModeType:s,imageType:u,imageNumber:v})},c.prototype.getRomImageHash=function(){return d.STU.send({scope:a,id:r,function:"getRomImageHash"})},c.prototype.setRomImageDelete=function(s,u,v){return d.STU.send({scope:a,id:r,function:"setRomImageDelete",romImageDeleteMode:s,imageType:u,imageNumber:v})},c.prototype.getCurrentImageArea=function(){return d.STU.send({scope:a,id:r,function:"getCurrentImageArea"})},c.prototype.setRomImageDisplay=function(s,u,v){return d.STU.send({scope:a,id:r,function:"setRomImageDisplay",operationModeType:s,imageType:u,imageNumber:v})},c.prototype.getEserial=function(){return d.STU.send({scope:a,id:r,function:"getEserial"})},c}(),w.prototype.SerialInterface=function(){var a="WacomGSS.STU.SerialInterface",r="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(s){return r=s.id,s})},c.prototype.BaudRate_STU500=115200,c.prototype.BaudRate_STU430_530_prerelease=460800,c.prototype.BaudRate_STU430_530=3e6,c.prototype.connect=function(s,u,v){return d.STU.send({scope:a,id:r,function:"connect",fileName:s,baudRate:u,useCrc:v})},c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:r,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:r,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:a,id:r,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(s){return d.STU.send({scope:a,id:r,function:"queueSetPredicateAll",predicate:s})},c.prototype.get=function(s){return d.STU.send({scope:a,id:r,function:"get_",length:s})},c.prototype.set=function(s){return d.STU.send({scope:a,id:r,function:"set",base64Data:s})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:r,function:"supportsWrite"})},c.prototype.write=function(s){return d.STU.send({scope:a,id:r,function:"write",base64Data:s})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:r,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:r,function:"getProductId"})},c}(),w.prototype.TlsInterface=function(){var a="WacomGSS.STU.TlsInterface",r="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(s){return r=s.id,s})},c.prototype.ConnectOption={ConnectOption_OOB:1,ConnectOption_SSL:2},c.prototype.connect=function(s,u){return d.STU.send({scope:a,id:r,function:"connect",fileName:s,connectOption:u})},c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:r,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:r,function:"isConnected"})},c.prototype.get=function(s){return d.STU.send({scope:a,id:r,function:"get_",length:s})},c.prototype.set=function(s){return d.STU.send({scope:a,id:r,function:"set",base64Data:s})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:r,function:"supportsWrite"})},c.prototype.write=function(s){return d.STU.send({scope:a,id:r,function:"write",base64Data:s})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:r,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:r,function:"getProductId"})},c}(),w.prototype.DataStore=function(){var a="WacomGSS.STU.DataStore",r=null;function c(){}return c.prototype.setId=function(s){r=s},c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.Constructor=function(s){return d.STU.send({scope:a,function:"Constructor",b64Data:s})},c.prototype.getData=function(){return d.STU.send({scope:a,id:r,function:"getData"})},c.prototype.getRemove=function(){return d.STU.send({scope:a,id:r,function:"getRemove"}).then(function(s){return r=null,s})},c.prototype.remove=function(){return d.STU.send({scope:a,id:r,function:"remove"}).then(function(s){return r=null,s})},c.prototype.setData=function(s){return d.STU.send({scope:a,id:r,function:"setData",b64Data:s})},c}(),w.prototype.SerialProtocol={getHeaderLength:function(){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"getHeaderLength"})},isStartReport:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"isStartReport",byte:a})},decodeHasCrc:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeHasCrc",header1:a})},decodeEncodedDataLength:function(a,r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeEncodedDataLength",header1:a,header2:r})},calcEncodedDataLength:function(a,r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"calcEncodedDataLength",useCrc:a,length:r})},encodeHeader:function(a,r,c){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeHeader",encodedData:a,useCrc:r,encodedDataLength:c})},encodeReport:function(a,r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeReport",report:a,useCrc:r})},decodeData:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeData",data:a})},checkCrcAndRemove:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"checkCrcAndRemove",container:a})}},w.prototype.EncryptionHandler=function(){var a="WacomGSS.STU.EncryptionHandler",r=null,c=null,s=null,u=new Object;function v(S){s=S,this.stream=function(b){try{u[b.function](b)}catch(E){throw new Error("EncryptionHandler."+b.function+" : "+E+`
message was:
`+JSON.stringify(b))}}}return v.prototype.Constructor=function(){return r=d.STU.setStream(this),d.STU.send({scope:a,function:"Constructor",streamId:r}).then(function(S){return c=S.id,S})},v.prototype.toJSON=function(){return{id:c,scope:a}},u.reset=function(S){s.reset(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.clearKeys=function(S){s.clearKeys(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.requireDH=function(S){var b=s.requireDH();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},u.setDH=function(S){s.setDH(S.data.dhPrime,S.data.dhBase),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.generateHostPublicKey=function(S){var b=s.generateHostPublicKey();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},u.computeSharedKey=function(S){s.computeSharedKey(S.data),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.decrypt=function(S){var b=s.decrypt(S.data);d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},v}(),w.prototype.EncryptionHandler2=function(){var a="WacomGSS.STU.EncryptionHandler2",r=null,c=null,s=null,u=new Object;function v(S){s=S,this.stream=function(b){try{u[b.function](b)}catch(E){throw new Error("EncryptionHandler2."+b.function+" : "+E+`
message was:
`+JSON.stringify(b))}}}return v.prototype.Constructor=function(){return r=d.STU.setStream(this),d.STU.send({scope:a,function:"Constructor",streamId:r}).then(function(S){return c=S.id,S})},v.prototype.toJSON=function(){return{id:c,scope:a}},u.reset=function(S){s.reset(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.clearKeys=function(S){s.clearKeys(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.getParameters=function(S){var b=s.getParameters(S.data.symmetricKeyType,S.data.asymmetricPaddingType,S.data.asymmetricKeyType),E=b[0],O=b[1],z=b[2];d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:{symmetricKeyType:E,asymmetricPaddingType:O,asymmetricKeyType:z}})},u.getPublicExponent=function(S){var b=s.getPublicExponent();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},u.generatePublicKey=function(S){var b=s.generatePublicKey();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},u.computeSessionKey=function(S){s.computeSessionKey(S.data),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.decrypt=function(S){var b=s.decrypt(S.data);d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},v}(),w}();d.STU=new d.STUConstructor;const xa={id:"IdCardBack",style:{height:"12.75cm",width:"8.1cm","font-size":"7pt",position:"relative","background-image":"url('/images/lgu_id_back.png')","background-position":"center","background-size":"contain","font-family":"sans-serif"}},wa={class:"detail",style:{position:"absolute",top:"79px",left:"10px",overflow:"hidden",width:"265px",height:"35px","font-size":"11pt","line-height":"13pt"}},Ca={class:"detail",style:{position:"absolute",top:"133px",left:"14px","font-size":"11pt"}},Ta={class:"detail",style:{position:"absolute",top:"171px",left:"14px","font-size":"11pt"}},_a={class:"detail",style:{position:"absolute",top:"209px",left:"14px","font-size":"11pt"}},ka={class:"detail",style:{position:"absolute",top:"245px",left:"14px","font-size":"11pt"}},Ra={style:{width:"100%","text-align":"left",position:"absolute",left:"22px",bottom:"178px","font-size":"14px"}},Ia={style:{width:"100%","text-align":"left",position:"absolute",left:"22px",top:"297px","font-size":"16px"}},Pa={class:"detail",style:{position:"absolute",top:"319px",left:"91px","font-size":"9pt"}},Da={class:"detail",style:{position:"absolute",top:"335px",left:"91px","font-size":"9pt"}},Ea=Y("img",{id:"signatureImage",src:ba,style:{height:"227px",width:"359px",position:"absolute",bottom:"-146px",left:"-27px",transform:"scale(0.4)"}},null,-1),Ma=[Ea],Ua={style:{position:"absolute",bottom:"74px",width:"100%","text-align":"center","font-size":"8pt"}},Aa=Y("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1),wo=Object.assign({name:"IdCardBack"},{__name:"IdCardBack",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=e,o=t;function i(){o("onPenDataSave",K)}var l=se(!1),p="Cancel",h="Clear",x="OK",w=20,_=1e3,I=500,a,r,c,s,u,v,S=-1,b,E,O,z,K,Z,U=0,m;be(()=>n.details,(H,j)=>{H.sig_src&&(K=H.sig_src,b={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},z={offPressureMark:16,onPressureMark:21},We())},{deep:!0});function L(){U=U+1,d.STU.isServiceReady()?(U=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),U<w?setTimeout(L,_):alert("Unable to establish connection to SigCaptX"))}setTimeout(L,I);function M(){console.log("DCA disconnected"),setTimeout(De,0)}function te(H,j,oe,ge){this.x=H,this.y=j,this.width=oe,this.height=ge,this.Contains=function($){return $.x>=this.x&&$.x<=this.x+this.width&&$.y>=this.y&&$.y<=this.y+this.height}}function D(){this.Bounds,this.Text,this.Click}function ue(H,j){this.x=H,this.y=j}function ie(H,j){c=document.createElement("div"),c.id="signatureWindow",c.className="active",c.style.position="relative",c.style.top=0+"px",c.style.left=0+"px",c.style.width=H+"px",c.style.height=j+"px",document.getElementById("sigPreviewContainer").appendChild(c),a=document.createElement("canvas"),a.id="myCanvas",a.height=c.offsetHeight,a.width=c.offsetWidth,a.style.zIndex=999,c.appendChild(a),r=a.getContext("2d"),console.log("canvas.addEventListener:",a.addEventListener),a.addEventListener?(a.addEventListener("click",Ke,!1),console.log("onCanvasClick 0")):a.attachEvent?(a.attachEvent("onClick",Ke),console.log("onCanvasClick 1")):(a.onClick=Ke,console.log("onCanvasClick 2"))}function A(){var H=Q.defer();if(m!=null){var j=new d.STU.Protocol;m.setInkingMode(j.InkingMode.InkingMode_Off).then(function(oe){return console.log("received: "+JSON.stringify(oe)),m.endCapture()}).then(function(oe){return console.log("received: "+JSON.stringify(oe)),O!==null?O.remove():oe}).then(function(oe){return console.log("received: "+JSON.stringify(oe)),O=null,m.setClearScreen()}).then(function(oe){return console.log("received: "+JSON.stringify(oe)),m.disconnect()}).then(function(oe){console.log("received: "+JSON.stringify(oe)),m=null,Se(a,r)}).then(function(oe){H.resolve()}).fail(function(oe){console.log("disconnect error: "+oe),H.resolve()})}else H.resolve();return H.promise}window.addEventListener("beforeunload",function(H){var j="";return d.STU.close(),(H||window.event).returnValue=j,j});function ne(){}ne.prototype=new Error;function xe(){l.value=!0,me()}function me(){var H=new d.STU.Protocol,j,oe,ge;d.STU.isDCAReady().then(function($){if(!$)throw new ne;return d.STU.onDCAtimeout=M,d.STU.getUsbDevices()}).then(function($){if($==null||$.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify($)),Z=$,d.STU.isSupportedUsbDevice(Z[0].idVendor,Z[0].idProduct)}).then(function($){return console.log("received: "+JSON.stringify($)),j=new d.STU.UsbInterface,j.Constructor()}).then(function($){return console.log("received: "+JSON.stringify($)),j.connect(Z[0],!0)}).then(function($){return console.log("received: "+JSON.stringify($)),m=new d.STU.Tablet,m.Constructor(j,oe,ge)}).then(function($){return console.log("received: "+JSON.stringify($)),j=null,m.getInkThreshold()}).then(function($){return console.log("m_inkThreshold received: "+JSON.stringify($)),z=$,m.getCapability()}).then(function($){return console.log("m_capability received: "+JSON.stringify($)),b=$,ie(b.screenWidth,b.screenHeight),m.getInformation()}).then(function($){return console.log("received: "+JSON.stringify($)),m.getInkThreshold()}).then(function($){return console.log("received: "+JSON.stringify($)),m.getProductId()}).then(function($){return console.log("received: "+JSON.stringify($)),d.STU.ProtocolHelper.simulateEncodingFlag($,b.encodingFlag)}).then(function($){console.log("received: "+JSON.stringify($));var ve=$;if((ve&H.EncodingFlag.EncodingFlag_24bit)!=0)return m.supportsWrite().then(function(we){E=we?H.EncodingMode.EncodingMode_24bit_Bulk:H.EncodingMode.EncodingMode_24bit});if((ve&H.EncodingFlag.EncodingFlag_16bit)!=0)return m.supportsWrite().then(function(we){E=we?H.EncodingMode.EncodingMode_16bit_Bulk:H.EncodingMode.EncodingMode_16bit});E=H.EncodingMode.EncodingMode_1bit}).then(function($){return m.setClearScreen()}).then(function($){return console.log("received from setClearScreen: "+JSON.stringify($)),$}).then(function($){return console.log("received: "+JSON.stringify($)),m.isSupported(H.ReportId.ReportId_PenDataOptionMode)}).then(function($){return console.log("received: "+JSON.stringify($)),$?m.getProductId().then(function(ve){var we=H.PenDataOptionMode.PenDataOptionMode_None;switch(ve){case d.STU.ProductId.ProductId_520A:we=H.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case d.STU.ProductId.ProductId_430:case d.STU.ProductId.ProductId_530:case d.STU.ProductId.ProductId_540:we=H.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return m.setPenDataOptionMode(we)}):(E=H.EncodingMode.EncodingMode_1bit,E)}).then(function($){console.log("received: "+JSON.stringify($)),R();var ve=a.toDataURL("image/png");return d.STU.ProtocolHelper.resizeAndFlatten(ve,0,0,0,0,b.screenWidth,b.screenHeight,E,1,!1,0,!0)}).then(function($){return O=$,console.log("received: "+JSON.stringify($)),m.writeImage(E,$)}).then(function($){return console.log("received: "+JSON.stringify($)),m.setInkingMode(H.InkingMode.InkingMode_On)}).then(function($){console.log("received: "+JSON.stringify($));var ve=new d.STU.ProtocolHelper.ReportHandler;u={x:0,y:0},s=!1,r.lineWidth=1;var we=function(Fe){Ce(Fe,a),Pe(Fe,a,r),K.push(Fe)},Ie=function(Fe){Ce(Fe.penData[0],a),Pe(Fe.penData[0],a,r),Ce(Fe.penData[1],a),Pe(Fe.penData[1],a,r),K.push(Fe.penData[0],Fe.penData[1])},qe=function(Fe){},Le=function(Fe){};return K=new Array,ve.onReportPenData=we,ve.onReportPenDataOption=we,ve.onReportPenDataTimeCountSequence=we,ve.onReportPenDataEncrypted=Ie,ve.onReportPenDataEncryptedOption=Ie,ve.onReportPenDataTimeCountSequenceEncrypted=we,ve.onReportDevicePublicKey=qe,ve.onReportEncryptionStatus=qe,ve.decrypt=Le,ve.startReporting(m,!0)}).fail(function($){console.log($),$ instanceof ne?(d.STU.Reinitialize(),setTimeout(me,_)):(alert(`promptSigDialog failed:
`+$),setTimeout(De(),0))})}function R(){if(v=new Array(3),v[0]=new D,v[1]=new D,v[2]=new D,Z[0].idProduct!=d.STU.ProductId.ProductId_300){var H=b.screenWidth/3,j=b.screenWidth/3,oe=b.screenWidth-H-j,ge=b.screenHeight*6/7,$=b.screenHeight-ge;v[0].Bounds=new te(0,ge,oe,$),v[1].Bounds=new te(oe,ge,H,$),v[2].Bounds=new te(oe+H,ge,j,$)}else{var ve=b.screenWidth*3/4,we=b.screenWidth-ve,Ie=b.screenHeight/3,qe=b.screenHeight/3,Le=b.screenHeight-Ie-qe;v[0].Bounds=new te(ve,0,we,Le),v[1].Bounds=new te(ve,Le,we,Ie),v[2].Bounds=new te(ve,Le+Ie,we,qe)}v[0].Text=x,v[1].Text=h,v[2].Text=p,v[0].Click=ce,v[1].Click=B,v[2].Click=pe,Se(a,r),T()}function T(){r.save(),r.setTransform(1,0,0,1,0,0),r.beginPath(),r.lineWidth=1,r.strokeStyle="black",r.font="30px Arial";for(var H=0;H<v.length;++H){r.fillStyle="lightgrey",r.fillRect(v[H].Bounds.x,v[H].Bounds.y,v[H].Bounds.width,v[H].Bounds.height),r.fillStyle="black",r.rect(v[H].Bounds.x,v[H].Bounds.y,v[H].Bounds.width,v[H].Bounds.height);var j=v[H].Bounds.x+(v[H].Bounds.width/2-r.measureText(v[H].Text).width/2),oe;Z[0].idProduct==d.STU.ProductId.ProductId_300?oe=28:Z[0].idProduct==d.STU.ProductId.ProductId_430?oe=26:oe=40,r.fillText(v[H].Text,j,v[H].Bounds.y+oe)}r.stroke(),r.closePath(),r.restore()}function N(){Se(a,r),T(),K=new Array,m.writeImage(E,O)}function ce(){console.log("btnOk_Click: ",this),We(),setTimeout(De,0)}function pe(){setTimeout(De,0)}function B(){console.log("clear!"),N()}function J(H,j){return Math.pow(H.x-j.x,2)+Math.pow(H.y-j.y,2)}function Se(H,j){j.save(),j.setTransform(1,0,0,1,0,0),j.fillStyle="white",j.fillRect(0,0,H.width,H.height),j.restore()}function V(H,j){j.save(),j.setTransform(1,0,0,1,0,0),j.fillStyle="#ffffff00",j.fillRect(0,0,H.width,H.height),j.restore()}function Ce(H,j){var oe={};oe.x=Math.round(j.width*H.x/b.tabletMaxX),oe.y=Math.round(j.height*H.y/b.tabletMaxY);for(var ge=s?!(H.pressure<=z.offPressureMark):H.pressure>z.onPressureMark,$=-1,ve=0;ve<v.length;++ve)if(v[ve].Bounds.Contains(oe)){$=ve;break}return s&&!ge?($!=-1&&S===$&&v[$].Click(),S=-1):$!=-1&&!s&&ge&&(S=$),$==-1}function Pe(H,j,oe){var ge={};ge.x=Math.round(j.width*H.x/b.tabletMaxX),ge.y=Math.round(j.height*H.y/b.tabletMaxY);var $=s?!(H.pressure<=z.offPressureMark):H.pressure>z.onPressureMark;!s&&$&&(u=ge),($&&10<J(u,ge)||s&&!$)&&(oe.beginPath(),oe.moveTo(u.x,u.y),oe.lineTo(ge.x,ge.y),oe.stroke(),oe.closePath(),u=ge),s=$}function We(){var H=document.getElementById("signatureImage"),j=document.createElement("canvas");j.id="signatureCanvas",j.height=H.height,j.width=H.width;var oe=j.getContext("2d");V(j,oe),oe.lineWidth="2.5",oe.strokeStyle="black",u={x:0,y:0},s=!1;for(var ge=0;ge<K.length;ge++)Pe(K[ge],j,oe);i(),H.src=j.toDataURL("image/png")}function De(){l.value=!1,d.STU.onDCAtimeout=null,A(),document.getElementById("sigPreviewContainer").removeChild(c)}function Ke(H){for(var j=H.pageX-c.offsetLeft,oe=H.pageY-c.offsetTop,ge=0;ge<v.length;ge++)if(v[ge].Bounds.Contains(new ue(j,oe))){v[ge].Click();break}}return(H,j)=>(it(),dt(Un,null,[Y("div",xa,[Y("div",wa,Re(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+Re(e.details.address_res_city)+", "+Re(e.details.address_res_zip_code)+", "+Re(e.details.address_res_province),1),Y("div",Ca,Re(e.details.gender),1),Y("div",Ta,Re(e.details.date_of_birth),1),Y("div",_a,Re(e.details.blood_type),1),Y("div",ka,Re(e.details.contact_number),1),Y("div",Ra,Re(e.details.emergency_name),1),Y("div",Ia,Re(e.details.emergency_number),1),Y("div",Pa,Re(e.details.date_issued_formatted),1),Y("div",Da,Re(e.details.date_expire_formatted),1),Y("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:j[0]||(j[0]=oe=>xe())},Ma),Y("div",Ua,[Y("b",null,Re(e.details.name),1)])]),ee(en,{modelValue:ar(l),"onUpdate:modelValue":j[2]||(j[2]=oe=>lr(l)?l.value=oe:l=oe),"backdrop-filter":"sepia(90%)",persistent:""},{default:Te(()=>[ee(In,null,{default:Te(()=>[ee(on,{class:"row items-center q-pb-none text-h6"},{default:Te(()=>[ot(" Signature ")]),_:1}),ee(on,null,{default:Te(()=>[Aa,Y("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:j[1]||(j[1]=oe=>ce())}),Y("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:B}),Y("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:pe})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var Co=Je({name:"QCardActions",props:{...sr,vertical:Boolean},setup(e,{slots:t}){const n=ur(e),o=k(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>q("div",{class:o.value},et(t.default))}});function To(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var _o=Wo({name:"close-popup",beforeMount(e,{value:t}){const n={depth:To(t),handler(o){n.depth!==0&&setTimeout(()=>{const i=Er(e);i!==void 0&&Mr(i,o,n.depth)})},handlerKey(o){ln(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=To(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var Fa=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n};const Oa={props:{image:{type:String,default:""},accept:{type:String,default:"image/*"},placeholderSvg:{type:String,default:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let e=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},methods:{drawRoundedRect(e,t,n,o,i,l){if(l===0)e.rect(t,n,o,i);else{const p=o-l,h=i-l;e.translate(t,n),e.arc(l,l,l,Math.PI,Math.PI*1.5),e.lineTo(p,0),e.arc(p,l,l,Math.PI*1.5,Math.PI*2),e.lineTo(o,h),e.arc(p,h,l,Math.PI*2,Math.PI*.5),e.lineTo(l,i),e.arc(l,h,l,Math.PI*.5,Math.PI),e.translate(-t,-n)}},svgToImage(e){let t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),o=(self.URL||self.webkitURL||self).createObjectURL(t),i=new Image;return i.src=o,i},setState(e){var t=Math.ceil(1),n=Math.floor(1e4);this.state=e,this.state.cnt="HELLO"+Math.floor(Math.random()*(n-t))+t},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let e=this.borderRadius;const t=this.getDimensions(),n=t.border,o=t.canvas.height,i=t.canvas.width;e=Math.max(e,0),e=Math.min(e,i/2-n,o/2-n),this.context.beginPath(),this.drawRoundedRect(this.context,n,n,i-n*2,o-n*2,e),this.context.rect(i,0,-i,o),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+this.border*2,height:this.height+this.border*2}}},onDrop(e){if(e=e||window.event,e.stopPropagation(),e.preventDefault(),e.dataTransfer&&e.dataTransfer.files.length){const t=new FileReader,n=e.dataTransfer.files[0];this.changed=!0,t.onload=o=>this.loadImage(o.target.result),t.readAsDataURL(n)}},onDragStart(e){e=e||window.event,e.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let t=document,n=!1,o=l=>{this.onDragEnd(l),!n&&l.targetTouches&&e.target.click(),t.removeEventListener("mouseup",o),t.removeEventListener("mousemove",i),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",i)},i=l=>{n=!0,this.onMouseMove(l)};t.addEventListener("mouseup",o),t.addEventListener("mousemove",i),t.addEventListener("touchend",o),t.addEventListener("touchmove",i)},onDragEnd(e){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(e){if(e=e||window.event,this.state.drag===!1)return;this.dragged=!0,this.changed=!0;let t=this.state.image;const n=t.x,o=t.y,i=e.targetTouches?e.targetTouches[0].pageX:e.clientX,l=e.targetTouches?e.targetTouches[0].pageY:e.clientY,p={mx:i,my:l,image:t};if(this.state.mx&&this.state.my){const h=(this.state.mx-i)/this.scale,x=(this.state.my-l)/this.scale;t.y=this.getBoundedY(o-x,this.scale),t.x=this.getBoundedX(n-h,this.scale)}this.state.mx=p.mx,this.state.my=p.my,this.state.image=t},replaceImageInBounds(){let e=this.state.image;e.y=this.getBoundedY(e.y,this.scale),e.x=this.getBoundedX(e.x,this.scale)},loadImage(e){let t=new Image,n=this;t.onload=()=>{let o=n.getInitialSize(t.width,t.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=t,n.state.image.width=o.width,n.state.image.height=o.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,this.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},t.onerror=o=>console.log("error loading image: ",o),this.isDataURL(e)||(t.crossOrigin="anonymous"),t.src=e},getInitialSize(e,t){let n,o;const i=this.getDimensions(),l=i.height/i.width,p=t/e;return l>p?(n=this.getDimensions().height,o=e*(n/t)):(o=this.getDimensions().width,n=t*(o/e)),{height:n,width:o}},isDataURL(e){return e===null?!1:!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX(e,t){var n=this.state.image,o=this.getDimensions();let i=Math.abs(n.width*Math.cos(this.rotationRadian))+Math.abs(n.height*Math.sin(this.rotationRadian)),l=Math.floor((i-o.width/t)/2);return l=Math.max(0,l),Math.max(-l,Math.min(e,l))},getBoundedY(e,t){var n=this.state.image,o=this.getDimensions();let i=Math.abs(n.width*Math.sin(this.rotationRadian))+Math.abs(n.height*Math.cos(this.rotationRadian)),l=Math.floor((i-o.height/t)/2);return l=Math.max(0,l),Math.max(-l,Math.min(e,l))},paintImage(e,t,n){if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.globalCompositeOperation="destination-over";let i=this.getDimensions();e.translate(i.canvas.width/2,i.canvas.height/2),e.rotate(this.rotationRadian),e.translate(-i.canvas.width/2,-i.canvas.height/2),e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}},transformDataWithRotation(e,t){let n=-this.rotationRadian,o=e*Math.cos(n)-t*Math.sin(n),i=e*Math.sin(n)+t*Math.cos(n);return[o,i]},calculatePosition(e,t){e=e||this.state.image;var n=this.getDimensions();let o=e.width*this.scale,i=e.height*this.scale;var l=(o-n.width)/2,p=(i-n.height)/2,h=e.x*this.scale,x=e.y*this.scale;return[h,x]=this.transformDataWithRotation(h,x),h+=t-l,x+=t-p,{x:h,y:x,height:i,width:o}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;const n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t.resource,-e.x,-e.y),n},getImageScaled(){const{width:e,height:t}=this.getDimensions(),n=document.createElement("canvas");return n.width=e,n.height=t,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged(){return this.changed},getCroppingRect(){const e=this.getDimensions(),t={x:e.border,y:e.border,width:e.width,height:e.height},n=this.calculatePosition(this.state.image,e.border);return{x:(t.x-n.x)/n.width,y:(t.y-n.y)/n.height,width:t.width/n.width,height:t.height/n.height}},clicked(e){this.dragged===!0?this.dragged=!1:this.$refs.input.click()},fileSelected(e){var t=e.target.files||e.dataTransfer.files;if(this.$emit("select-file",t),!!t.length){var n=new FileReader;this.changed=!0,n.onload=o=>this.loadImage(o.target.result),n.readAsDataURL(t[0])}},resetImage(){let e=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),e.imageLoaded=!1,this.$emit("imageLoaded",e.imageLoaded),e.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},watch:{state:{handler(e,t){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}},Ba=["width","height"],Va=["accept"];function qa(e,t,n,o,i,l){return it(),dt("div",null,[Y("canvas",{width:l.canvasWidth,height:l.canvasHeight,class:"cursorPointer",id:"avatarEditorCanvas",ref:"avatarEditorCanvas",onDragover:t[0]||(t[0]=Ko(()=>{},["prevent"])),onDrop:t[1]||(t[1]=(...p)=>l.onDrop&&l.onDrop(...p)),onMousedown:t[2]||(t[2]=(...p)=>l.onDragStart&&l.onDragStart(...p)),onTouchstart:t[3]||(t[3]=(...p)=>l.onDragStart&&l.onDragStart(...p)),onClick:t[4]||(t[4]=(...p)=>l.clicked&&l.clicked(...p))},null,40,Ba),Y("input",{type:"file",ref:"input",accept:n.accept,onChange:t[5]||(t[5]=(...p)=>l.fileSelected&&l.fileSelected(...p)),style:{display:"none"}},null,40,Va)])}var Ha=Fa(Oa,[["render",qa]]);const $a={id:"photoGetterContainer"},La={id:"uploadedPhotoEditor",style:{width:"250px",height:"188px",overflow:"hidden",display:"relative"}},za={id:"uploadedPhoto",ref:"uploadedPhotoRef",style:{transform:"scale(1)",width:"250px !important"}},Na=Y("canvas",{hidden:"",id:"canvasCapture",width:"250px",height:"188px"},null,-1),ja={class:"q-mt-sm"},Wa=Y("video",{id:"player",autoplay:"",style:{width:"1000px"}},null,-1),Ka=Y("br",null,null,-1),Ga={id:"uploadForm",enctype:"multipart/form-data"},Qa=Y("input",{type:"file",id:"fileInput",name:"image",accept:"image/*"},null,-1),Ja=Object.assign({name:"PhotoGetter",components:{VueAvatar:Ha},data(){return{uploadDialog:!1,prompt:!1,selectedCamDevice:null,camDevices:[],player:null,rotation:0,scale:1,borderRadius:0,imgSrc:null}},watch:{"selected_employee_data.employees_id"(e){e&&this.$nextTick(()=>{this.getPhoto()})},prompt(e,t){e||window.stream&&window.stream.getTracks().forEach(n=>{n.stop()})},selectedCamDevice(e){this.getStream()}},methods:{getPhoto(){this.$api.post("http://192.168.50.50:8081/test.php",{getPhoto:!0,employees_id:this.selected_employee_data.employees_id}).then(({data:e})=>{this.$refs.uploadedPhotoRef.src=e}).catch(e=>{console.error(e)})},uploadImage(){var e=document.getElementById("uploadForm"),t=new FormData(e);t.append("employees_id",this.selected_employee_data.employees_id),this.$api.post("http://192.168.50.50:8081/id_photo_upload.php",t,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:n})=>{this.getPhoto(),this.$emit("imageCaptured",t),this.uploadDialog=!this.uploadDialog}).catch(n=>{console.error(n)})},saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();const n=t.toDataURL("image/jpeg",1),o=document.getElementById("uploadedPhoto");o.src=n;const i=document.getElementById("canvasCapture");i.getContext("2d").drawImage(o,0,0,i.width,i.height),this.$emit("imageCaptured",n),this.uploadDialog=!this.uploadDialog},onImageReady:function(){this.scale=1,this.rotation=0},uploadPhoto(e){const t=document.getElementById("uploadPhotoInput");var n=document.getElementById("uploadedPhoto");t.files&&t.files[0]&&(n.onload=()=>{URL.revokeObjectURL(n.src),document.getElementById("uploadedPhotoEditor");const o=document.getElementById("canvasCapture");o.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);const l=o.toDataURL("image/jpeg",1);this.$emit("imageCaptured",l)},n.src=URL.createObjectURL(t.files[0]))},promptDialog(){this.camDevices=[],this.getDevices().then(this.gotDevices),this.prompt=!this.prompt,this.$nextTick(()=>{this.player=document.getElementById("player");const e=document.getElementById("canvasCapture"),t=e.getContext("2d");document.getElementById("capture").addEventListener("click",()=>{t.drawImage(this.player,0,0,e.width,e.height);const o=e.toDataURL("image/jpeg",1),i=document.getElementById("uploadedPhoto");i.src=o,this.prompt=!this.prompt,this.$emit("imageCaptured",o),window.stream&&window.stream.getTracks().forEach(l=>{l.stop()})}),this.getStream()})},getStream(){window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e=this.selectedCamDevice.value,t={video:{deviceId:e?{exact:e}:void 0}};return navigator.mediaDevices.getUserMedia(t).then(this.gotStream)},gotStream(e){window.stream=e,this.player.srcObject=e},async getDevices(){return await navigator.mediaDevices.enumerateDevices()},async gotDevices(e){window.deviceInfos=e;for(const t of e){const n={label:"",value:""};n.value=t.deviceId,t.kind==="videoinput"&&(n.label=t.label||`Camera ${videoSelect.length+1}`,this.camDevices.push(n))}this.selectedCamDevice==null&&(this.selectedCamDevice=this.camDevices[0])}},created(){}},{__name:"PhotoGetter",props:{selected_employee_data:{type:Object}},emits:["imageCaptured"],setup(e){return(t,n)=>(it(),dt(Un,null,[Y("div",$a,[Y("div",La,[Y("img",za,null,512)]),Na]),Y("div",ja,[ee(Qe,{unelevated:"",icon:"file_upload",onClick:n[0]||(n[0]=o=>t.uploadDialog=!t.uploadDialog),disable:!e.selected_employee_data.employees_id},{default:Te(()=>[ot("Upload")]),_:1},8,["disable"]),ee(Qe,{unelevated:"",class:"",label:"CAM",icon:"add_a_photo",onClick:t.promptDialog,disable:!e.selected_employee_data.employees_id},null,8,["onClick","disable"]),cr(t.$slots,"buttons")]),ee(en,{modelValue:t.prompt,"onUpdate:modelValue":n[2]||(n[2]=o=>t.prompt=o),persistent:""},{default:Te(()=>[ee(In,{style:{"min-width":"1500px","text-align":"center"}},{default:Te(()=>[ee(on,{class:"q-pt-none q-ma-lg"},{default:Te(()=>[ee(Rn,{modelValue:t.selectedCamDevice,"onUpdate:modelValue":n[1]||(n[1]=o=>t.selectedCamDevice=o),options:t.camDevices,label:"Device"},null,8,["modelValue","options"]),Wa,Ka,ee(Qe,{id:"capture"},{default:Te(()=>[ot("Capture")]),_:1})]),_:1}),ee(Co,{align:"right",class:"text-primary"},{default:Te(()=>[Qn(ee(Qe,{flat:"",label:"Cancel"},null,512),[[_o]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ee(en,{modelValue:t.uploadDialog,"onUpdate:modelValue":n[4]||(n[4]=o=>t.uploadDialog=o),persistent:""},{default:Te(()=>[ee(In,{style:{"_min-width":"1500px","text-align":"center"}},{default:Te(()=>[ee(on,{class:"q-pt-none q-ma-lg"},{default:Te(()=>[Y("form",Ga,[Qa,Y("button",{type:"button",onClick:n[3]||(n[3]=o=>t.uploadImage())},"Upload")])]),_:1}),ee(Co,{align:"right",class:"text-primary"},{default:Te(()=>[Qn(ee(Qe,{flat:"",label:"Cancel"},null,512),[[_o]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Vn={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Xa=Object.keys(Vn);Vn.all=!0;function ko(e){const t={};for(const n of Xa)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?Vn:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Ya=["INPUT","TEXTAREA"];function Ro(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Ya.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function xn(e,t,n){const o=Mt(e);let i,l=o.left-t.event.x,p=o.top-t.event.y,h=Math.abs(l),x=Math.abs(p);const w=t.direction;w.horizontal===!0&&w.vertical!==!0?i=l<0?"left":"right":w.horizontal!==!0&&w.vertical===!0?i=p<0?"up":"down":w.up===!0&&p<0?(i="up",h>x&&(w.left===!0&&l<0?i="left":w.right===!0&&l>0&&(i="right"))):w.down===!0&&p>0?(i="down",h>x&&(w.left===!0&&l<0?i="left":w.right===!0&&l>0&&(i="right"))):w.left===!0&&l<0?(i="left",h<x&&(w.up===!0&&p<0?i="up":w.down===!0&&p>0&&(i="down"))):w.right===!0&&l>0&&(i="right",h<x&&(w.up===!0&&p<0?i="up":w.down===!0&&p>0&&(i="down")));let _=!1;if(i===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};i=t.event.lastDir,_=!0,i==="left"||i==="right"?(o.left-=l,h=0,l=0):(o.top-=p,x=0,p=0)}return{synthetic:_,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:o,direction:i,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:h,y:x},offset:{x:l,y:p},delta:{x:o.left-t.event.lastX,y:o.top-t.event.lastY}}}}let Za=0;var el=Wo({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&$e.has.touch!==!0)return;function o(l,p){n.mouse===!0&&p===!0?ze(l):(n.stop===!0&&Ye(l),n.prevent===!0&&Xe(l))}const i={uid:"qvtp_"+Za++,handler:t,modifiers:n,direction:ko(n),noop:No,mouseStart(l){Ro(l,i)&&dr(l)&&(bt(i,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),i.start(l,!0))},touchStart(l){if(Ro(l,i)){const p=l.target;bt(i,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","passiveCapture"],[p,"touchend","end","passiveCapture"]]),i.start(l)}},start(l,p){if($e.is.firefox===!0&&fn(e,!0),i.lastEvt=l,p===!0||n.stop===!0){if(i.direction.all!==!0&&(p!==!0||i.modifiers.mouseAllDir!==!0&&i.modifiers.mousealldir!==!0)){const w=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Xe(w),l.cancelBubble===!0&&Ye(w),Object.assign(w,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[i.uid]:l.qClonedBy.concat(i.uid)}),i.initialEvent={target:l.target,event:w}}Ye(l)}const{left:h,top:x}=Mt(l);i.event={x:h,y:x,time:Date.now(),mouse:p===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:h,lastY:x}},move(l){if(i.event===void 0)return;const p=Mt(l),h=p.left-i.event.x,x=p.top-i.event.y;if(h===0&&x===0)return;i.lastEvt=l;const w=i.event.mouse===!0,_=()=>{o(l,w);let r;n.preserveCursor!==!0&&n.preservecursor!==!0&&(r=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),w===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Qo(),i.styleCleanup=c=>{if(i.styleCleanup=void 0,r!==void 0&&(document.documentElement.style.cursor=r),document.body.classList.remove("non-selectable"),w===!0){const s=()=>{document.body.classList.remove("no-pointer-events--children")};c!==void 0?setTimeout(()=>{s(),c()},50):s()}else c!==void 0&&c()}};if(i.event.detected===!0){i.event.isFirst!==!0&&o(l,i.event.mouse);const{payload:r,synthetic:c}=xn(l,i,!1);r!==void 0&&(i.handler(r)===!1?i.end(l):(i.styleCleanup===void 0&&i.event.isFirst===!0&&_(),i.event.lastX=r.position.left,i.event.lastY=r.position.top,i.event.lastDir=c===!0?void 0:r.direction,i.event.isFirst=!1));return}if(i.direction.all===!0||w===!0&&(i.modifiers.mouseAllDir===!0||i.modifiers.mousealldir===!0)){_(),i.event.detected=!0,i.move(l);return}const I=Math.abs(h),a=Math.abs(x);I!==a&&(i.direction.horizontal===!0&&I>a||i.direction.vertical===!0&&I<a||i.direction.up===!0&&I<a&&x<0||i.direction.down===!0&&I<a&&x>0||i.direction.left===!0&&I>a&&h<0||i.direction.right===!0&&I>a&&h>0?(i.event.detected=!0,i.move(l)):i.end(l,!0))},end(l,p){if(i.event!==void 0){if(Gt(i,"temp"),$e.is.firefox===!0&&fn(e,!1),p===!0)i.styleCleanup!==void 0&&i.styleCleanup(),i.event.detected!==!0&&i.initialEvent!==void 0&&i.initialEvent.target.dispatchEvent(i.initialEvent.event);else if(i.event.detected===!0){i.event.isFirst===!0&&i.handler(xn(l===void 0?i.lastEvt:l,i).payload);const{payload:h}=xn(l===void 0?i.lastEvt:l,i,!0),x=()=>{i.handler(h)};i.styleCleanup!==void 0?i.styleCleanup(x):x()}i.event=void 0,i.initialEvent=void 0,i.lastEvt=void 0}}};if(e.__qtouchpan=i,n.mouse===!0){const l=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";bt(i,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}$e.has.touch===!0&&bt(i,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=ko(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),Gt(t,"main"),Gt(t,"temp"),$e.is.firefox===!0&&fn(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const Io="q-slider__marker-labels",tl=e=>({value:e}),nl=({marker:e})=>q("div",{key:e.value,style:e.style,class:e.classes},e.label),mi=[34,37,40,33,39,38],ol={...Ft,...Bn,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},il=["pan","update:modelValue","change"];function rl({updateValue:e,updatePosition:t,getDragging:n,formAttrs:o}){const{props:i,emit:l,slots:p,proxy:{$q:h}}=Ae(),x=Ot(i,h),w=na(o),_=se(!1),I=se(!1),a=se(!1),r=se(!1),c=k(()=>i.vertical===!0?"--v":"--h"),s=k(()=>"-"+(i.switchLabelSide===!0?"switched":"standard")),u=k(()=>i.vertical===!0?i.reverse===!0:i.reverse!==(h.lang.rtl===!0)),v=k(()=>isNaN(i.innerMin)===!0||i.innerMin<i.min?i.min:i.innerMin),S=k(()=>isNaN(i.innerMax)===!0||i.innerMax>i.max?i.max:i.innerMax),b=k(()=>i.disable!==!0&&i.readonly!==!0&&v.value<S.value),E=k(()=>{if(i.step===0)return W=>W;const P=(String(i.step).trim().split(".")[1]||"").length;return W=>parseFloat(W.toFixed(P))}),O=k(()=>i.step===0?1:i.step),z=k(()=>b.value===!0?i.tabindex||0:-1),K=k(()=>i.max-i.min),Z=k(()=>S.value-v.value),U=k(()=>Pe(v.value)),m=k(()=>Pe(S.value)),L=k(()=>i.vertical===!0?u.value===!0?"bottom":"top":u.value===!0?"right":"left"),M=k(()=>i.vertical===!0?"height":"width"),te=k(()=>i.vertical===!0?"width":"height"),D=k(()=>i.vertical===!0?"vertical":"horizontal"),ue=k(()=>{const P={role:"slider","aria-valuemin":v.value,"aria-valuemax":S.value,"aria-orientation":D.value,"data-step":i.step};return i.disable===!0?P["aria-disabled"]="true":i.readonly===!0&&(P["aria-readonly"]="true"),P}),ie=k(()=>`q-slider q-slider${c.value} q-slider--${_.value===!0?"":"in"}active inline no-wrap `+(i.vertical===!0?"row":"column")+(i.disable===!0?" disabled":" q-slider--enabled"+(b.value===!0?" q-slider--editable":""))+(a.value==="both"?" q-slider--focus":"")+(i.label||i.labelAlways===!0?" q-slider--label":"")+(i.labelAlways===!0?" q-slider--label-always":"")+(x.value===!0?" q-slider--dark":"")+(i.dense===!0?" q-slider--dense q-slider--dense"+c.value:""));function A(P){const W="q-slider__"+P;return`${W} ${W}${c.value} ${W}${c.value}${s.value}`}function ne(P){const W="q-slider__"+P;return`${W} ${W}${c.value}`}const xe=k(()=>{const P=i.selectionColor||i.color;return"q-slider__selection absolute"+(P!==void 0?` text-${P}`:"")}),me=k(()=>ne("markers")+" absolute overflow-hidden"),R=k(()=>ne("track-container")),T=k(()=>A("pin")),N=k(()=>A("label")),ce=k(()=>A("text-container")),pe=k(()=>A("marker-labels-container")+(i.markerLabelsClass!==void 0?` ${i.markerLabelsClass}`:"")),B=k(()=>"q-slider__track relative-position no-outline"+(i.trackColor!==void 0?` bg-${i.trackColor}`:"")),J=k(()=>{const P={[te.value]:i.trackSize};return i.trackImg!==void 0&&(P.backgroundImage=`url(${i.trackImg}) !important`),P}),Se=k(()=>"q-slider__inner absolute"+(i.innerTrackColor!==void 0?` bg-${i.innerTrackColor}`:"")),V=k(()=>{const P=m.value-U.value,W={[L.value]:`${100*U.value}%`,[M.value]:P===0?"2px":`${100*P}%`};return i.innerTrackImg!==void 0&&(W.backgroundImage=`url(${i.innerTrackImg}) !important`),W});function Ce(P){const{min:W,max:ae,step:fe}=i;let ye=W+P*(ae-W);if(fe>0){const Oe=(ye-v.value)%fe;ye+=(Math.abs(Oe)>=fe/2?(Oe<0?-1:1)*fe:0)-Oe}return ye=E.value(ye),xt(ye,v.value,S.value)}function Pe(P){return K.value===0?0:(P-i.min)/K.value}function We(P,W){const ae=Mt(P),fe=i.vertical===!0?xt((ae.top-W.top)/W.height,0,1):xt((ae.left-W.left)/W.width,0,1);return xt(u.value===!0?1-fe:fe,U.value,m.value)}const De=k(()=>fr(i.markers)===!0?i.markers:O.value),Ke=k(()=>{const P=[],W=De.value,ae=i.max;let fe=i.min;do P.push(fe),fe+=W;while(fe<ae);return P.push(ae),P}),H=k(()=>{const P=` ${Io}${c.value}-`;return Io+`${P}${i.switchMarkerLabelsSide===!0?"switched":"standard"}${P}${u.value===!0?"rtl":"ltr"}`}),j=k(()=>i.markerLabels===!1?null:$(i.markerLabels).map((P,W)=>({index:W,value:P.value,label:P.label||P.value,classes:H.value+(P.classes!==void 0?" "+P.classes:""),style:{...ve(P.value),...P.style||{}}}))),oe=k(()=>({markerList:j.value,markerMap:we.value,classes:H.value,getStyle:ve})),ge=k(()=>{const P=Z.value===0?"2px":100*De.value/Z.value;return{...V.value,backgroundSize:i.vertical===!0?`2px ${P}%`:`${P}% 2px`}});function $(P){if(P===!1)return null;if(P===!0)return Ke.value.map(tl);if(typeof P=="function")return Ke.value.map(ae=>{const fe=P(ae);return pn(fe)===!0?{...fe,value:ae}:{value:ae,label:fe}});const W=({value:ae})=>ae>=i.min&&ae<=i.max;return Array.isArray(P)===!0?P.map(ae=>pn(ae)===!0?ae:{value:ae}).filter(W):Object.keys(P).map(ae=>{const fe=P[ae],ye=Number(ae);return pn(fe)===!0?{...fe,value:ye}:{value:ye,label:fe}}).filter(W)}function ve(P){return{[L.value]:`${100*(P-i.min)/K.value}%`}}const we=k(()=>{if(i.markerLabels===!1)return null;const P={};return j.value.forEach(W=>{P[W.value]=W}),P});function Ie(){if(p["marker-label-group"]!==void 0)return p["marker-label-group"](oe.value);const P=p["marker-label"]||nl;return j.value.map(W=>P({marker:W,...oe.value}))}const qe=k(()=>[[el,Le,void 0,{[D.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Le(P){P.isFinal===!0?(r.value!==void 0&&(t(P.evt),P.touch===!0&&e(!0),r.value=void 0,l("pan","end")),_.value=!1,a.value=!1):P.isFirst===!0?(r.value=n(P.evt),t(P.evt),e(),_.value=!0,l("pan","start")):(t(P.evt),e())}function Fe(){a.value=!1}function f(P){t(P,n(P)),e(),I.value=!0,_.value=!0,document.addEventListener("mouseup",g,!0)}function g(){I.value=!1,_.value=!1,e(!0),Fe(),document.removeEventListener("mouseup",g,!0)}function C(P){t(P,n(P)),e(!0)}function F(P){mi.includes(P.keyCode)&&e(!0)}function re(P){if(i.vertical===!0)return null;const W=h.lang.rtl!==i.reverse?1-P:P;return{transform:`translateX(calc(${2*W-1} * ${i.thumbSize} / 2 + ${50-100*W}%))`}}function de(P){const W=k(()=>I.value===!1&&(a.value===P.focusValue||a.value==="both")?" q-slider--focus":""),ae=k(()=>`q-slider__thumb q-slider__thumb${c.value} q-slider__thumb${c.value}-${u.value===!0?"rtl":"ltr"} absolute non-selectable`+W.value+(P.thumbColor.value!==void 0?` text-${P.thumbColor.value}`:"")),fe=k(()=>({width:i.thumbSize,height:i.thumbSize,[L.value]:`${100*P.ratio.value}%`,zIndex:a.value===P.focusValue?2:void 0})),ye=k(()=>P.labelColor.value!==void 0?` text-${P.labelColor.value}`:""),Oe=k(()=>re(P.ratio.value)),pt=k(()=>"q-slider__text"+(P.labelTextColor.value!==void 0?` text-${P.labelTextColor.value}`:""));return()=>{const mt=[q("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[q("path",{d:i.thumbPath})]),q("div",{class:"q-slider__focus-ring fit"})];return(i.label===!0||i.labelAlways===!0)&&(mt.push(q("div",{class:T.value+" absolute fit no-pointer-events"+ye.value},[q("div",{class:N.value,style:{minWidth:i.thumbSize}},[q("div",{class:ce.value,style:Oe.value},[q("span",{class:pt.value},P.label.value)])])])),i.name!==void 0&&i.disable!==!0&&w(mt,"push")),q("div",{class:ae.value,style:fe.value,...P.getNodeData()},mt)}}function le(P,W,ae,fe){const ye=[];i.innerTrackColor!=="transparent"&&ye.push(q("div",{key:"inner",class:Se.value,style:V.value})),i.selectionColor!=="transparent"&&ye.push(q("div",{key:"selection",class:xe.value,style:P.value})),i.markers!==!1&&ye.push(q("div",{key:"marker",class:me.value,style:ge.value})),fe(ye);const Oe=[Lo("div",{key:"trackC",class:R.value,tabindex:W.value,...ae.value},[q("div",{class:B.value,style:J.value},ye)],"slide",b.value,()=>qe.value)];if(i.markerLabels!==!1){const pt=i.switchMarkerLabelsSide===!0?"unshift":"push";Oe[pt](q("div",{key:"markerL",class:pe.value},Ie()))}return Oe}return je(()=>{document.removeEventListener("mouseup",g,!0)}),{state:{active:_,focus:a,preventFocus:I,dragging:r,editable:b,classes:ie,tabindex:z,attributes:ue,roundValueFn:E,keyStep:O,trackLen:K,innerMin:v,innerMinRatio:U,innerMax:S,innerMaxRatio:m,positionProp:L,sizeProp:M,isReversed:u},methods:{onActivate:f,onMobileClick:C,onBlur:Fe,onKeyup:F,getContent:le,getThumbRenderFn:de,convertRatioToModel:Ce,convertModelToRatio:Pe,getDraggingRatio:We}}}const al=()=>({});var _t=Je({name:"QSlider",props:{...ol,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:il,setup(e,{emit:t}){const{proxy:{$q:n}}=Ae(),{state:o,methods:i}=rl({updateValue:c,updatePosition:u,getDragging:s,formAttrs:ta(e)}),l=se(null),p=se(0),h=se(0);function x(){h.value=e.modelValue===null?o.innerMin.value:xt(e.modelValue,o.innerMin.value,o.innerMax.value)}be(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,x),x();const w=k(()=>i.convertModelToRatio(h.value)),_=k(()=>o.active.value===!0?p.value:w.value),I=k(()=>{const b={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(_.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(b.backgroundImage=`url(${e.selectionImg}) !important`),b}),a=i.getThumbRenderFn({focusValue:!0,getNodeData:al,ratio:_,label:k(()=>e.labelValue!==void 0?e.labelValue:h.value),thumbColor:k(()=>e.thumbColor||e.color),labelColor:k(()=>e.labelColor),labelTextColor:k(()=>e.labelTextColor)}),r=k(()=>o.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:i.onMobileClick}:{onMousedown:i.onActivate,onFocus:v,onBlur:i.onBlur,onKeydown:S,onKeyup:i.onKeyup});function c(b){h.value!==e.modelValue&&t("update:modelValue",h.value),b===!0&&t("change",h.value)}function s(){return l.value.getBoundingClientRect()}function u(b,E=o.dragging.value){const O=i.getDraggingRatio(b,E);h.value=i.convertRatioToModel(O),p.value=e.snap!==!0||e.step===0?O:i.convertModelToRatio(h.value)}function v(){o.focus.value=!0}function S(b){if(!mi.includes(b.keyCode))return;ze(b);const E=([34,33].includes(b.keyCode)?10:1)*o.keyStep.value,O=([34,37,40].includes(b.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*E;h.value=xt(o.roundValueFn.value(h.value+O),o.innerMin.value,o.innerMax.value),c()}return()=>{const b=i.getContent(I,o.tabindex,r,E=>{E.push(a())});return q("div",{ref:l,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},b)}}});const ll={style:{position:"relative",display:"inline"},ref:"clickBox"},sl=["hidden"],ul={for:"",style:{"font-size":"12pt"}},cl={for:"",style:{"font-size":"12pt"}},dl={for:"",style:{"font-size":"12pt"}},fl=Object.assign({name:"PhotoAdjuster",data:function(){return{displayModal:!1,photoFormat:this.photoProps,photoFormatDefault:Object.assign({},this.photoProps)}},methods:{promptDialog(){this.displayModal=!this.displayModal},reset(){this.photoFormat.top=this.photoFormatDefault.top,this.photoFormat.left=this.photoFormatDefault.left,this.photoFormat.scale=this.photoFormatDefault.scale}}},{__name:"PhotoAdjuster",props:{photoProps:{type:Object,required:!0},selected_employee_data:{type:Object}},setup(e){return(t,n)=>(it(),dt("div",ll,[ee(Qe,{unelevated:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.promptDialog()),disable:!e.selected_employee_data.employees_id},null,8,["disable"]),Y("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 19px 60px -27px","border-radius":"5px",right:"-210px"}},[ee(Qe,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:Te(()=>[ot("Reset")]),_:1}),Y("label",ul,"Vertical: "+Re(t.photoFormat.top)+"px",1),ee(_t,{modelValue:t.photoFormat.top,"onUpdate:modelValue":n[2]||(n[2]=o=>t.photoFormat.top=o),min:-6500,max:3e3,step:1},null,8,["modelValue"]),Y("label",cl,"Horizontal: "+Re(t.photoFormat.left)+"px",1),ee(_t,{modelValue:t.photoFormat.left,"onUpdate:modelValue":n[3]||(n[3]=o=>t.photoFormat.left=o),min:-6e3,max:440,step:1},null,8,["modelValue"]),Y("label",dl,"Scale: "+Re(t.photoFormat.scale)+"px",1),ee(_t,{modelValue:t.photoFormat.scale,"onUpdate:modelValue":n[4]||(n[4]=o=>t.photoFormat.scale=o),min:0,max:.15,step:.001},null,8,["modelValue"]),ee(Qe,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:Te(()=>[ot("Close")]),_:1})],8,sl)],512))}}),pl={style:{position:"relative"},ref:"clickBox"},ml=["hidden"],hl={for:"",style:{"font-size":"12pt"}},gl={for:"",style:{"font-size":"12pt"}},vl={for:"",style:{"font-size":"12pt"}},Wt=Object.assign({name:"TextFormatter",data:function(){return{displayModal:!1,text:this.textProps,textDefault:Object.assign({},this.textProps)}},methods:{adjustLastName(){this.displayModal=!this.displayModal,console.log(this.textProps)},reset(){this.text.font_size=this.textDefault.font_size,this.text.bottom=this.textDefault.bottom,this.text.left=this.textDefault.left}},mounted(){}},{__name:"TextFormatter",props:{textProps:{type:Object},textFor:{type:String}},setup(e){return(t,n)=>(it(),dt("div",pl,[ee(Qe,{round:"",dense:"",flat:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.adjustLastName())}),Y("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 10px 20px 10px","border-radius":"5px",right:"0px"}},[ee(Qe,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:Te(()=>[ot("Reset")]),_:1}),Y("label",hl,"Font-size: "+Re(t.text.font_size)+"px",1),ee(_t,{modelValue:t.text.font_size,"onUpdate:modelValue":n[2]||(n[2]=o=>t.text.font_size=o),min:8,max:30,step:1},null,8,["modelValue"]),Y("label",gl,"Vertical Position: "+Re(t.text.bottom)+"px",1),ee(_t,{modelValue:t.text.bottom,"onUpdate:modelValue":n[3]||(n[3]=o=>t.text.bottom=o),min:0,max:300,step:1},null,8,["modelValue"]),e.textFor=="position"?(it(),dt(Un,{key:0},[Y("label",vl,"Line Height: "+Re(t.text.line_height)+"px",1),ee(_t,{modelValue:t.text.line_height,"onUpdate:modelValue":n[4]||(n[4]=o=>t.text.line_height=o),min:0,max:238,step:1},null,8,["modelValue"])],64)):pr("",!0),ee(Qe,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:Te(()=>[ot("Close")]),_:1})],8,ml)],512))}});function yl(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),o=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(i),t&&(o.href=t),i.href=e,i.href}const Sl=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function nt(e){const t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n]);return t}function rn(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function bl(e){const t=rn(e,"border-left-width"),n=rn(e,"border-right-width");return e.clientWidth+t+n}function xl(e){const t=rn(e,"border-top-width"),n=rn(e,"border-bottom-width");return e.clientHeight+t+n}function hi(e,t={}){const n=t.width||bl(e),o=t.height||xl(e);return{width:n,height:o}}function wl(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ge=16384;function Cl(e){(e.width>Ge||e.height>Ge)&&(e.width>Ge&&e.height>Ge?e.width>e.height?(e.height*=Ge/e.width,e.width=Ge):(e.width*=Ge/e.height,e.height=Ge):e.width>Ge?(e.height*=Ge/e.width,e.width=Ge):(e.width*=Ge/e.height,e.height=Ge))}function an(e){return new Promise((t,n)=>{const o=new Image;o.decode=()=>t(o),o.onload=()=>t(o),o.onerror=n,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function Tl(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function _l(e,t,n){const o="http://www.w3.org/2000/svg",i=document.createElementNS(o,"svg"),l=document.createElementNS(o,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),i.appendChild(l),l.appendChild(e),Tl(i)}const Ne=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Ne(n,t)};function kl(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Rl(e){return nt(e).map(t=>{const n=e.getPropertyValue(t),o=e.getPropertyPriority(t);return`${t}: ${n}${o?" !important":""};`}).join(" ")}function Il(e,t,n){const o=`.${e}:${t}`,i=n.cssText?kl(n):Rl(n);return document.createTextNode(`${o}{${i}}`)}function Po(e,t,n){const o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(i===""||i==="none")return;const l=Sl();try{t.className=`${t.className} ${l}`}catch{return}const p=document.createElement("style");p.appendChild(Il(l,n,o)),t.appendChild(p)}function Pl(e,t){Po(e,t,":before"),Po(e,t,":after")}const Do="application/font-woff",Eo="image/jpeg",Dl={woff:Do,woff2:Do,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Eo,jpeg:Eo,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function El(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function qn(e){const t=El(e).toLowerCase();return Dl[t]||""}function Ml(e){return e.split(/,/)[1]}function Pn(e){return e.search(/^(data:)/)!==-1}function gi(e,t){return`data:${t};base64,${e}`}async function vi(e,t,n){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const i=await o.blob();return new Promise((l,p)=>{const h=new FileReader;h.onerror=p,h.onloadend=()=>{try{l(n({res:o,result:h.result}))}catch(x){p(x)}},h.readAsDataURL(i)})}const wn={};function Ul(e,t,n){let o=e.replace(/\?.*/,"");return n&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function Hn(e,t,n){const o=Ul(e,t,n.includeQueryParams);if(wn[o]!=null)return wn[o];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const l=await vi(e,n.fetchRequestInit,({res:p,result:h})=>(t||(t=p.headers.get("Content-Type")||""),Ml(h)));i=gi(l,t)}catch(l){i=n.imagePlaceholder||"";let p=`Failed to fetch resource: ${e}`;l&&(p=typeof l=="string"?l:l.message),p&&console.warn(p)}return wn[o]=i,i}async function Al(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):an(t)}async function Fl(e,t){if(e.currentSrc){const l=document.createElement("canvas"),p=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,p==null||p.drawImage(e,0,0,l.width,l.height);const h=l.toDataURL();return an(h)}const n=e.poster,o=qn(n),i=await Hn(n,o,t);return an(i)}async function Ol(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await un(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function Bl(e,t){return Ne(e,HTMLCanvasElement)?Al(e):Ne(e,HTMLVideoElement)?Fl(e,t):Ne(e,HTMLIFrameElement)?Ol(e):e.cloneNode(!1)}const Vl=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function ql(e,t,n){var o,i;let l=[];return Vl(e)&&e.assignedNodes?l=nt(e.assignedNodes()):Ne(e,HTMLIFrameElement)&&((o=e.contentDocument)===null||o===void 0?void 0:o.body)?l=nt(e.contentDocument.body.childNodes):l=nt(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),l.length===0||Ne(e,HTMLVideoElement)||await l.reduce((p,h)=>p.then(()=>un(h,n)).then(x=>{x&&t.appendChild(x)}),Promise.resolve()),t}function Hl(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):nt(o).forEach(i=>{let l=o.getPropertyValue(i);i==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),Ne(e,HTMLIFrameElement)&&i==="display"&&l==="inline"&&(l="block"),i==="d"&&t.getAttribute("d")&&(l=`path(${t.getAttribute("d")})`),n.setProperty(i,l,o.getPropertyPriority(i))})}function $l(e,t){Ne(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ne(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Ll(e,t){if(Ne(e,HTMLSelectElement)){const n=t,o=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));o&&o.setAttribute("selected","")}}function zl(e,t){return Ne(t,Element)&&(Hl(e,t),Pl(e,t),$l(e,t),Ll(e,t)),t}async function Nl(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const o={};for(let l=0;l<n.length;l++){const h=n[l].getAttribute("xlink:href");if(h){const x=e.querySelector(h),w=document.querySelector(h);!x&&w&&!o[h]&&(o[h]=await un(w,t,!0))}}const i=Object.values(o);if(i.length){const l="http://www.w3.org/1999/xhtml",p=document.createElementNS(l,"svg");p.setAttribute("xmlns",l),p.style.position="absolute",p.style.width="0",p.style.height="0",p.style.overflow="hidden",p.style.display="none";const h=document.createElementNS(l,"defs");p.appendChild(h);for(let x=0;x<i.length;x++)h.appendChild(i[x]);e.appendChild(p)}return e}async function un(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>Bl(o,t)).then(o=>ql(e,o,t)).then(o=>zl(e,o)).then(o=>Nl(o,t))}const yi=/url\((['"]?)([^'"]+?)\1\)/g,jl=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Wl=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Kl(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Gl(e){const t=[];return e.replace(yi,(n,o,i)=>(t.push(i),n)),t.filter(n=>!Pn(n))}async function Ql(e,t,n,o,i){try{const l=n?yl(t,n):t,p=qn(t);let h;if(i){const x=await i(l);h=gi(x,p)}else h=await Hn(l,p,o);return e.replace(Kl(t),`$1${h}$3`)}catch{}return e}function Jl(e,{preferredFontFormat:t}){return t?e.replace(Wl,n=>{for(;;){const[o,,i]=jl.exec(n)||[];if(!i)return"";if(i===t)return`src: ${o};`}}):e}function Si(e){return e.search(yi)!==-1}async function bi(e,t,n){if(!Si(e))return e;const o=Jl(e,n);return Gl(o).reduce((l,p)=>l.then(h=>Ql(h,p,t,n)),Promise.resolve(o))}async function Kt(e,t,n){var o;const i=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(i){const l=await bi(i,null,n);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function Xl(e,t){await Kt("background",e,t)||await Kt("background-image",e,t),await Kt("mask",e,t)||await Kt("mask-image",e,t)}async function Yl(e,t){const n=Ne(e,HTMLImageElement);if(!(n&&!Pn(e.src))&&!(Ne(e,SVGImageElement)&&!Pn(e.href.baseVal)))return;const o=n?e.src:e.href.baseVal,i=await Hn(o,qn(o),t);await new Promise((l,p)=>{e.onload=l,e.onerror=p;const h=e;h.decode&&(h.decode=l),h.loading==="lazy"&&(h.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function Zl(e,t){const o=nt(e.childNodes).map(i=>xi(i,t));await Promise.all(o).then(()=>e)}async function xi(e,t){Ne(e,Element)&&(await Xl(e,t),await Yl(e,t),await Zl(e,t))}function es(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(i=>{n[i]=o[i]}),e}const Mo={};async function Uo(e){let t=Mo[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},Mo[e]=t,t}async function Ao(e,t){let n=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,l=(n.match(/url\([^)]+\)/g)||[]).map(async p=>{let h=p.replace(o,"$1");return h.startsWith("https://")||(h=new URL(h,e.url).href),vi(h,t.fetchRequestInit,({result:x})=>(n=n.replace(p,`url(${x})`),[p,x]))});return Promise.all(l).then(()=>n)}function Fo(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const x=i.exec(o);if(x===null)break;t.push(x[0])}o=o.replace(i,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,p="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(p,"gi");for(;;){let x=l.exec(o);if(x===null){if(x=h.exec(o),x===null)break;l.lastIndex=h.lastIndex}else h.lastIndex=l.lastIndex;t.push(x[0])}return t}async function ts(e,t){const n=[],o=[];return e.forEach(i=>{if("cssRules"in i)try{nt(i.cssRules||[]).forEach((l,p)=>{if(l.type===CSSRule.IMPORT_RULE){let h=p+1;const x=l.href,w=Uo(x).then(_=>Ao(_,t)).then(_=>Fo(_).forEach(I=>{try{i.insertRule(I,I.startsWith("@import")?h+=1:i.cssRules.length)}catch(a){console.error("Error inserting rule from remote css",{rule:I,error:a})}})).catch(_=>{console.error("Error loading remote css",_.toString())});o.push(w)}})}catch(l){const p=e.find(h=>h.href==null)||document.styleSheets[0];i.href!=null&&o.push(Uo(i.href).then(h=>Ao(h,t)).then(h=>Fo(h).forEach(x=>{p.insertRule(x,i.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",l)}}),Promise.all(o).then(()=>(e.forEach(i=>{if("cssRules"in i)try{nt(i.cssRules||[]).forEach(l=>{n.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${i.href}`,l)}}),n))}function ns(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Si(t.style.getPropertyValue("src")))}async function os(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=nt(e.ownerDocument.styleSheets),o=await ts(n,t);return ns(o)}async function is(e,t){const n=await os(e,t);return(await Promise.all(n.map(i=>{const l=i.parentStyleSheet?i.parentStyleSheet.href:null;return bi(i.cssText,l,t)}))).join(`
`)}async function rs(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await is(e,t);if(n){const o=document.createElement("style"),i=document.createTextNode(n);o.appendChild(i),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function as(e,t={}){const{width:n,height:o}=hi(e,t),i=await un(e,t,!0);return await rs(i,t),await xi(i,t),es(i,t),await _l(i,n,o)}async function ls(e,t={}){const{width:n,height:o}=hi(e,t),i=await as(e,t),l=await an(i),p=document.createElement("canvas"),h=p.getContext("2d"),x=t.pixelRatio||wl(),w=t.canvasWidth||n,_=t.canvasHeight||o;return p.width=w*x,p.height=_*x,t.skipAutoScale||Cl(p),p.style.width=`${w}`,p.style.height=`${_}`,t.backgroundColor&&(h.fillStyle=t.backgroundColor,h.fillRect(0,0,p.width,p.height)),h.drawImage(l,0,0,p.width,p.height),p}async function Oo(e,t={}){return(await ls(e,t)).toDataURL("image/jpeg",t.quality||1)}const ss={class:"row",style:{position:"inherit"}},us={class:"col",style:{}},cs={class:"row"},ds={class:"col"},fs={style:{"margin-left":"30px"}},ps={class:"col-7"},ms={class:"row"},hs={class:"row"},gs={class:"col"},vs={class:"col q-ml-sm"},ys={class:"row"},Ss={class:"row"},bs={class:"row"},xs=Y("div",{class:"q-mt-sm"},null,-1),ws={id:"cardFrontAndBack",class:"col flex flex-center q-mt-lg",style:{position:"relative"}},_s=Object.assign({name:"IndexPage",components:{IdCardFront:xo,IdCardBack:wo,TextFormatter:Wt},data:function(){return{photoFormat:{top:-1877,left:-2906,scale:.071},textFormat:{position:{font_size:17,bottom:83,left:40,line_height:20},lastName:{font_size:43,bottom:119,left:40},firstName:{font_size:28,bottom:97,left:40}},selected_employee_input:null,selected_employee_data:{empno:null,lastName:null,firstName:null,middleName:null,extName:null,position:null,position_function:null,address:null},employees:[],selections:this.employees,timestamp:0}},methods:{saveImageCaptured(e){this.timestamp=new Date().valueOf()},savePendata(e){this.$api.post("http://192.168.50.50:8081/test.php",{savePendata:!0,m_penData:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{}).catch(t=>{console.error(t)})},adjustLastName(){console.log("adjust lastname")},downloadImage(){var e=document.getElementById("IdCardFront"),t=document.getElementById("IdCardBack");Oo(e,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_FRONT.jpeg",o.href=n,o.click()}),Oo(t,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_BACK.jpeg",o.href=n,o.click()})},onClearForm(){window.location.reload()},onSubmit(){this.$api.post("http://192.168.50.50:8081/test.php",{saveEmployeeData:!0,selected_employee_data:this.selected_employee_data,textFormat:this.textFormat,photoFormat:this.photoFormat}).then(({data:e})=>{}).catch(e=>{console.error(e)})},onReset(){},getEmployeeData(){!this.selected_employee_input||this.$api.post("http://192.168.50.50:8081/test.php",{getEmployeeData:!0,employeeId:this.selected_employee_input.value}).then(({data:e})=>{console.log("getEmployeeData: ",e),this.selected_employee_data=e,e.text_formatting&&(this.textFormat.lastName.font_size=e.text_formatting.lastName.font_size,this.textFormat.lastName.bottom=e.text_formatting.lastName.bottom,this.textFormat.firstName.font_size=e.text_formatting.firstName.font_size,this.textFormat.firstName.bottom=e.text_formatting.firstName.bottom),e.photo_formatting&&(this.photoFormat.top=e.photo_formatting.top,this.photoFormat.left=e.photo_formatting.left,this.photoFormat.scale=e.photo_formatting.scale)}).catch(e=>{console.error(e)})},filterFn(e,t){if(e===""){t(()=>{this.selections=this.employees});return}t(()=>{const n=e.toLowerCase();this.selections=this.employees.filter(o=>o.label.toLowerCase().indexOf(n)>-1)})}},created(){this.$api.post("http://192.168.50.50:8081/test.php",{getEmployeeList:"true"}).then(({data:e})=>{this.employees=e}).catch(e=>{console.error(e)})},mounted(){}},{__name:"IndexPage",setup(e){return(t,n)=>(it(),mr(ma,{class:"q-pa-md",style:{position:"relative"}},{default:Te(()=>[Y("div",ss,[Y("div",us,[ee(Rn,{clearable:"",class:"q-mb-md",filled:"",modelValue:t.selected_employee_input,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.selected_employee_input=o),n[2]||(n[2]=o=>t.getEmployeeData())],"use-input":"","input-debounce":"0",label:"Select Employee",options:t.selections,onFilter:t.filterFn,onClear:n[1]||(n[1]=o=>t.onClearForm()),behavior:"menu"},{"no-option":Te(()=>[ee(Vo,null,{default:Te(()=>[ee(Bo,{class:"text-grey"},{default:Te(()=>[ot(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter"]),Y("div",cs,[Y("div",ds,[Y("div",fs,[ee(Ja,{onImageCaptured:t.saveImageCaptured,selected_employee_data:t.selected_employee_data},{buttons:Te(()=>[ee(fl,{photoProps:t.photoFormat,selected_employee_data:t.selected_employee_data},null,8,["photoProps","selected_employee_data"])]),_:1},8,["onImageCaptured","selected_employee_data"])])]),Y("div",ps,[ee(pa,{onSubmit:Ko(t.onSubmit,["prevent"]),onReset:t.onReset,class:"q-gutter-sm_"},{default:Te(()=>[ee(He,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.empno,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_employee_data.empno=o),label:"ID Number *",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"Please enter the ID number"]},null,8,["disable","modelValue","rules"]),ee(He,{readonly:"",disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.position,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_employee_data.position=o),label:"Position",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Position should not be empty!"]},{append:Te(()=>[ee(Wt,{textProps:t.textFormat.position,textFor:"position"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),Y("div",ms,[ee(He,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.lastName,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_employee_data.lastName=o),label:"Last Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Last Name should not be empty!"]},{append:Te(()=>[ee(Wt,{textProps:t.textFormat.lastName,textFor:"lastName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),ee(He,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.firstName,"onUpdate:modelValue":n[6]||(n[6]=o=>t.selected_employee_data.firstName=o),label:"First Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* First Name should not be empty!"]},{append:Te(()=>[ee(Wt,{textProps:t.textFormat.firstName,textFor:"firstName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"])]),Y("div",hs,[Y("div",gs,[ee(He,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.middleName,"onUpdate:modelValue":n[7]||(n[7]=o=>t.selected_employee_data.middleName=o),label:"Middle Name",hint:""},null,8,["disable","modelValue"])]),Y("div",vs,[ee(He,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.extName,"onUpdate:modelValue":n[8]||(n[8]=o=>t.selected_employee_data.extName=o),label:"Name Extension"},null,8,["disable","modelValue"])])]),ee(He,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_barangay,"onUpdate:modelValue":n[9]||(n[9]=o=>t.selected_employee_data.address_res_barangay=o),label:"Barangay",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),Y("div",ys,[ee(He,{class:"col q-mr-sm",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_city,"onUpdate:modelValue":n[10]||(n[10]=o=>t.selected_employee_data.address_res_city=o),label:"City/Municipality",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),ee(He,{class:"col",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_zip_code,"onUpdate:modelValue":n[11]||(n[11]=o=>t.selected_employee_data.address_res_zip_code=o),label:"Zipcode",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"])]),ee(He,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_province,"onUpdate:modelValue":n[12]||(n[12]=o=>t.selected_employee_data.address_res_province=o),label:"Province",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),Y("div",Ss,[ee(Rn,{disable:!t.selected_employee_input,class:"col",dense:"",outlined:"",modelValue:t.selected_employee_data.gender,"onUpdate:modelValue":n[13]||(n[13]=o=>t.selected_employee_data.gender=o),options:["MALE","FEMALE"],label:"Gender"},null,8,["disable","modelValue"]),ee(He,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.birthdate,"onUpdate:modelValue":n[14]||(n[14]=o=>t.selected_employee_data.birthdate=o),label:"Birthdate",type:"date"},null,8,["disable","modelValue"])]),Y("div",bs,[ee(He,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.blood_type,"onUpdate:modelValue":n[15]||(n[15]=o=>t.selected_employee_data.blood_type=o),label:"Blood Type",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),ee(He,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.contact_number,"onUpdate:modelValue":n[16]||(n[16]=o=>t.selected_employee_data.contact_number=o),label:"Contact Number",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"])]),ee(He,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_name,"onUpdate:modelValue":n[17]||(n[17]=o=>t.selected_employee_data.emergency_name=o),label:"Emergency Contact Person",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),ee(He,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_number,"onUpdate:modelValue":n[18]||(n[18]=o=>t.selected_employee_data.emergency_number=o),label:"Emergency Contact Number",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),xs,ee(Qe,{disable:!t.selected_employee_input,class:"q-mr-sm",type:"submit"},{default:Te(()=>[ot("Save")]),_:1},8,["disable"]),ee(Qe,{disable:!t.selected_employee_input,label:"Download",onClick:n[19]||(n[19]=o=>t.downloadImage())},null,8,["disable"])]),_:1},8,["onSubmit","onReset"])])])]),Y("div",ws,[ee(xo,{details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),ee(wo,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])])]),_:1}))}});export{_s as default};
