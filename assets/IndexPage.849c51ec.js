import{u as Ot,f as Bt,c as Br,g as qr,b as Fr,a as Vr,h as Hr,d as qo,e as $r,Q as Fo}from"./QItem.e2194fdd.js";import{i as Lr,r as se,o as ct,w as be,j as k,e as Tn,a as We,M as Vo,g as Ae,N as Ho,O as Dn,P as $o,L as Ne,d as Ue,R as qt,S as Mn,h as V,T as Xe,Q as wt,U as Nr,q as et,V as Gt,c as Je,W as zr,X as jr,Y as Lo,Z as Wr,_ as Kr,$ as Gr,K as rn,a0 as St,a1 as Wt,l as tt,a2 as Qr,a3 as Kt,u as Jr,a4 as Xr,a5 as Yr,a6 as Zr,a7 as Un,a8 as He,a9 as Mt,aa as No,ab as Gn,ac as ei,n as zo,ad as ti,ae as ni,af as Rt,ag as Ye,ah as jo,v as oi,p as ri,f as yt,m as ii,s as ai,x as dt,ai as _t,F as Y,D as Re,aj as cn,A as oe,z as _e,ak as li,al as si,am as Wo,C as nt,an as ui,ao as ci,ap as Ko,aq as Go,ar as ze,as as di,at as dn,au as fi,av as pi,aw as fn,ax as mi,ay as pn,y as hi}from"./index.43293569.js";let mn,Ht=0;const Fe=new Array(256);for(let e=0;e<256;e++)Fe[e]=(e+256).toString(16).substring(1);const gi=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),Qn=4096;function _n(){(mn===void 0||Ht+16>Qn)&&(Ht=0,mn=gi(Qn));const e=Array.prototype.slice.call(mn,Ht,Ht+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Fe[e[0]]+Fe[e[1]]+Fe[e[2]]+Fe[e[3]]+"-"+Fe[e[4]]+Fe[e[5]]+"-"+Fe[e[6]]+Fe[e[7]]+"-"+Fe[e[8]]+Fe[e[9]]+"-"+Fe[e[10]]+Fe[e[11]]+Fe[e[12]]+Fe[e[13]]+Fe[e[14]]+Fe[e[15]]}function vi(e){return e==null?null:e}function Jn(e,t){return e==null?t===!0?`f_${_n()}`:null:e}function yi({getValue:e,required:t=!0}={}){if(Lr.value===!0){const n=e!==void 0?se(vi(e())):se(null);return t===!0&&n.value===null&&ct(()=>{n.value=`f_${_n()}`}),e!==void 0&&be(e,o=>{n.value=Jn(o,t)}),n}return e!==void 0?k(()=>Jn(e(),t)):se(`f_${_n()}`)}function Si({validate:e,resetValidation:t,requiresQForm:n}){const o=Tn(Vo,!1);if(o!==!1){const{props:r,proxy:l}=Ae();Object.assign(l,{validate:e,resetValidation:t}),be(()=>r.disable,p=>{p===!0?(typeof t=="function"&&t(),o.unbindComponent(l)):o.bindComponent(l)}),ct(()=>{r.disable!==!0&&o.bindComponent(l)}),We(()=>{r.disable!==!0&&o.unbindComponent(l)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Xn=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Yn=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Zn=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,$t=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Lt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,hn={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Xn.test(e),hexaColor:e=>Yn.test(e),hexOrHexaColor:e=>Zn.test(e),rgbColor:e=>$t.test(e),rgbaColor:e=>Lt.test(e),rgbOrRgbaColor:e=>$t.test(e)||Lt.test(e),hexOrRgbColor:e=>Xn.test(e)||$t.test(e),hexaOrRgbaColor:e=>Yn.test(e)||Lt.test(e),anyColor:e=>Zn.test(e)||$t.test(e)||Lt.test(e)},bi=[!0,!1,"ondemand"],wi={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>bi.includes(e)}};function xi(e,t){const{props:n,proxy:o}=Ae(),r=se(!1),l=se(null),p=se(!1);Si({validate:s,resetValidation:c});let h=0,w;const x=k(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),_=k(()=>n.disable!==!0&&x.value===!0&&t.value===!1),I=k(()=>n.error===!0||r.value===!0),a=k(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:l.value);be(()=>n.modelValue,()=>{p.value=!0,_.value===!0&&n.lazyRules===!1&&u()});function i(){n.lazyRules!=="ondemand"&&_.value===!0&&p.value===!0&&u()}be(()=>n.reactiveRules,v=>{v===!0?w===void 0&&(w=be(()=>n.rules,i,{immediate:!0,deep:!0})):w!==void 0&&(w(),w=void 0)},{immediate:!0}),be(()=>n.lazyRules,i),be(e,v=>{v===!0?p.value=!0:_.value===!0&&n.lazyRules!=="ondemand"&&u()});function c(){h++,t.value=!1,p.value=!1,r.value=!1,l.value=null,u.cancel()}function s(v=n.modelValue){if(n.disable===!0||x.value===!1)return!0;const S=++h,b=t.value!==!0?()=>{p.value=!0}:()=>{},D=(N,K)=>{N===!0&&b(),r.value=N,l.value=K||null,t.value=!1},B=[];for(let N=0;N<n.rules.length;N++){const K=n.rules[N];let Z;if(typeof K=="function"?Z=K(v,hn):typeof K=="string"&&hn[K]!==void 0&&(Z=hn[K](v)),Z===!1||typeof Z=="string")return D(!0,Z),!1;Z!==!0&&Z!==void 0&&B.push(Z)}return B.length===0?(D(!1),!0):(t.value=!0,Promise.all(B).then(N=>{if(N===void 0||Array.isArray(N)===!1||N.length===0)return S===h&&D(!1),!0;const K=N.find(Z=>Z===!1||typeof Z=="string");return S===h&&D(K!==void 0,K),K===void 0},N=>(S===h&&(console.error(N),D(!0)),!1)))}const u=Ho(s,0);return We(()=>{w!==void 0&&w(),u.cancel()}),Object.assign(o,{resetValidation:c,validate:s}),Dn(o,"hasError",()=>I.value),{isDirtyModel:p,hasRules:x,hasError:I,errorMessage:a,validate:s,resetValidation:c}}const eo=/^on[A-Z]/;function Ci(){const{attrs:e,vnode:t}=Ae(),n={listeners:se({}),attributes:se({})};function o(){const r={},l={};for(const p in e)p!=="class"&&p!=="style"&&eo.test(p)===!1&&(r[p]=e[p]);for(const p in t.props)eo.test(p)===!0&&(l[p]=t.props[p]);n.attributes.value=r,n.listeners.value=l}return $o(o),o(),n}let at=[],Ut=[];function Qo(e){Ut=Ut.filter(t=>t!==e)}function Ti(e){Qo(e),Ut.push(e)}function to(e){Qo(e),Ut.length===0&&at.length!==0&&(at[at.length-1](),at=[])}function Ft(e){Ut.length===0?e():at.push(e)}function _i(e){at=at.filter(t=>t!==e)}function At(e){return e!=null&&(""+e).length!==0}const an={...Ot,...wi,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},An=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function On({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,proxy:o}=Ae(),r=Bt(n,o.$q),l=yi({required:e,getValue:()=>n.for});return{requiredForAttr:e,tag:t===!0?k(()=>n.tag):{value:"label"},isDark:r,editable:k(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:se(!1),focused:se(!1),hasPopupOpen:!1,splitAttrs:Ci(),targetUid:l,rootRef:se(null),targetRef:se(null),controlRef:se(null)}}function Bn(e){const{props:t,emit:n,slots:o,attrs:r,proxy:l}=Ae(),{$q:p}=l;let h=null;e.hasValue===void 0&&(e.hasValue=k(()=>At(t.modelValue))),e.emitValue===void 0&&(e.emitValue=A=>{n("update:modelValue",A)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:U,onFocusout:m}),Object.assign(e,{clearValue:L,onControlFocusin:U,onControlFocusout:m,focus:K}),e.computedCounter===void 0&&(e.computedCounter=k(()=>{if(t.counter!==!1){const A=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,te=t.maxlength!==void 0?t.maxlength:t.maxValues;return A+(te!==void 0?" / "+te:"")}}));const{isDirtyModel:w,hasRules:x,hasError:_,errorMessage:I,resetValidation:a}=xi(e.focused,e.innerLoading),i=e.floatingLabel!==void 0?k(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):k(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),c=k(()=>t.bottomSlots===!0||t.hint!==void 0||x.value===!0||t.counter===!0||t.error!==null),s=k(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),u=k(()=>`q-field row no-wrap items-start q-field--${s.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(i.value===!0?" q-field--float":"")+(S.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(_.value===!0?" q-field--error":"")+(_.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&c.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),v=k(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(_.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),S=k(()=>t.labelSlot===!0||t.label!==void 0),b=k(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&_.value!==!0?` text-${t.labelColor}`:"")),D=k(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:i.value,modelValue:t.modelValue,emitValue:e.emitValue})),B=k(()=>{const A={};return e.targetUid.value&&(A.for=e.targetUid.value),t.disable===!0&&(A["aria-disabled"]="true"),A});function N(){const A=document.activeElement;let te=e.targetRef!==void 0&&e.targetRef.value;te&&(A===null||A.id!==e.targetUid.value)&&(te.hasAttribute("tabindex")===!0||(te=te.querySelector("[tabindex]")),te&&te!==A&&te.focus({preventScroll:!0}))}function K(){Ft(N)}function Z(){_i(N);const A=document.activeElement;A!==null&&e.rootRef.value.contains(A)&&A.blur()}function U(A){h!==null&&(clearTimeout(h),h=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",A))}function m(A,te){h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",A)),te!==void 0&&te())})}function L(A){Ne(A),p.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),Ue(()=>{const te=w.value;a(),w.value=te})}function M(){const A=[];return o.prepend!==void 0&&A.push(V("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Xe},o.prepend())),A.push(V("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},ee())),_.value===!0&&t.noErrorIcon===!1&&A.push(ue("error",[V(wt,{name:p.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?A.push(ue("inner-loading-append",o.loading!==void 0?o.loading():[V(Nr,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&A.push(ue("inner-clearable-append",[V(wt,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||p.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:L})])),o.append!==void 0&&A.push(V("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Xe},o.append())),e.getInnerAppend!==void 0&&A.push(ue("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&A.push(e.getControlChild()),A}function ee(){const A=[];return t.prefix!==void 0&&t.prefix!==null&&A.push(V("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&A.push(e.getShadowControl()),e.getControl!==void 0?A.push(e.getControl()):o.rawControl!==void 0?A.push(o.rawControl()):o.control!==void 0&&A.push(V("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(D.value))),S.value===!0&&A.push(V("div",{class:b.value},et(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&A.push(V("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),A.concat(et(o.default))}function P(){let A,te;_.value===!0?I.value!==null?(A=[V("div",{role:"alert"},I.value)],te=`q--slot-error-${I.value}`):(A=et(o.error),te="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(A=[V("div",t.hint)],te=`q--slot-hint-${t.hint}`):(A=et(o.hint),te="q--slot-hint"));const we=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&we===!1&&A===void 0)return;const me=V("div",{key:te,class:"q-field__messages col"},A);return V("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Xe},[t.hideBottomSpace===!0?me:V(Gt,{name:"q-transition--field-message"},()=>me),we===!0?V("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function ue(A,te){return te===null?null:V("div",{key:A,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},te)}let re=!1;return qt(()=>{re=!0}),Mn(()=>{re===!0&&t.autofocus===!0&&l.focus()}),t.autofocus===!0&&ct(()=>{l.focus()}),We(()=>{h!==null&&clearTimeout(h)}),Object.assign(l,{focus:K,blur:Z}),function(){const te=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...B.value}:B.value;return V(e.tag.value,{ref:e.rootRef,class:[u.value,r.class],style:r.style,...te},[o.before!==void 0?V("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Xe},o.before()):null,V("div",{class:"q-field__inner relative-position col self-stretch"},[V("div",{ref:e.controlRef,class:v.value,tabindex:-1,...e.controlEvents},M()),c.value===!0?P():null]),o.after!==void 0?V("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Xe},o.after()):null])}}var ki=Je({name:"QField",inheritAttrs:!1,props:{...an,tag:{type:String,default:"label"}},emits:An,setup(){return Bn(On({requiredForAttr:!1,tagProp:!0}))}});const Ri={xs:8,sm:10,md:14,lg:20,xl:24};var Ii=Je({name:"QChip",props:{...Ot,...zr,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=Ae(),r=Bt(e,o),l=jr(e,Ri),p=k(()=>e.selected===!0||e.icon!==void 0),h=k(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),w=k(()=>e.iconRemove||o.iconSet.chip.remove),x=k(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),_=k(()=>{const u=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(u?` text-${u} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(x.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),I=k(()=>{const u=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},v={...u,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:u,remove:v}});function a(u){u.keyCode===13&&i(u)}function i(u){e.disable||(n("update:selected",!e.selected),n("click",u))}function c(u){(u.keyCode===void 0||u.keyCode===13)&&(Ne(u),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function s(){const u=[];x.value===!0&&u.push(V("div",{class:"q-focus-helper"})),p.value===!0&&u.push(V(wt,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const v=e.label!==void 0?[V("div",{class:"ellipsis"},[e.label])]:void 0;return u.push(V("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Wr(t.default,v))),e.iconRight&&u.push(V(wt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&u.push(V(wt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:w.value,...I.value.remove,onClick:c,onKeyup:c})),u}return()=>{if(e.modelValue===!1)return;const u={class:_.value,style:l.value};return x.value===!0&&Object.assign(u,I.value.chip,{onClick:i,onKeyup:a}),Lo("div",u,s(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Kr,e.ripple]])}}});function Jo(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Gr.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Ei={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Pi({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:r,emit:l}=Ae(),p=se(null);let h=null;function w(i){return p.value===null?!1:i===void 0||i.touches===void 0||i.touches.length<=1}const x={};n===void 0&&(Object.assign(x,{hide(i){r.hide(i)},toggle(i){r.toggle(i),i.qAnchorHandled=!0},toggleKey(i){rn(i,13)===!0&&x.toggle(i)},contextClick(i){r.hide(i),Xe(i),Ue(()=>{r.show(i),i.qAnchorHandled=!0})},prevent:Xe,mobileTouch(i){if(x.mobileCleanup(i),w(i)!==!0)return;r.hide(i),p.value.classList.add("non-selectable");const c=i.target;St(x,"anchor",[[c,"touchmove","mobileCleanup","passive"],[c,"touchend","mobileCleanup","passive"],[c,"touchcancel","mobileCleanup","passive"],[p.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{h=null,r.show(i),i.qAnchorHandled=!0},300)},mobileCleanup(i){p.value.classList.remove("non-selectable"),h!==null&&(clearTimeout(h),h=null),e.value===!0&&i!==void 0&&Jo()}}),n=function(i=o.contextMenu){if(o.noParentEvent===!0||p.value===null)return;let c;i===!0?r.$q.platform.is.mobile===!0?c=[[p.value,"touchstart","mobileTouch","passive"]]:c=[[p.value,"mousedown","hide","passive"],[p.value,"contextmenu","contextClick","notPassive"]]:c=[[p.value,"click","toggle","passive"],[p.value,"keyup","toggleKey","passive"]],St(x,"anchor",c)});function _(){Wt(x,"anchor")}function I(i){for(p.value=i;p.value.classList.contains("q-anchor--skip");)p.value=p.value.parentNode;n()}function a(){if(o.target===!1||o.target===""||r.$el.parentNode===null)p.value=null;else if(o.target===!0)I(r.$el.parentNode);else{let i=o.target;if(typeof o.target=="string")try{i=document.querySelector(o.target)}catch{i=void 0}i!=null?(p.value=i.$el||i,n()):(p.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return be(()=>o.contextMenu,i=>{p.value!==null&&(_(),n(i))}),be(()=>o.target,()=>{p.value!==null&&_(),a()}),be(()=>o.noParentEvent,i=>{p.value!==null&&(i===!0?_():n())}),ct(()=>{a(),t!==!0&&o.modelValue===!0&&p.value===null&&l("update:modelValue",!1)}),We(()=>{h!==null&&clearTimeout(h),_()}),{anchorEl:p,canShow:w,anchorEvents:x}}function Di(e,t){const n=se(null);let o;function r(h,w){const x=`${w!==void 0?"add":"remove"}EventListener`,_=w!==void 0?w:o;h!==window&&h[x]("scroll",_,tt.passive),window[x]("scroll",_,tt.passive),o=w}function l(){n.value!==null&&(r(n.value),n.value=null)}const p=be(()=>e.noParentEvent,()=>{n.value!==null&&(l(),t())});return We(p),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:r}}const Xo={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Yo=["beforeShow","show","beforeHide","hide"];function Zo({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:r,processOnMount:l}){const p=Ae(),{props:h,emit:w,proxy:x}=p;let _;function I(S){e.value===!0?c(S):a(S)}function a(S){if(h.disable===!0||S!==void 0&&S.qAnchorHandled===!0||t!==void 0&&t(S)!==!0)return;const b=h["onUpdate:modelValue"]!==void 0;b===!0&&(w("update:modelValue",!0),_=S,Ue(()=>{_===S&&(_=void 0)})),(h.modelValue===null||b===!1)&&i(S)}function i(S){e.value!==!0&&(e.value=!0,w("beforeShow",S),o!==void 0?o(S):w("show",S))}function c(S){if(h.disable===!0)return;const b=h["onUpdate:modelValue"]!==void 0;b===!0&&(w("update:modelValue",!1),_=S,Ue(()=>{_===S&&(_=void 0)})),(h.modelValue===null||b===!1)&&s(S)}function s(S){e.value!==!1&&(e.value=!1,w("beforeHide",S),r!==void 0?r(S):w("hide",S))}function u(S){h.disable===!0&&S===!0?h["onUpdate:modelValue"]!==void 0&&w("update:modelValue",!1):S===!0!==e.value&&(S===!0?i:s)(_)}be(()=>h.modelValue,u),n!==void 0&&Qr(p)===!0&&be(()=>x.$route.fullPath,()=>{n.value===!0&&e.value===!0&&c()}),l===!0&&ct(()=>{u(h.modelValue)});const v={show:a,hide:c,toggle:I};return Object.assign(x,v),v}const xt=[];function Mi(e){return xt.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function er(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Kt(e)}else if(e.__qPortal===!0){const n=Kt(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Kt(e)}while(e!=null)}function Ui(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=er(e,t);continue}e.hide(t)}e=Kt(e)}}const Ai=Je({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Oi(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function tr(e,t,n,o){const r=se(!1),l=se(!1);let p=null;const h={},w=o==="dialog"&&Oi(e);function x(I){if(I===!0){to(h),l.value=!0;return}l.value=!1,r.value===!1&&(w===!1&&p===null&&(p=Yr(!1,o)),r.value=!0,xt.push(e.proxy),Ti(h))}function _(I){if(l.value=!1,I!==!0)return;to(h),r.value=!1;const a=xt.indexOf(e.proxy);a!==-1&&xt.splice(a,1),p!==null&&(Zr(p),p=null)}return Jr(()=>{_(!0)}),e.proxy.__qPortal=!0,Dn(e.proxy,"contentEl",()=>t.value),{showPortal:x,hidePortal:_,portalIsActive:r,portalIsAccessible:l,renderPortal:()=>w===!0?n():r.value===!0?[V(Xr,{to:p},V(Ai,n))]:void 0}}const nr={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function or(e,t=()=>{},n=()=>{}){return{transitionProps:k(()=>{const o=`q-transition--${e.transitionShow||t()}`,r=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:k(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function rr(){let e;const t=Ae();function n(){e=void 0}return qt(n),We(n),{removeTick:n,registerTick(o){e=o,Ue(()=>{e===o&&(Un(t)===!1&&e(),e=void 0)})}}}function ir(){let e=null;const t=Ae();function n(){e!==null&&(clearTimeout(e),e=null)}return qt(n),We(n),{removeTimeout:n,registerTimeout(o,r){n(),Un(t)===!1&&(e=setTimeout(()=>{e=null,o()},r))}}}const lt=[];let Tt;function Bi(e){Tt=e.keyCode===27}function qi(){Tt===!0&&(Tt=!1)}function Fi(e){Tt===!0&&(Tt=!1,rn(e,27)===!0&&lt[lt.length-1](e))}function ar(e){window[e]("keydown",Bi),window[e]("blur",qi),window[e]("keyup",Fi),Tt=!1}function lr(e){He.is.desktop===!0&&(lt.push(e),lt.length===1&&ar("addEventListener"))}function Qt(e){const t=lt.indexOf(e);t!==-1&&(lt.splice(t,1),lt.length===0&&ar("removeEventListener"))}const st=[];function sr(e){st[st.length-1](e)}function ur(e){He.is.desktop===!0&&(st.push(e),st.length===1&&document.body.addEventListener("focusin",sr))}function kn(e){const t=st.indexOf(e);t!==-1&&(st.splice(t,1),st.length===0&&document.body.removeEventListener("focusin",sr))}const{notPassiveCapture:Jt}=tt,ut=[];function Xt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=xt.length-1;for(;n>=0;){const o=xt[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=ut.length-1;o>=0;o--){const r=ut[o];if((r.anchorEl.value===null||r.anchorEl.value.contains(t)===!1)&&(t===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(t)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function Vi(e){ut.push(e),ut.length===1&&(document.addEventListener("mousedown",Xt,Jt),document.addEventListener("touchstart",Xt,Jt))}function no(e){const t=ut.findIndex(n=>n===e);t!==-1&&(ut.splice(t,1),ut.length===0&&(document.removeEventListener("mousedown",Xt,Jt),document.removeEventListener("touchstart",Xt,Jt)))}let oo,ro;function io(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Hi(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Rn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Rn[`${e}#ltr`]=e,Rn[`${e}#rtl`]=e});function ao(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Rn[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function $i(e,t){let{top:n,left:o,right:r,bottom:l,width:p,height:h}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],l+=t[1],r+=t[0],p+=t[0],h+=t[1]),{top:n,bottom:l,height:h,left:o,right:r,width:p,middle:o+(r-o)/2,center:n+(l-n)/2}}function Li(e,t,n){let{top:o,left:r}=e.getBoundingClientRect();return o+=t.top,r+=t.left,n!==void 0&&(o+=n[1],r+=n[0]),{top:o,bottom:o+1,height:1,left:r,right:r+1,width:1,middle:r,center:o}}function Ni(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function lo(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function cr(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{cr(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:r,anchorOrigin:l,selfOrigin:p,absoluteOffset:h,fit:w,cover:x,maxHeight:_,maxWidth:I}=e;if(He.is.ios===!0&&window.visualViewport!==void 0){const N=document.body.style,{offsetLeft:K,offsetTop:Z}=window.visualViewport;K!==oo&&(N.setProperty("--q-pe-left",K+"px"),oo=K),Z!==ro&&(N.setProperty("--q-pe-top",Z+"px"),ro=Z)}const{scrollLeft:a,scrollTop:i}=n,c=h===void 0?$i(r,x===!0?[0,0]:o):Li(r,h,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:I||"100vw",maxHeight:_||"100vh",visibility:"visible"});const{offsetWidth:s,offsetHeight:u}=n,{elWidth:v,elHeight:S}=w===!0||x===!0?{elWidth:Math.max(c.width,s),elHeight:x===!0?Math.max(c.height,u):u}:{elWidth:s,elHeight:u};let b={maxWidth:I,maxHeight:_};(w===!0||x===!0)&&(b.minWidth=c.width+"px",x===!0&&(b.minHeight=c.height+"px")),Object.assign(n.style,b);const D=Ni(v,S);let B=lo(c,D,l,p);if(h===void 0||o===void 0)gn(B,c,D,l,p);else{const{top:N,left:K}=B;gn(B,c,D,l,p);let Z=!1;if(B.top!==N){Z=!0;const U=2*o[1];c.center=c.top-=U,c.bottom-=U+2}if(B.left!==K){Z=!0;const U=2*o[0];c.middle=c.left-=U,c.right-=U+2}Z===!0&&(B=lo(c,D,l,p),gn(B,c,D,l,p))}b={top:B.top+"px",left:B.left+"px"},B.maxHeight!==void 0&&(b.maxHeight=B.maxHeight+"px",c.height>B.maxHeight&&(b.minHeight=b.maxHeight)),B.maxWidth!==void 0&&(b.maxWidth=B.maxWidth+"px",c.width>B.maxWidth&&(b.minWidth=b.maxWidth)),Object.assign(n.style,b),n.scrollTop!==i&&(n.scrollTop=i),n.scrollLeft!==a&&(n.scrollLeft=a)}function gn(e,t,n,o,r){const l=n.bottom,p=n.right,h=Br(),w=window.innerHeight-h,x=document.body.clientWidth;if(e.top<0||e.top+l>w)if(r.vertical==="center")e.top=t[o.vertical]>w/2?Math.max(0,w-l):0,e.maxHeight=Math.min(l,w);else if(t[o.vertical]>w/2){const _=Math.min(w,o.vertical==="center"?t.center:o.vertical===r.vertical?t.bottom:t.top);e.maxHeight=Math.min(l,_),e.top=Math.max(0,_-l)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===r.vertical?t.top:t.bottom),e.maxHeight=Math.min(l,w-e.top);if(e.left<0||e.left+p>x)if(e.maxWidth=Math.min(p,x),r.horizontal==="middle")e.left=t[o.horizontal]>x/2?Math.max(0,x-p):0;else if(t[o.horizontal]>x/2){const _=Math.min(x,o.horizontal==="middle"?t.middle:o.horizontal===r.horizontal?t.right:t.left);e.maxWidth=Math.min(p,_),e.left=Math.max(0,_-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===r.horizontal?t.left:t.right),e.maxWidth=Math.min(p,x-e.left)}var zi=Je({name:"QMenu",inheritAttrs:!1,props:{...Ei,...Xo,...Ot,...nr,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:io},self:{type:String,validator:io},offset:{type:Array,validator:Hi},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Yo,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let r=null,l,p,h;const w=Ae(),{proxy:x}=w,{$q:_}=x,I=se(null),a=se(!1),i=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),c=Bt(e,_),{registerTick:s,removeTick:u}=rr(),{registerTimeout:v}=ir(),{transitionProps:S,transitionStyle:b}=or(e),{localScrollTarget:D,changeScrollEvent:B,unconfigureScrollTarget:N}=Di(e,z),{anchorEl:K,canShow:Z}=Pi({showing:a}),{hide:U}=Zo({showing:a,canShow:Z,handleShow:me,handleHide:R,hideOnRouteChange:i,processOnMount:!0}),{showPortal:m,hidePortal:L,renderPortal:M}=tr(w,I,Se,"menu"),ee={anchorEl:K,innerRef:I,onClickOutside(F){if(e.persistent!==!0&&a.value===!0)return U(F),(F.type==="touchstart"||F.target.classList.contains("q-dialog__backdrop"))&&Ne(F),!0}},P=k(()=>ao(e.anchor||(e.cover===!0?"center middle":"bottom start"),_.lang.rtl)),ue=k(()=>e.cover===!0?P.value:ao(e.self||"top start",_.lang.rtl)),re=k(()=>(e.square===!0?" q-menu--square":"")+(c.value===!0?" q-menu--dark q-dark":"")),A=k(()=>e.autoClose===!0?{onClick:ce}:{}),te=k(()=>a.value===!0&&e.persistent!==!0);be(te,F=>{F===!0?(lr(q),Vi(ee)):(Qt(q),no(ee))});function we(){Ft(()=>{let F=I.value;F&&F.contains(document.activeElement)!==!0&&(F=F.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||F.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||F.querySelector("[autofocus], [data-autofocus]")||F,F.focus({preventScroll:!0}))})}function me(F){if(r=e.noRefocus===!1?document.activeElement:null,ur(pe),m(),z(),l=void 0,F!==void 0&&(e.touchPosition||e.contextMenu)){const Ce=Mt(F);if(Ce.left!==void 0){const{top:Ee,left:Ke}=K.value.getBoundingClientRect();l={left:Ce.left-Ke,top:Ce.top-Ee}}}p===void 0&&(p=be(()=>_.screen.width+"|"+_.screen.height+"|"+e.self+"|"+e.anchor+"|"+_.lang.rtl,J)),e.noFocus!==!0&&document.activeElement.blur(),s(()=>{J(),e.noFocus!==!0&&we()}),v(()=>{_.platform.is.ios===!0&&(h=e.autoClose,I.value.click()),J(),m(!0),n("show",F)},e.transitionDuration)}function R(F){u(),L(),T(!0),r!==null&&(F===void 0||F.qClickOutside!==!0)&&(((F&&F.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),v(()=>{L(!0),n("hide",F)},e.transitionDuration)}function T(F){l=void 0,p!==void 0&&(p(),p=void 0),(F===!0||a.value===!0)&&(kn(pe),N(),no(ee),Qt(q)),F!==!0&&(r=null)}function z(){(K.value!==null||e.scrollTarget!==void 0)&&(D.value=qr(K.value,e.scrollTarget),B(D.value,J))}function ce(F){h!==!0?(er(x,F),n("click",F)):h=!1}function pe(F){te.value===!0&&e.noFocus!==!0&&No(I.value,F.target)!==!0&&we()}function q(F){n("escapeKey"),U(F)}function J(){cr({targetEl:I.value,offset:e.offset,anchorEl:K.value,anchorOrigin:P.value,selfOrigin:ue.value,absoluteOffset:l,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Se(){return V(Gt,S.value,()=>a.value===!0?V("div",{role:"menu",...o,ref:I,tabindex:-1,class:["q-menu q-position-engine scroll"+re.value,o.class],style:[o.style,b.value],...A.value},et(t.default)):null)}return We(T),Object.assign(x,{focus:we,updatePosition:J}),M}});function ji(e,t,n){let o;function r(){o!==void 0&&(Gn.remove(o),o=void 0)}return We(()=>{e.value===!0&&r()}),{removeFromHistory:r,addToHistory(){o={condition:()=>n.value===!0,handler:t},Gn.add(o)}}}let It=0,vn,yn,Pt,Sn=!1,so,uo,co,it=null;function Wi(e){Ki(e)&&Ne(e)}function Ki(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=ei(e),n=e.shiftKey&&!e.deltaX,o=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),r=n||o?e.deltaY:e.deltaX;for(let l=0;l<t.length;l++){const p=t[l];if(Hr(p,o))return o?r<0&&p.scrollTop===0?!0:r>0&&p.scrollTop+p.clientHeight===p.scrollHeight:r<0&&p.scrollLeft===0?!0:r>0&&p.scrollLeft+p.clientWidth===p.scrollWidth}return!0}function fo(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Nt(e){Sn!==!0&&(Sn=!0,requestAnimationFrame(()=>{Sn=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:o}=document.scrollingElement;(Pt===void 0||t!==window.innerHeight)&&(Pt=n-t,document.scrollingElement.scrollTop=o),o>Pt&&(document.scrollingElement.scrollTop-=Math.ceil((o-Pt)/8))}))}function po(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:r}=window.getComputedStyle(t);vn=Fr(window),yn=Vr(window),so=t.style.left,uo=t.style.top,co=window.location.href,t.style.left=`-${vn}px`,t.style.top=`-${yn}px`,r!=="hidden"&&(r==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,He.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Nt,tt.passiveCapture),window.visualViewport.addEventListener("scroll",Nt,tt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",fo,tt.passiveCapture))}He.is.desktop===!0&&He.is.mac===!0&&window[`${e}EventListener`]("wheel",Wi,tt.notPassive),e==="remove"&&(He.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",Nt,tt.passiveCapture),window.visualViewport.removeEventListener("scroll",Nt,tt.passiveCapture)):window.removeEventListener("scroll",fo,tt.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=so,t.style.top=uo,window.location.href===co&&window.scrollTo(vn,yn),Pt=void 0)}function Gi(e){let t="add";if(e===!0){if(It++,it!==null){clearTimeout(it),it=null;return}if(It>1)return}else{if(It===0||(It--,It>0))return;if(t="remove",He.is.ios===!0&&He.is.nativeMobile===!0){it!==null&&clearTimeout(it),it=setTimeout(()=>{po(t),it=null},100);return}}po(t)}function Qi(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Gi(t))}}}let zt=0;const Ji={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},mo={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Yt=Je({name:"QDialog",inheritAttrs:!1,props:{...Xo,...nr,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Yo,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const r=Ae(),l=se(null),p=se(!1),h=se(!1);let w=null,x=null,_,I;const a=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:i}=Qi(),{registerTimeout:c}=ir(),{registerTick:s,removeTick:u}=rr(),{transitionProps:v,transitionStyle:S}=or(e,()=>mo[e.position][0],()=>mo[e.position][1]),b=k(()=>S.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:D,hidePortal:B,portalIsAccessible:N,renderPortal:K}=tr(r,l,pe,"dialog"),{hide:Z}=Zo({showing:p,hideOnRouteChange:a,handleShow:ue,handleHide:re,processOnMount:!0}),{addToHistory:U,removeFromHistory:m}=ji(p,Z,a),L=k(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ji[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),M=k(()=>p.value===!0&&e.seamless!==!0),ee=k(()=>e.autoClose===!0?{onClick:T}:{}),P=k(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${M.value===!0?"modal":"seamless"}`,o.class]);be(()=>e.maximized,q=>{p.value===!0&&R(q)}),be(M,q=>{i(q),q===!0?(ur(ce),lr(we)):(kn(ce),Qt(we))});function ue(q){U(),x=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,R(e.maximized),D(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),s(A)):u(),c(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:J,bottom:Se}=document.activeElement.getBoundingClientRect(),{innerHeight:F}=window,Ce=window.visualViewport!==void 0?window.visualViewport.height:F;J>0&&Se>Ce/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ce,Se>=F?1/0:Math.ceil(document.scrollingElement.scrollTop+Se-Ce/2))),document.activeElement.scrollIntoView()}I=!0,l.value.click(),I=!1}D(!0),h.value=!1,n("show",q)},e.transitionDuration)}function re(q){u(),m(),me(!0),h.value=!0,B(),x!==null&&(((q&&q.type.indexOf("key")===0?x.closest('[tabindex]:not([tabindex^="-"])'):void 0)||x).focus(),x=null),c(()=>{B(!0),h.value=!1,n("hide",q)},e.transitionDuration)}function A(q){Ft(()=>{let J=l.value;J===null||J.contains(document.activeElement)===!0||(J=(q!==""?J.querySelector(q):null)||J.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||J.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||J.querySelector("[autofocus], [data-autofocus]")||J,J.focus({preventScroll:!0}))})}function te(q){q&&typeof q.focus=="function"?q.focus({preventScroll:!0}):A(),n("shake");const J=l.value;J!==null&&(J.classList.remove("q-animate--scale"),J.classList.add("q-animate--scale"),w!==null&&clearTimeout(w),w=setTimeout(()=>{w=null,l.value!==null&&(J.classList.remove("q-animate--scale"),A())},170))}function we(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&te():(n("escapeKey"),Z()))}function me(q){w!==null&&(clearTimeout(w),w=null),(q===!0||p.value===!0)&&(R(!1),e.seamless!==!0&&(i(!1),kn(ce),Qt(we))),q!==!0&&(x=null)}function R(q){q===!0?_!==!0&&(zt<1&&document.body.classList.add("q-body--dialog"),zt++,_=!0):_===!0&&(zt<2&&document.body.classList.remove("q-body--dialog"),zt--,_=!1)}function T(q){I!==!0&&(Z(q),n("click",q))}function z(q){e.persistent!==!0&&e.noBackdropDismiss!==!0?Z(q):e.noShake!==!0&&te()}function ce(q){e.allowFocusOutside!==!0&&N.value===!0&&No(l.value,q.target)!==!0&&A('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:A,shake:te,__updateRefocusTarget(q){x=q||null}}),We(me);function pe(){return V("div",{role:"dialog","aria-modal":M.value===!0?"true":"false",...o,class:P.value},[V(Gt,{name:"q-transition--fade",appear:!0},()=>M.value===!0?V("div",{class:"q-dialog__backdrop fixed-full",style:b.value,"aria-hidden":"true",tabindex:-1,onClick:z}):null),V(Gt,v.value,()=>p.value===!0?V("div",{ref:l,class:L.value,style:S.value,tabindex:-1,...ee.value},et(t.default)):null)])}return K}});let Zt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Zt=e.scrollLeft>=0,e.remove()}const Ze=1e3,Xi=["start","center","end","start-force","center-force","end-force"],dr=Array.prototype.filter,Yi=window.getComputedStyle(document.body).overflowAnchor===void 0?zo:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];dr.call(n,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const o=n[t];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function Ct(e,t){return e+t}function bn(e,t,n,o,r,l,p,h){const w=e===window?document.scrollingElement||document.documentElement:e,x=r===!0?"offsetWidth":"offsetHeight",_={scrollStart:0,scrollViewSize:-p-h,scrollMaxSize:0,offsetStart:-p,offsetEnd:-h};if(r===!0?(e===window?(_.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,_.scrollViewSize+=document.documentElement.clientWidth):(_.scrollStart=w.scrollLeft,_.scrollViewSize+=w.clientWidth),_.scrollMaxSize=w.scrollWidth,l===!0&&(_.scrollStart=(Zt===!0?_.scrollMaxSize-_.scrollViewSize:0)-_.scrollStart)):(e===window?(_.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,_.scrollViewSize+=document.documentElement.clientHeight):(_.scrollStart=w.scrollTop,_.scrollViewSize+=w.clientHeight),_.scrollMaxSize=w.scrollHeight),n!==null)for(let I=n.previousElementSibling;I!==null;I=I.previousElementSibling)I.classList.contains("q-virtual-scroll--skip")===!1&&(_.offsetStart+=I[x]);if(o!==null)for(let I=o.nextElementSibling;I!==null;I=I.nextElementSibling)I.classList.contains("q-virtual-scroll--skip")===!1&&(_.offsetEnd+=I[x]);if(t!==e){const I=w.getBoundingClientRect(),a=t.getBoundingClientRect();r===!0?(_.offsetStart+=a.left-I.left,_.offsetEnd-=a.width):(_.offsetStart+=a.top-I.top,_.offsetEnd-=a.height),e!==window&&(_.offsetStart+=_.scrollStart),_.offsetEnd+=_.scrollMaxSize-_.offsetStart}return _}function ho(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(Zt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(Zt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Et(e,t,n,o){if(n>=o)return 0;const r=t.length,l=Math.floor(n/Ze),p=Math.floor((o-1)/Ze)+1;let h=e.slice(l,p).reduce(Ct,0);return n%Ze!==0&&(h-=t.slice(l*Ze,n).reduce(Ct,0)),o%Ze!==0&&o!==r&&(h-=t.slice(o,p*Ze).reduce(Ct,0)),h}const Zi={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ea={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Zi};function ta({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const r=Ae(),{props:l,emit:p,proxy:h}=r,{$q:w}=h;let x,_,I,a=[],i;const c=se(0),s=se(0),u=se({}),v=se(null),S=se(null),b=se(null),D=se({from:0,to:0}),B=k(()=>l.tableColspan!==void 0?l.tableColspan:100);o===void 0&&(o=k(()=>l.virtualScrollItemSize));const N=k(()=>o.value+";"+l.virtualScrollHorizontal),K=k(()=>N.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);be(K,()=>{re()}),be(N,Z);function Z(){ue(_,!0)}function U(R){ue(R===void 0?_:R)}function m(R,T){const z=t();if(z==null||z.nodeType===8)return;const ce=bn(z,n(),v.value,S.value,l.virtualScrollHorizontal,w.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);I!==ce.scrollViewSize&&re(ce.scrollViewSize),M(z,ce,Math.min(e.value-1,Math.max(0,parseInt(R,10)||0)),0,Xi.indexOf(T)!==-1?T:_!==-1&&R>_?"end":"start")}function L(){const R=t();if(R==null||R.nodeType===8)return;const T=bn(R,n(),v.value,S.value,l.virtualScrollHorizontal,w.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),z=e.value-1,ce=T.scrollMaxSize-T.offsetStart-T.offsetEnd-s.value;if(x===T.scrollStart)return;if(T.scrollMaxSize<=0){M(R,T,0,0);return}I!==T.scrollViewSize&&re(T.scrollViewSize),ee(D.value.from);const pe=Math.floor(T.scrollMaxSize-Math.max(T.scrollViewSize,T.offsetEnd)-Math.min(i[z],T.scrollViewSize/2));if(pe>0&&Math.ceil(T.scrollStart)>=pe){M(R,T,z,T.scrollMaxSize-T.offsetEnd-a.reduce(Ct,0));return}let q=0,J=T.scrollStart-T.offsetStart,Se=J;if(J<=ce&&J+T.scrollViewSize>=c.value)J-=c.value,q=D.value.from,Se=J;else for(let F=0;J>=a[F]&&q<z;F++)J-=a[F],q+=Ze;for(;J>0&&q<z;)J-=i[q],J>-T.scrollViewSize?(q++,Se=J):Se=i[q]+J;M(R,T,q,Se)}function M(R,T,z,ce,pe){const q=typeof pe=="string"&&pe.indexOf("-force")!==-1,J=q===!0?pe.replace("-force",""):pe,Se=J!==void 0?J:"start";let F=Math.max(0,z-u.value[Se]),Ce=F+u.value.total;Ce>e.value&&(Ce=e.value,F=Math.max(0,Ce-u.value.total)),x=T.scrollStart;const Ee=F!==D.value.from||Ce!==D.value.to;if(Ee===!1&&J===void 0){te(z);return}const{activeElement:Ke}=document,Pe=b.value;Ee===!0&&Pe!==null&&Pe!==Ke&&Pe.contains(Ke)===!0&&(Pe.addEventListener("focusout",P),setTimeout(()=>{Pe!==null&&Pe.removeEventListener("focusout",P)})),Yi(Pe,z-F);const Ge=J!==void 0?i.slice(F,z).reduce(Ct,0):0;if(Ee===!0){const H=Ce>=D.value.from&&F<=D.value.to?D.value.to:Ce;D.value={from:F,to:H},c.value=Et(a,i,0,F),s.value=Et(a,i,Ce,e.value),requestAnimationFrame(()=>{D.value.to!==Ce&&x===T.scrollStart&&(D.value={from:D.value.from,to:Ce},s.value=Et(a,i,Ce,e.value))})}requestAnimationFrame(()=>{if(x!==T.scrollStart)return;Ee===!0&&ee(F);const H=i.slice(F,z).reduce(Ct,0),j=H+T.offsetStart+c.value,ne=j+i[z];let ge=j+ce;if(J!==void 0){const $=H-Ge,ve=T.scrollStart+$;ge=q!==!0&&ve<j&&ne<ve+T.scrollViewSize?ve:J==="end"?ne-T.scrollViewSize:j-(J==="start"?0:Math.round((T.scrollViewSize-i[z])/2))}x=ge,ho(R,ge,l.virtualScrollHorizontal,w.lang.rtl),te(z)})}function ee(R){const T=b.value;if(T){const z=dr.call(T.children,F=>F.classList&&F.classList.contains("q-virtual-scroll--skip")===!1),ce=z.length,pe=l.virtualScrollHorizontal===!0?F=>F.getBoundingClientRect().width:F=>F.offsetHeight;let q=R,J,Se;for(let F=0;F<ce;){for(J=pe(z[F]),F++;F<ce&&z[F].classList.contains("q-virtual-scroll--with-prev")===!0;)J+=pe(z[F]),F++;Se=J-i[q],Se!==0&&(i[q]+=Se,a[Math.floor(q/Ze)]+=Se),q++}}}function P(){b.value!==null&&b.value!==void 0&&b.value.focus()}function ue(R,T){const z=1*o.value;(T===!0||Array.isArray(i)===!1)&&(i=[]);const ce=i.length;i.length=e.value;for(let q=e.value-1;q>=ce;q--)i[q]=z;const pe=Math.floor((e.value-1)/Ze);a=[];for(let q=0;q<=pe;q++){let J=0;const Se=Math.min((q+1)*Ze,e.value);for(let F=q*Ze;F<Se;F++)J+=i[F];a.push(J)}_=-1,x=void 0,c.value=Et(a,i,0,D.value.from),s.value=Et(a,i,D.value.to,e.value),R>=0?(ee(D.value.from),Ue(()=>{m(R)})):we()}function re(R){if(R===void 0&&typeof window!="undefined"){const J=t();J!=null&&J.nodeType!==8&&(R=bn(J,n(),v.value,S.value,l.virtualScrollHorizontal,w.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}I=R;const T=parseFloat(l.virtualScrollSliceRatioBefore)||0,z=parseFloat(l.virtualScrollSliceRatioAfter)||0,ce=1+T+z,pe=R===void 0||R<=0?1:Math.ceil(R/o.value),q=Math.max(1,pe,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/ce));u.value={total:Math.ceil(q*ce),start:Math.ceil(q*T),center:Math.ceil(q*(.5+T)),end:Math.ceil(q*(1+T)),view:pe}}function A(R,T){const z=l.virtualScrollHorizontal===!0?"width":"height",ce={["--q-virtual-scroll-item-"+z]:o.value+"px"};return[R==="tbody"?V(R,{class:"q-virtual-scroll__padding",key:"before",ref:v},[V("tr",[V("td",{style:{[z]:`${c.value}px`,...ce},colspan:B.value})])]):V(R,{class:"q-virtual-scroll__padding",key:"before",ref:v,style:{[z]:`${c.value}px`,...ce}}),V(R,{class:"q-virtual-scroll__content",key:"content",ref:b,tabindex:-1},T.flat()),R==="tbody"?V(R,{class:"q-virtual-scroll__padding",key:"after",ref:S},[V("tr",[V("td",{style:{[z]:`${s.value}px`,...ce},colspan:B.value})])]):V(R,{class:"q-virtual-scroll__padding",key:"after",ref:S,style:{[z]:`${s.value}px`,...ce}})]}function te(R){_!==R&&(l.onVirtualScroll!==void 0&&p("virtualScroll",{index:R,from:D.value.from,to:D.value.to-1,direction:R<_?"decrease":"increase",ref:h}),_=R)}re();const we=Ho(L,w.platform.is.ios===!0?120:35);ti(()=>{re()});let me=!1;return qt(()=>{me=!0}),Mn(()=>{if(me!==!0)return;const R=t();x!==void 0&&R!==void 0&&R!==null&&R.nodeType!==8?ho(R,x,l.virtualScrollHorizontal,w.lang.rtl):m(_)}),We(()=>{we.cancel()}),Object.assign(h,{scrollTo:m,reset:Z,refresh:U}),{virtualScrollSliceRange:D,virtualScrollSliceSizeComputed:u,setVirtualScrollSize:re,onVirtualScrollEvt:we,localResetVirtualScroll:ue,padVirtualScroll:A,scrollTo:m,reset:Z,refresh:U}}const qn={name:String};function na(e){return k(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function oa(e={}){return(t,n,o)=>{t[n](V("input",{class:"hidden"+(o||""),...e.value}))}}function fr(e){return k(()=>e.name||e.for)}const ra=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,ia=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,aa=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,la=/[a-z0-9_ -]$/i;function pr(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(He.is.firefox===!0?la.test(n.data)===!1:ra.test(n.data)===!0||ia.test(n.data)===!0||aa.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}function bt(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function go(e,t,n){if(n<=t)return t;const o=n-t+1;let r=t+(e-t)%o;return r<t&&(r=o+r),r===0?0:r}const vo=e=>["add","add-unique","toggle"].includes(e),sa=".*+?^${}()|[]\\",ua=Object.keys(an);var In=Je({name:"QSelect",inheritAttrs:!1,props:{...ea,...qn,...an,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:vo},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...An,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:o}=Ae(),{$q:r}=o,l=se(!1),p=se(!1),h=se(-1),w=se(""),x=se(!1),_=se(!1);let I=null,a=null,i,c,s,u=null,v,S,b,D;const B=se(null),N=se(null),K=se(null),Z=se(null),U=se(null),m=fr(e),L=pr(Nn),M=k(()=>Array.isArray(e.options)?e.options.length:0),ee=k(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:P,virtualScrollSliceSizeComputed:ue,localResetVirtualScroll:re,padVirtualScroll:A,onVirtualScrollEvt:te,scrollTo:we,setVirtualScrollSize:me}=ta({virtualScrollLength:M,getVirtualScrollTarget:Cr,getVirtualScrollEl:$n,virtualScrollItemSizeComputed:ee}),R=On(),T=k(()=>{const y=e.mapOptions===!0&&e.multiple!==!0,X=e.modelValue!==void 0&&(e.modelValue!==null||y===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const G=e.mapOptions===!0&&i!==void 0?i:[],he=X.map(ke=>E(ke,G));return e.modelValue===null&&y===!0?he.filter(ke=>ke!==null):he}return X}),z=k(()=>{const y={};return ua.forEach(X=>{const G=e[X];G!==void 0&&(y[X]=G)}),y}),ce=k(()=>e.optionsDark===null?R.isDark.value:e.optionsDark),pe=k(()=>At(T.value)),q=k(()=>{let y="q-field__input q-placeholder col";return e.hideSelected===!0||T.value.length===0?[y,e.inputClass]:(y+=" q-field__input--padding",e.inputClass===void 0?y:[y,e.inputClass])}),J=k(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Se=k(()=>M.value===0),F=k(()=>T.value.map(y=>Ie.value(y)).join(", ")),Ce=k(()=>e.displayValue!==void 0?e.displayValue:F.value),Ee=k(()=>e.optionsHtml===!0?()=>!0:y=>y!=null&&y.html===!0),Ke=k(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||T.value.some(Ee.value))),Pe=k(()=>R.focused.value===!0?e.tabindex:-1),Ge=k(()=>{const y={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${R.targetUid.value}_lb`};return h.value>=0&&(y["aria-activedescendant"]=`${R.targetUid.value}_${h.value}`),y}),H=k(()=>({id:`${R.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),j=k(()=>T.value.map((y,X)=>({index:X,opt:y,html:Ee.value(y),selected:!0,removeAtIndex:C,toggleOption:ie,tabindex:Pe.value}))),ne=k(()=>{if(M.value===0)return[];const{from:y,to:X}=P.value;return e.options.slice(y,X).map((G,he)=>{const ke=Ve.value(G)===!0,Te=ae(G)===!0,qe=y+he,De={clickable:!0,active:Te,activeClass:ve.value,manualFocus:!0,focused:!1,disable:ke,tabindex:-1,dense:e.optionsDense,dark:ce.value,role:"option","aria-selected":Te===!0?"true":"false",id:`${R.targetUid.value}_${qe}`,onClick:()=>{ie(G)}};return ke!==!0&&(h.value===qe&&(De.focused=!0),r.platform.is.desktop===!0&&(De.onMousemove=()=>{l.value===!0&&de(qe)})),{index:qe,opt:G,html:Ee.value(G),label:Ie.value(G),selected:De.active,focused:De.focused,toggleOption:ie,setOptionIndex:de,itemProps:De}})}),ge=k(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),$=k(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ve=k(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),xe=k(()=>W(e.optionValue,"value")),Ie=k(()=>W(e.optionLabel,"label")),Ve=k(()=>W(e.optionDisable,"disable")),$e=k(()=>T.value.map(y=>xe.value(y))),Oe=k(()=>{const y={onInput:Nn,onChange:L,onKeydown:pt,onKeyup:Be,onKeypress:ft,onFocus:fe,onClick(X){c===!0&&Ye(X)}};return y.onCompositionstart=y.onCompositionupdate=y.onCompositionend=L,y});be(T,y=>{i=y,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&R.innerLoading.value!==!0&&(p.value!==!0&&l.value!==!0||pe.value!==!0)&&(s!==!0&&vt(),(p.value===!0||l.value===!0)&&mt(""))},{immediate:!0}),be(()=>e.fillInput,vt),be(l,sn),be(M,Or);function f(y){return e.emitValue===!0?xe.value(y):y}function g(y){if(y!==-1&&y<T.value.length)if(e.multiple===!0){const X=e.modelValue.slice();n("remove",{index:y,value:X.splice(y,1)[0]}),n("update:modelValue",X)}else n("update:modelValue",null)}function C(y){g(y),R.focus()}function O(y,X){const G=f(y);if(e.multiple!==!0){e.fillInput===!0&&kt(Ie.value(y),!0,!0),n("update:modelValue",G);return}if(T.value.length===0){n("add",{index:0,value:G}),n("update:modelValue",e.multiple===!0?[G]:G);return}if(X===!0&&ae(y)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const he=e.modelValue.slice();n("add",{index:he.length,value:G}),he.push(G),n("update:modelValue",he)}function ie(y,X){if(R.editable.value!==!0||y===void 0||Ve.value(y)===!0)return;const G=xe.value(y);if(e.multiple!==!0){X!==!0&&(kt(e.fillInput===!0?Ie.value(y):"",!0,!0),rt()),N.value!==null&&N.value.focus(),(T.value.length===0||Rt(xe.value(T.value[0]),G)!==!0)&&n("update:modelValue",e.emitValue===!0?G:y);return}if((c!==!0||x.value===!0)&&R.focus(),fe(),T.value.length===0){const Te=e.emitValue===!0?G:y;n("add",{index:0,value:Te}),n("update:modelValue",e.multiple===!0?[Te]:Te);return}const he=e.modelValue.slice(),ke=$e.value.findIndex(Te=>Rt(Te,G));if(ke!==-1)n("remove",{index:ke,value:he.splice(ke,1)[0]});else{if(e.maxValues!==void 0&&he.length>=e.maxValues)return;const Te=e.emitValue===!0?G:y;n("add",{index:he.length,value:Te}),he.push(Te)}n("update:modelValue",he)}function de(y){if(r.platform.is.desktop!==!0)return;const X=y!==-1&&y<M.value?y:-1;h.value!==X&&(h.value=X)}function le(y=1,X){if(l.value===!0){let G=h.value;do G=go(G+y,-1,M.value-1);while(G!==-1&&G!==h.value&&Ve.value(e.options[G])===!0);h.value!==G&&(de(G),we(G),X!==!0&&e.useInput===!0&&e.fillInput===!0&&Vt(G>=0?Ie.value(e.options[G]):v,!0))}}function E(y,X){const G=he=>Rt(xe.value(he),y);return e.options.find(G)||X.find(G)||y}function W(y,X){const G=y!==void 0?y:X;return typeof G=="function"?G:he=>he!==null&&typeof he=="object"&&G in he?he[G]:he}function ae(y){const X=xe.value(y);return $e.value.find(G=>Rt(G,X))!==void 0}function fe(y){e.useInput===!0&&N.value!==null&&(y===void 0||N.value===y.target&&y.target.value===F.value)&&N.value.select()}function ye(y){rn(y,27)===!0&&l.value===!0&&(Ye(y),rt(),vt()),n("keyup",y)}function Be(y){const{value:X}=y.target;if(y.keyCode!==void 0){ye(y);return}if(y.target.value="",I!==null&&(clearTimeout(I),I=null),a!==null&&(clearTimeout(a),a=null),vt(),typeof X=="string"&&X.length!==0){const G=X.toLocaleLowerCase(),he=Te=>{const qe=e.options.find(De=>Te.value(De).toLocaleLowerCase()===G);return qe===void 0?!1:(T.value.indexOf(qe)===-1?ie(qe):rt(),!0)},ke=Te=>{he(xe)!==!0&&(he(Ie)===!0||Te===!0||mt(X,!0,()=>ke(!0)))};ke()}else R.clearValue(y)}function ft(y){n("keypress",y)}function pt(y){if(n("keydown",y),jo(y)===!0)return;const X=w.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),G=y.shiftKey!==!0&&e.multiple!==!0&&(h.value!==-1||X===!0);if(y.keyCode===27){Xe(y);return}if(y.keyCode===9&&G===!1){ht();return}if(y.target===void 0||y.target.id!==R.targetUid.value||R.editable.value!==!0)return;if(y.keyCode===40&&R.innerLoading.value!==!0&&l.value===!1){Ne(y),gt();return}if(y.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&w.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?g(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(y.keyCode===35||y.keyCode===36)&&(typeof w.value!="string"||w.value.length===0)&&(Ne(y),h.value=-1,le(y.keyCode===36?1:-1,e.multiple)),(y.keyCode===33||y.keyCode===34)&&ue.value!==void 0&&(Ne(y),h.value=Math.max(-1,Math.min(M.value,h.value+(y.keyCode===33?-1:1)*ue.value.view)),le(y.keyCode===33?1:-1,e.multiple)),(y.keyCode===38||y.keyCode===40)&&(Ne(y),le(y.keyCode===38?-1:1,e.multiple));const he=M.value;if((b===void 0||D<Date.now())&&(b=""),he>0&&e.useInput!==!0&&y.key!==void 0&&y.key.length===1&&y.altKey===!1&&y.ctrlKey===!1&&y.metaKey===!1&&(y.keyCode!==32||b.length!==0)){l.value!==!0&&gt(y);const ke=y.key.toLocaleLowerCase(),Te=b.length===1&&b[0]===ke;D=Date.now()+1500,Te===!1&&(Ne(y),b+=ke);const qe=new RegExp("^"+b.split("").map(un=>sa.indexOf(un)!==-1?"\\"+un:un).join(".*"),"i");let De=h.value;if(Te===!0||De<0||qe.test(Ie.value(e.options[De]))!==!0)do De=go(De+1,-1,he-1);while(De!==h.value&&(Ve.value(e.options[De])===!0||qe.test(Ie.value(e.options[De]))!==!0));h.value!==De&&Ue(()=>{de(De),we(De),De>=0&&e.useInput===!0&&e.fillInput===!0&&Vt(Ie.value(e.options[De]),!0)});return}if(!(y.keyCode!==13&&(y.keyCode!==32||e.useInput===!0||b!=="")&&(y.keyCode!==9||G===!1))){if(y.keyCode!==9&&Ne(y),h.value!==-1&&h.value<he){ie(e.options[h.value]);return}if(X===!0){const ke=(Te,qe)=>{if(qe){if(vo(qe)!==!0)return}else qe=e.newValueMode;if(kt("",e.multiple!==!0,!0),Te==null)return;(qe==="toggle"?ie:O)(Te,qe==="add-unique"),e.multiple!==!0&&(N.value!==null&&N.value.focus(),rt())};if(e.onNewValue!==void 0?n("newValue",w.value,ke):ke(w.value),e.multiple!==!0)return}l.value===!0?ht():R.innerLoading.value!==!0&&gt()}}function $n(){return c===!0?U.value:K.value!==null&&K.value.contentEl!==null?K.value.contentEl:void 0}function Cr(){return $n()}function Tr(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?j.value.map(y=>t["selected-item"](y)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?j.value.map((y,X)=>V(Ii,{key:"option-"+X,removable:R.editable.value===!0&&Ve.value(y.opt)!==!0,dense:!0,textColor:e.color,tabindex:Pe.value,onRemove(){y.removeAtIndex(X)}},()=>V("span",{class:"ellipsis",[y.html===!0?"innerHTML":"textContent"]:Ie.value(y.opt)}))):[V("span",{[Ke.value===!0?"innerHTML":"textContent"]:Ce.value})]}function Ln(){if(Se.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:w.value}):void 0;const y=t.option!==void 0?t.option:G=>V(Fo,{key:G.index,...G.itemProps},()=>V(qo,()=>V($r,()=>V("span",{[G.html===!0?"innerHTML":"textContent"]:G.label}))));let X=A("div",ne.value.map(y));return t["before-options"]!==void 0&&(X=t["before-options"]().concat(X)),oi(t["after-options"],X)}function _r(y,X){const G=X===!0?{...Ge.value,...R.splitAttrs.attributes.value}:void 0,he={ref:X===!0?N:void 0,key:"i_t",class:q.value,style:e.inputStyle,value:w.value!==void 0?w.value:"",type:"search",...G,id:X===!0?R.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":y===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Oe.value};return y!==!0&&c===!0&&(Array.isArray(he.class)===!0?he.class=[...he.class,"no-pointer-events"]:he.class+=" no-pointer-events"),V("input",he)}function Nn(y){I!==null&&(clearTimeout(I),I=null),a!==null&&(clearTimeout(a),a=null),!(y&&y.target&&y.target.qComposing===!0)&&(Vt(y.target.value||""),s=!0,v=w.value,R.focused.value!==!0&&(c!==!0||x.value===!0)&&R.focus(),e.onFilter!==void 0&&(I=setTimeout(()=>{I=null,mt(w.value)},e.inputDebounce)))}function Vt(y,X){w.value!==y&&(w.value=y,X===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",y):a=setTimeout(()=>{a=null,n("inputValue",y)},e.inputDebounce))}function kt(y,X,G){s=G!==!0,e.useInput===!0&&(Vt(y,!0),(X===!0||G!==!0)&&(v=y),X!==!0&&mt(y))}function mt(y,X,G){if(e.onFilter===void 0||X!==!0&&R.focused.value!==!0)return;R.innerLoading.value===!0?n("filterAbort"):(R.innerLoading.value=!0,_.value=!0),y!==""&&e.multiple!==!0&&T.value.length!==0&&s!==!0&&y===Ie.value(T.value[0])&&(y="");const he=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);u!==null&&clearTimeout(u),u=he,n("filter",y,(ke,Te)=>{(X===!0||R.focused.value===!0)&&u===he&&(clearTimeout(u),typeof ke=="function"&&ke(),_.value=!1,Ue(()=>{R.innerLoading.value=!1,R.editable.value===!0&&(X===!0?l.value===!0&&rt():l.value===!0?sn(!0):l.value=!0),typeof Te=="function"&&Ue(()=>{Te(o)}),typeof G=="function"&&Ue(()=>{G(o)})}))},()=>{R.focused.value===!0&&u===he&&(clearTimeout(u),R.innerLoading.value=!1,_.value=!1),l.value===!0&&(l.value=!1)})}function kr(){return V(zi,{ref:K,class:J.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Se.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ce.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:$.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...H.value,onScrollPassive:te,onBeforeShow:jn,onBeforeHide:Rr,onShow:Ir},Ln)}function Rr(y){Wn(y),ht()}function Ir(){me()}function Er(y){Ye(y),N.value!==null&&N.value.focus(),x.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Pr(y){Ye(y),Ue(()=>{x.value=!1})}function Dr(){const y=[V(ki,{class:`col-auto ${R.fieldClass.value}`,...z.value,for:R.targetUid.value,dark:ce.value,square:!0,loading:_.value,itemAligned:!1,filled:!0,stackLabel:w.value.length!==0,...R.splitAttrs.listeners.value,onFocus:Er,onBlur:Pr},{...t,rawControl:()=>R.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&y.push(V("div",{ref:U,class:J.value+" scroll",style:e.popupContentStyle,...H.value,onClick:Xe,onScrollPassive:te},Ln())),V(Yt,{ref:Z,modelValue:p.value,position:e.useInput===!0?"top":void 0,transitionShow:S,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:jn,onBeforeHide:Mr,onHide:Ur,onShow:Ar},()=>V("div",{class:"q-select__dialog"+(ce.value===!0?" q-select__dialog--dark q-dark":"")+(x.value===!0?" q-select__dialog--focused":"")},y))}function Mr(y){Wn(y),Z.value!==null&&Z.value.__updateRefocusTarget(R.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),R.focused.value=!1}function Ur(y){rt(),R.focused.value===!1&&n("blur",y),vt()}function Ar(){const y=document.activeElement;(y===null||y.id!==R.targetUid.value)&&N.value!==null&&N.value!==y&&N.value.focus(),me()}function ht(){p.value!==!0&&(h.value=-1,l.value===!0&&(l.value=!1),R.focused.value===!1&&(u!==null&&(clearTimeout(u),u=null),R.innerLoading.value===!0&&(n("filterAbort"),R.innerLoading.value=!1,_.value=!1)))}function gt(y){R.editable.value===!0&&(c===!0?(R.onControlFocusin(y),p.value=!0,Ue(()=>{R.focus()})):R.focus(),e.onFilter!==void 0?mt(w.value):(Se.value!==!0||t["no-option"]!==void 0)&&(l.value=!0))}function rt(){p.value=!1,ht()}function vt(){e.useInput===!0&&kt(e.multiple!==!0&&e.fillInput===!0&&T.value.length!==0&&Ie.value(T.value[0])||"",!0,!0)}function sn(y){let X=-1;if(y===!0){if(T.value.length!==0){const G=xe.value(T.value[0]);X=e.options.findIndex(he=>Rt(xe.value(he),G))}re(X)}de(X)}function Or(y,X){l.value===!0&&R.innerLoading.value===!1&&(re(-1,!0),Ue(()=>{l.value===!0&&R.innerLoading.value===!1&&(y>X?re():sn(!0))}))}function zn(){p.value===!1&&K.value!==null&&K.value.updatePosition()}function jn(y){y!==void 0&&Ye(y),n("popupShow",y),R.hasPopupOpen=!0,R.onControlFocusin(y)}function Wn(y){y!==void 0&&Ye(y),n("popupHide",y),R.hasPopupOpen=!1,R.onControlFocusout(y)}function Kn(){c=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Se.value===!1:!0),S=r.platform.is.ios===!0&&c===!0&&e.useInput===!0?"fade":e.transitionShow}return $o(Kn),ni(zn),Kn(),We(()=>{I!==null&&clearTimeout(I),a!==null&&clearTimeout(a)}),Object.assign(o,{showPopup:gt,hidePopup:rt,removeAtIndex:g,add:O,toggleOption:ie,getOptionIndex:()=>h.value,setOptionIndex:de,moveOptionSelection:le,filter:mt,updateMenuPosition:zn,updateInputValue:kt,isOptionSelected:ae,getEmittingOptionValue:f,isOptionDisabled:(...y)=>Ve.value.apply(null,y)===!0,getOptionValue:(...y)=>xe.value.apply(null,y),getOptionLabel:(...y)=>Ie.value.apply(null,y)}),Object.assign(R,{innerValue:T,fieldClass:k(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:B,targetRef:N,hasValue:pe,showPopup:gt,floatingLabel:k(()=>e.hideSelected!==!0&&pe.value===!0||typeof w.value=="number"||w.value.length!==0||At(e.displayValue)),getControlChild:()=>{if(R.editable.value!==!1&&(p.value===!0||Se.value!==!0||t["no-option"]!==void 0))return c===!0?Dr():kr();R.hasPopupOpen===!0&&(R.hasPopupOpen=!1)},controlEvents:{onFocusin(y){R.onControlFocusin(y)},onFocusout(y){R.onControlFocusout(y,()=>{vt(),ht()})},onClick(y){if(Xe(y),c!==!0&&l.value===!0){ht(),N.value!==null&&N.value.focus();return}gt(y)}},getControl:y=>{const X=Tr(),G=y===!0||p.value!==!0||c!==!0;if(e.useInput===!0)X.push(_r(y,G));else if(R.editable.value===!0){const ke=G===!0?Ge.value:void 0;X.push(V("input",{ref:G===!0?N:void 0,key:"d_t",class:"q-select__focus-target",id:G===!0?R.targetUid.value:void 0,value:Ce.value,readonly:!0,"data-autofocus":y===!0||e.autofocus===!0||void 0,...ke,onKeydown:pt,onKeyup:ye,onKeypress:ft})),G===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&X.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Be}))}if(m.value!==void 0&&e.disable!==!0&&$e.value.length!==0){const ke=$e.value.map(Te=>V("option",{value:Te,selected:!0}));X.push(V("select",{class:"hidden",name:m.value,multiple:e.multiple},ke))}const he=e.useInput===!0||G!==!0?void 0:R.splitAttrs.attributes.value;return V("div",{class:"q-field__native row items-center",...he,...R.splitAttrs.listeners.value},X)},getInnerAppend:()=>e.loading!==!0&&_.value!==!0&&e.hideDropdownIcon!==!0?[V(wt,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:ge.value})]:null}),Bn(R)}});const yo={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},en={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},mr=Object.keys(en);mr.forEach(e=>{en[e].regex=new RegExp(en[e].pattern)});const ca=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+mr.join("")+"])|(.)","g"),So=/[.*+?^${}()|[\]\\]/g,Me=String.fromCharCode(1),da={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function fa(e,t,n,o){let r,l,p,h,w,x;const _=se(null),I=se(i());function a(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}be(()=>e.type+e.autogrow,s),be(()=>e.mask,U=>{if(U!==void 0)u(I.value,!0);else{const m=K(I.value);s(),e.modelValue!==m&&t("update:modelValue",m)}}),be(()=>e.fillMask+e.reverseFillMask,()=>{_.value===!0&&u(I.value,!0)}),be(()=>e.unmaskedValue,()=>{_.value===!0&&u(I.value)});function i(){if(s(),_.value===!0){const U=B(K(e.modelValue));return e.fillMask!==!1?Z(U):U}return e.modelValue}function c(U){if(U<r.length)return r.slice(-U);let m="",L=r;const M=L.indexOf(Me);if(M!==-1){for(let ee=U-L.length;ee>0;ee--)m+=Me;L=L.slice(0,M)+m+L.slice(M)}return L}function s(){if(_.value=e.mask!==void 0&&e.mask.length!==0&&a(),_.value===!1){h=void 0,r="",l="";return}const U=yo[e.mask]===void 0?e.mask:yo[e.mask],m=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",L=m.replace(So,"\\$&"),M=[],ee=[],P=[];let ue=e.reverseFillMask===!0,re="",A="";U.replace(ca,(R,T,z,ce,pe)=>{if(ce!==void 0){const q=en[ce];P.push(q),A=q.negate,ue===!0&&(ee.push("(?:"+A+"+)?("+q.pattern+"+)?(?:"+A+"+)?("+q.pattern+"+)?"),ue=!1),ee.push("(?:"+A+"+)?("+q.pattern+")?")}else if(z!==void 0)re="\\"+(z==="\\"?"":z),P.push(z),M.push("([^"+re+"]+)?"+re+"?");else{const q=T!==void 0?T:pe;re=q==="\\"?"\\\\\\\\":q.replace(So,"\\\\$&"),P.push(q),M.push("([^"+re+"]+)?"+re+"?")}});const te=new RegExp("^"+M.join("")+"("+(re===""?".":"[^"+re+"]")+"+)?"+(re===""?"":"["+re+"]*")+"$"),we=ee.length-1,me=ee.map((R,T)=>T===0&&e.reverseFillMask===!0?new RegExp("^"+L+"*"+R):T===we?new RegExp("^"+R+"("+(A===""?".":A)+"+)?"+(e.reverseFillMask===!0?"$":L+"*")):new RegExp("^"+R));p=P,h=R=>{const T=te.exec(e.reverseFillMask===!0?R:R.slice(0,P.length+1));T!==null&&(R=T.slice(1).join(""));const z=[],ce=me.length;for(let pe=0,q=R;pe<ce;pe++){const J=me[pe].exec(q);if(J===null)break;q=q.slice(J.shift().length),z.push(...J)}return z.length!==0?z.join(""):R},r=P.map(R=>typeof R=="string"?R:Me).join(""),l=r.split(Me).join(m)}function u(U,m,L){const M=o.value,ee=M.selectionEnd,P=M.value.length-ee,ue=K(U);m===!0&&s();const re=B(ue),A=e.fillMask!==!1?Z(re):re,te=I.value!==A;M.value!==A&&(M.value=A),te===!0&&(I.value=A),document.activeElement===M&&Ue(()=>{if(A===l){const me=e.reverseFillMask===!0?l.length:0;M.setSelectionRange(me,me,"forward");return}if(L==="insertFromPaste"&&e.reverseFillMask!==!0){const me=M.selectionEnd;let R=ee-1;for(let T=w;T<=R&&T<me;T++)r[T]!==Me&&R++;S.right(M,R);return}if(["deleteContentBackward","deleteContentForward"].indexOf(L)!==-1){const me=e.reverseFillMask===!0?ee===0?A.length>re.length?1:0:Math.max(0,A.length-(A===l?0:Math.min(re.length,P)+1))+1:ee;M.setSelectionRange(me,me,"forward");return}if(e.reverseFillMask===!0)if(te===!0){const me=Math.max(0,A.length-(A===l?0:Math.min(re.length,P+1)));me===1&&ee===1?M.setSelectionRange(me,me,"forward"):S.rightReverse(M,me)}else{const me=A.length-P;M.setSelectionRange(me,me,"backward")}else if(te===!0){const me=Math.max(0,r.indexOf(Me),Math.min(re.length,ee)-1);S.right(M,me)}else{const me=ee-1;S.right(M,me)}});const we=e.unmaskedValue===!0?K(A):A;String(e.modelValue)!==we&&(e.modelValue!==null||we!=="")&&n(we,!0)}function v(U,m,L){const M=B(K(U.value));m=Math.max(0,r.indexOf(Me),Math.min(M.length,m)),w=m,U.setSelectionRange(m,L,"forward")}const S={left(U,m){const L=r.slice(m-1).indexOf(Me)===-1;let M=Math.max(0,m-1);for(;M>=0;M--)if(r[M]===Me){m=M,L===!0&&m++;break}if(M<0&&r[m]!==void 0&&r[m]!==Me)return S.right(U,0);m>=0&&U.setSelectionRange(m,m,"backward")},right(U,m){const L=U.value.length;let M=Math.min(L,m+1);for(;M<=L;M++)if(r[M]===Me){m=M;break}else r[M-1]===Me&&(m=M);if(M>L&&r[m-1]!==void 0&&r[m-1]!==Me)return S.left(U,L);U.setSelectionRange(m,m,"forward")},leftReverse(U,m){const L=c(U.value.length);let M=Math.max(0,m-1);for(;M>=0;M--)if(L[M-1]===Me){m=M;break}else if(L[M]===Me&&(m=M,M===0))break;if(M<0&&L[m]!==void 0&&L[m]!==Me)return S.rightReverse(U,0);m>=0&&U.setSelectionRange(m,m,"backward")},rightReverse(U,m){const L=U.value.length,M=c(L),ee=M.slice(0,m+1).indexOf(Me)===-1;let P=Math.min(L,m+1);for(;P<=L;P++)if(M[P-1]===Me){m=P,m>0&&ee===!0&&m--;break}if(P>L&&M[m-1]!==void 0&&M[m-1]!==Me)return S.leftReverse(U,L);U.setSelectionRange(m,m,"forward")}};function b(U){t("click",U),x=void 0}function D(U){if(t("keydown",U),jo(U)===!0||U.altKey===!0)return;const m=o.value,L=m.selectionStart,M=m.selectionEnd;if(U.shiftKey||(x=void 0),U.keyCode===37||U.keyCode===39){U.shiftKey&&x===void 0&&(x=m.selectionDirection==="forward"?L:M);const ee=S[(U.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(U.preventDefault(),ee(m,x===L?M:L),U.shiftKey){const P=m.selectionStart;m.setSelectionRange(Math.min(x,P),Math.max(x,P),"forward")}}else U.keyCode===8&&e.reverseFillMask!==!0&&L===M?(S.left(m,L),m.setSelectionRange(m.selectionStart,M,"backward")):U.keyCode===46&&e.reverseFillMask===!0&&L===M&&(S.rightReverse(m,M),m.setSelectionRange(L,m.selectionEnd,"forward"))}function B(U){if(U==null||U==="")return"";if(e.reverseFillMask===!0)return N(U);const m=p;let L=0,M="";for(let ee=0;ee<m.length;ee++){const P=U[L],ue=m[ee];if(typeof ue=="string")M+=ue,P===ue&&L++;else if(P!==void 0&&ue.regex.test(P))M+=ue.transform!==void 0?ue.transform(P):P,L++;else return M}return M}function N(U){const m=p,L=r.indexOf(Me);let M=U.length-1,ee="";for(let P=m.length-1;P>=0&&M!==-1;P--){const ue=m[P];let re=U[M];if(typeof ue=="string")ee=ue+ee,re===ue&&M--;else if(re!==void 0&&ue.regex.test(re))do ee=(ue.transform!==void 0?ue.transform(re):re)+ee,M--,re=U[M];while(L===P&&re!==void 0&&ue.regex.test(re));else return ee}return ee}function K(U){return typeof U!="string"||h===void 0?typeof U=="number"?h(""+U):U:h(U)}function Z(U){return l.length-U.length<=0?U:e.reverseFillMask===!0&&U.length!==0?l.slice(0,-U.length)+U:U+l.slice(U.length)}return{innerValue:I,hasMask:_,moveCursorForPaste:v,updateMaskValue:u,onMaskedKeydown:D,onMaskedClick:b}}function pa(e,t){function n(){const o=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(l=>{r.items.add(l)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?k(()=>{if(e.type==="file")return n()}):k(n)}var Le=Je({name:"QInput",inheritAttrs:!1,props:{...an,...da,...qn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...An,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=Ae(),{$q:r}=o,l={};let p=NaN,h,w,x=null,_;const I=se(null),a=fr(e),{innerValue:i,hasMask:c,moveCursorForPaste:s,updateMaskValue:u,onMaskedKeydown:v,onMaskedClick:S}=fa(e,t,re,I),b=pa(e,!0),D=k(()=>At(i.value)),B=pr(P),N=On(),K=k(()=>e.type==="textarea"||e.autogrow===!0),Z=k(()=>K.value===!0||["text","search","url","tel","password"].includes(e.type)),U=k(()=>{const T={...N.splitAttrs.listeners.value,onInput:P,onPaste:ee,onChange:te,onBlur:we,onFocus:Ye};return T.onCompositionstart=T.onCompositionupdate=T.onCompositionend=B,c.value===!0&&(T.onKeydown=v,T.onClick=S),e.autogrow===!0&&(T.onAnimationend=ue),T}),m=k(()=>{const T={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:a.value,...N.splitAttrs.attributes.value,id:N.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return K.value===!1&&(T.type=e.type),e.autogrow===!0&&(T.rows=1),T});be(()=>e.type,()=>{I.value&&(I.value.value=e.modelValue)}),be(()=>e.modelValue,T=>{if(c.value===!0){if(w===!0&&(w=!1,String(T)===p))return;u(T)}else i.value!==T&&(i.value=T,e.type==="number"&&l.hasOwnProperty("value")===!0&&(h===!0?h=!1:delete l.value));e.autogrow===!0&&Ue(A)}),be(()=>e.autogrow,T=>{T===!0?Ue(A):I.value!==null&&n.rows>0&&(I.value.style.height="auto")}),be(()=>e.dense,()=>{e.autogrow===!0&&Ue(A)});function L(){Ft(()=>{const T=document.activeElement;I.value!==null&&I.value!==T&&(T===null||T.id!==N.targetUid.value)&&I.value.focus({preventScroll:!0})})}function M(){I.value!==null&&I.value.select()}function ee(T){if(c.value===!0&&e.reverseFillMask!==!0){const z=T.target;s(z,z.selectionStart,z.selectionEnd)}t("paste",T)}function P(T){if(!T||!T.target)return;if(e.type==="file"){t("update:modelValue",T.target.files);return}const z=T.target.value;if(T.target.qComposing===!0){l.value=z;return}if(c.value===!0)u(z,!1,T.inputType);else if(re(z),Z.value===!0&&T.target===document.activeElement){const{selectionStart:ce,selectionEnd:pe}=T.target;ce!==void 0&&pe!==void 0&&Ue(()=>{T.target===document.activeElement&&z.indexOf(T.target.value)===0&&T.target.setSelectionRange(ce,pe)})}e.autogrow===!0&&A()}function ue(T){t("animationend",T),A()}function re(T,z){_=()=>{x=null,e.type!=="number"&&l.hasOwnProperty("value")===!0&&delete l.value,e.modelValue!==T&&p!==T&&(p=T,z===!0&&(w=!0),t("update:modelValue",T),Ue(()=>{p===T&&(p=NaN)})),_=void 0},e.type==="number"&&(h=!0,l.value=T),e.debounce!==void 0?(x!==null&&clearTimeout(x),l.value=T,x=setTimeout(_,e.debounce)):_()}function A(){requestAnimationFrame(()=>{const T=I.value;if(T!==null){const z=T.parentNode.style,{scrollTop:ce}=T,{overflowY:pe,maxHeight:q}=r.platform.is.firefox===!0?{}:window.getComputedStyle(T),J=pe!==void 0&&pe!=="scroll";J===!0&&(T.style.overflowY="hidden"),z.marginBottom=T.scrollHeight-1+"px",T.style.height="1px",T.style.height=T.scrollHeight+"px",J===!0&&(T.style.overflowY=parseInt(q,10)<T.scrollHeight?"auto":"hidden"),z.marginBottom="",T.scrollTop=ce}})}function te(T){B(T),x!==null&&(clearTimeout(x),x=null),_!==void 0&&_(),t("change",T.target.value)}function we(T){T!==void 0&&Ye(T),x!==null&&(clearTimeout(x),x=null),_!==void 0&&_(),h=!1,w=!1,delete l.value,e.type!=="file"&&setTimeout(()=>{I.value!==null&&(I.value.value=i.value!==void 0?i.value:"")})}function me(){return l.hasOwnProperty("value")===!0?l.value:i.value!==void 0?i.value:""}We(()=>{we()}),ct(()=>{e.autogrow===!0&&A()}),Object.assign(N,{innerValue:i,fieldClass:k(()=>`q-${K.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:k(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:I,emitValue:re,hasValue:D,floatingLabel:k(()=>D.value===!0&&(e.type!=="number"||isNaN(i.value)===!1)||At(e.displayValue)),getControl:()=>V(K.value===!0?"textarea":"input",{ref:I,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...m.value,...U.value,...e.type!=="file"?{value:me()}:b.value}),getShadowControl:()=>V("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(K.value===!0?"":" text-no-wrap")},[V("span",{class:"invisible"},me()),V("span",e.shadowText)])});const R=Bn(N);return Object.assign(o,{focus:L,select:M,getNativeElement:()=>I.value}),Dn(o,"nativeEl",()=>I.value),R}}),ma=Je({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const o=Ae(),r=se(null);let l=0;const p=[];function h(i){const c=typeof i=="boolean"?i:e.noErrorFocus!==!0,s=++l,u=(b,D)=>{n("validation"+(b===!0?"Success":"Error"),D)},v=b=>{const D=b.validate();return typeof D.then=="function"?D.then(B=>({valid:B,comp:b}),B=>({valid:!1,comp:b,err:B})):Promise.resolve({valid:D,comp:b})};return(e.greedy===!0?Promise.all(p.map(v)).then(b=>b.filter(D=>D.valid!==!0)):p.reduce((b,D)=>b.then(()=>v(D).then(B=>{if(B.valid===!1)return Promise.reject(B)})),Promise.resolve()).catch(b=>[b])).then(b=>{if(b===void 0||b.length===0)return s===l&&u(!0),!0;if(s===l){const{comp:D,err:B}=b[0];if(B!==void 0&&console.error(B),u(!1,D),c===!0){const N=b.find(({comp:K})=>typeof K.focus=="function"&&Un(K.$)===!1);N!==void 0&&N.comp.focus()}}return!1})}function w(){l++,p.forEach(i=>{typeof i.resetValidation=="function"&&i.resetValidation()})}function x(i){i!==void 0&&Ne(i);const c=l+1;h().then(s=>{c===l&&s===!0&&(e.onSubmit!==void 0?n("submit",i):i!==void 0&&i.target!==void 0&&typeof i.target.submit=="function"&&i.target.submit())})}function _(i){i!==void 0&&Ne(i),n("reset"),Ue(()=>{w(),e.autofocus===!0&&e.noResetFocus!==!0&&I()})}function I(){Ft(()=>{if(r.value===null)return;const i=r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),c=>c.tabIndex!==-1);i!=null&&i.focus({preventScroll:!0})})}ri(Vo,{bindComponent(i){p.push(i)},unbindComponent(i){const c=p.indexOf(i);c!==-1&&p.splice(c,1)}});let a=!1;return qt(()=>{a=!0}),Mn(()=>{a===!0&&e.autofocus===!0&&I()}),ct(()=>{e.autofocus===!0&&I()}),Object.assign(o.proxy,{validate:h,resetValidation:w,submit:x,reset:_,focus:I,getValidationComponents:()=>p}),()=>V("form",{class:"q-form",ref:r,onSubmit:x,onReset:_},et(t.default))}}),ha=Je({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Ae(),o=Tn(ii,yt);if(o===yt)return console.error("QPage needs to be a deep child of QLayout"),yt;if(Tn(ai,yt)===yt)return console.error("QPage needs to be child of QPageContainer"),yt;const l=k(()=>{const h=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const w=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(h,w)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-h+"px":n.screen.height===0?h!==0?`calc(100vh - ${h}px)`:"100vh":n.screen.height-h+"px"}}),p=k(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>V("main",{class:p.value,style:l.value},et(t.default))}});const ga={id:"IdCardFront",class:"front-id",style:{"background-color":"aqua",height:"12.75cm",width:"8.1cm","font-size":"7pt",position:"relative","background-image":"url('/images/lgu_id_front.png')","background-position":"center","background-size":"contain"}},va={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"75px",left:"5px","font-size":"12pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},ya={style:{width:"169px",height:"168px","border-radius":"100%",position:"absolute",top:"80px",left:"81px",border:"1px solid #058040",overflow:"hidden"}},Sa=["src"],ba={style:{"text-align":"left",position:"absolute",top:"260px",left:"172px","font-size":"13pt","font-weight":"500"}},wa={style:{"font-size":"12pt",width:"100%","text-align":"left","font-stretch":"ultra-expanded",position:"absolute",bottom:"80px",left:"40px"}},bo=Object.assign({name:"IdCardFront"},{__name:"IdCardFront",props:{details:{type:Object,required:!0},imgSrc:{type:String,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(dt(),_t("div",ga,[Y("div",va,Re(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),Y("div",ya,[Y("img",{src:e.imgSrc?e.imgSrc:"http://192.168.50.51:8081/id_photos/"+e.details.employees_id+".jpg",style:cn([{position:"relative"},`top:${e.photoFormat.top}px; left: ${e.photoFormat.left}px; transform: scale(${e.photoFormat.scale})`])},null,12,Sa)]),Y("div",ba,Re(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1),Y("div",{style:cn([`font-size:${e.textFormat.lastName.font_size}px; bottom: ${e.textFormat.lastName.bottom}px;
        left: ${e.textFormat.lastName.left}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},Re(e.details.lastName)+Re(e.details.extName?", "+e.details.extName:""),5),Y("div",{style:cn([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size}px; bottom: ${e.textFormat.firstName.bottom}px;
        left: ${e.textFormat.firstName.left}px; `])},Re(e.details.firstName)+" "+Re(e.details.middleName?e.details.middleName[0]+". ":""),5),Y("div",wa,Re(e.details.position),1)]))}});var tn=Je({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=k(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>V(e.tag,{class:n.value},et(t.default))}}),En=Je({name:"QCard",props:{...Ot,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Ae(),o=Bt(e,n),r=k(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>V(e.tag,{class:r.value},et(t.default))}}),xa="/assets/get_sig.0d2f964a.png";/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){var e=!1;try{throw new Error}catch(f){e=!!f.stack}var t=Z(),n,o=function(){},r=function(){var f={task:void 0,next:null},g=f,C=!1,O=void 0,ie=!1,de=[];function le(){for(var fe,ye;f.next;)f=f.next,fe=f.task,f.task=void 0,ye=f.domain,ye&&(f.domain=void 0,ye.enter()),E(fe,ye);for(;de.length;)fe=de.pop(),E(fe);C=!1}function E(fe,ye){try{fe()}catch(Be){if(ie)throw ye&&ye.exit(),setTimeout(le,0),ye&&ye.enter(),Be;setTimeout(function(){throw Be},0)}ye&&ye.exit()}if(r=function(fe){g=g.next={task:fe,domain:ie&&process.domain,next:null},C||(C=!0,O())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)ie=!0,O=function(){process.nextTick(le)};else if(typeof setImmediate=="function")typeof window!="undefined"?O=setImmediate.bind(window,le):O=function(){setImmediate(le)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel;W.port1.onmessage=function(){O=ae,W.port1.onmessage=le,le()};var ae=function(){W.port2.postMessage(0)};O=function(){setTimeout(le,0),ae()}}else O=function(){setTimeout(le,0)};return r.runAfter=function(fe){de.push(fe),C||(C=!0,O())},r}(),l=Function.call;function p(f){return function(){return l.apply(f,arguments)}}var h=p(Array.prototype.slice),w=p(Array.prototype.reduce||function(f,g){var C=0,O=this.length;if(arguments.length===1)do{if(C in this){g=this[C++];break}if(++C>=O)throw new TypeError}while(1);for(;C<O;C++)C in this&&(g=f(g,this[C],C));return g}),x=p(Array.prototype.indexOf||function(f){for(var g=0;g<this.length;g++)if(this[g]===f)return g;return-1}),_=p(Array.prototype.map||function(f,g){var C=this,O=[];return w(C,function(ie,de,le){O.push(f.call(g,de,le,C))},void 0),O}),I=Object.create||function(f){function g(){}return g.prototype=f,new g},a=p(Object.prototype.hasOwnProperty),i=Object.keys||function(f){var g=[];for(var C in f)a(f,C)&&g.push(C);return g},c=p(Object.prototype.toString);function s(f){return f===Object(f)}function u(f){return c(f)==="[object StopIteration]"||f instanceof v}var v;typeof ReturnValue!="undefined"?v=ReturnValue:v=function(f){this.value=f};var S="From previous event:";function b(f,g){if(e&&g.stack&&typeof f=="object"&&f!==null&&f.stack&&f.stack.indexOf(S)===-1){for(var C=[],O=g;O;O=O.source)O.stack&&C.unshift(O.stack);C.unshift(f.stack);var ie=C.join(`
`+S+`
`);f.stack=D(ie)}}function D(f){for(var g=f.split(`
`),C=[],O=0;O<g.length;++O){var ie=g[O];!K(ie)&&!B(ie)&&ie&&C.push(ie)}return C.join(`
`)}function B(f){return f.indexOf("(module.js:")!==-1||f.indexOf("(node.js:")!==-1}function N(f){var g=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(f);if(g)return[g[1],Number(g[2])];var C=/at ([^ ]+):(\d+):(?:\d+)$/.exec(f);if(C)return[C[1],Number(C[2])];var O=/.*@(.+):(\d+)$/.exec(f);if(O)return[O[1],Number(O[2])]}function K(f){var g=N(f);if(!g)return!1;var C=g[0],O=g[1];return C===n&&O>=t&&O<=Oe}function Z(){if(!!e)try{throw new Error}catch(O){var f=O.stack.split(`
`),g=f[0].indexOf("@")>0?f[1]:f[2],C=N(g);return C?(n=C[0],C[1]):void 0}}function U(f,g,C){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(g+" is deprecated, use "+C+" instead.",new Error("").stack),f.apply(f,arguments)}}function m(f){return f instanceof P?f:te(f)?Ee(f):Ce(f)}m.resolve=m,m.nextTick=r,m.longStackSupport=!1,typeof process=="object"&&process&&process.env&&{}.Q_DEBUG&&(m.longStackSupport=!0),m.defer=L;function L(){var f=[],g=[],C,O=I(L.prototype),ie=I(P.prototype);if(ie.promiseDispatch=function(le,E,W){var ae=h(arguments);f?(f.push(ae),E==="when"&&W[1]&&g.push(W[1])):m.nextTick(function(){C.promiseDispatch.apply(C,ae)})},ie.valueOf=function(){if(f)return ie;var le=re(C);return A(le)&&(C=le),le},ie.inspect=function(){return C?C.inspect():{state:"pending"}},m.longStackSupport&&e)try{throw new Error}catch(le){ie.stack=le.stack.substring(le.stack.indexOf(`
`)+1)}function de(le){C=le,ie.source=le,w(f,function(E,W){m.nextTick(function(){le.promiseDispatch.apply(le,W)})},void 0),f=void 0,g=void 0}return O.promise=ie,O.resolve=function(le){C||de(m(le))},O.fulfill=function(le){C||de(Ce(le))},O.reject=function(le){C||de(F(le))},O.notify=function(le){C||w(g,function(E,W){m.nextTick(function(){W(le)})},void 0)},O}L.prototype.makeNodeResolver=function(){var f=this;return function(g,C){g?f.reject(g):arguments.length>2?f.resolve(h(arguments,1)):f.resolve(C)}},m.Promise=M,m.promise=M;function M(f){if(typeof f!="function")throw new TypeError("resolver must be a function.");var g=L();try{f(g.resolve,g.reject,g.notify)}catch(C){g.reject(C)}return g.promise}M.race=ee,M.all=$,M.reject=F,M.resolve=m,m.passByCopy=function(f){return f},P.prototype.passByCopy=function(){return this},m.join=function(f,g){return m(f).join(g)},P.prototype.join=function(f){return m([this,f]).spread(function(g,C){if(g===C)return g;throw new Error("Q can't join: not the same: "+g+" "+C)})},m.race=ee;function ee(f){return M(function(g,C){for(var O=0,ie=f.length;O<ie;O++)m(f[O]).then(g,C)})}P.prototype.race=function(){return this.then(m.race)},m.makePromise=P;function P(f,g,C){g===void 0&&(g=function(de){return F(new Error("Promise does not support operation: "+de))}),C===void 0&&(C=function(){return{state:"unknown"}});var O=I(P.prototype);if(O.promiseDispatch=function(de,le,E){var W;try{f[le]?W=f[le].apply(O,E):W=g.call(O,le,E)}catch(ae){W=F(ae)}de&&de(W)},O.inspect=C,C){var ie=C();ie.state==="rejected"&&(O.exception=ie.reason),O.valueOf=function(){var de=C();return de.state==="pending"||de.state==="rejected"?O:de.value}}return O}P.prototype.toString=function(){return"[object Promise]"},P.prototype.then=function(f,g,C){var O=this,ie=L(),de=!1;function le(ae){try{return typeof f=="function"?f(ae):ae}catch(fe){return F(fe)}}function E(ae){if(typeof g=="function"){b(ae,O);try{return g(ae)}catch(fe){return F(fe)}}return F(ae)}function W(ae){return typeof C=="function"?C(ae):ae}return m.nextTick(function(){O.promiseDispatch(function(ae){de||(de=!0,ie.resolve(le(ae)))},"when",[function(ae){de||(de=!0,ie.resolve(E(ae)))}])}),O.promiseDispatch(void 0,"when",[void 0,function(ae){var fe,ye=!1;try{fe=W(ae)}catch(Be){if(ye=!0,m.onerror)m.onerror(Be);else throw Be}ye||ie.notify(fe)}]),ie.promise},m.tap=function(f,g){return m(f).tap(g)},P.prototype.tap=function(f){return f=m(f),this.then(function(g){return f.fcall(g).thenResolve(g)})},m.when=ue;function ue(f,g,C,O){return m(f).then(g,C,O)}P.prototype.thenResolve=function(f){return this.then(function(){return f})},m.thenResolve=function(f,g){return m(f).thenResolve(g)},P.prototype.thenReject=function(f){return this.then(function(){throw f})},m.thenReject=function(f,g){return m(f).thenReject(g)},m.nearer=re;function re(f){if(A(f)){var g=f.inspect();if(g.state==="fulfilled")return g.value}return f}m.isPromise=A;function A(f){return f instanceof P}m.isPromiseAlike=te;function te(f){return s(f)&&typeof f.then=="function"}m.isPending=we;function we(f){return A(f)&&f.inspect().state==="pending"}P.prototype.isPending=function(){return this.inspect().state==="pending"},m.isFulfilled=me;function me(f){return!A(f)||f.inspect().state==="fulfilled"}P.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},m.isRejected=R;function R(f){return A(f)&&f.inspect().state==="rejected"}P.prototype.isRejected=function(){return this.inspect().state==="rejected"};var T=[],z=[],ce=[],pe=!0;function q(){T.length=0,z.length=0,pe||(pe=!0)}function J(f,g){!pe||(typeof process=="object"&&typeof process.emit=="function"&&m.nextTick.runAfter(function(){x(z,f)!==-1&&(process.emit("unhandledRejection",g,f),ce.push(f))}),z.push(f),g&&typeof g.stack!="undefined"?T.push(g.stack):T.push("(no stack) "+g))}function Se(f){if(!!pe){var g=x(z,f);g!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&m.nextTick.runAfter(function(){var C=x(ce,f);C!==-1&&(process.emit("rejectionHandled",T[g],f),ce.splice(C,1))}),z.splice(g,1),T.splice(g,1))}}m.resetUnhandledRejections=q,m.getUnhandledReasons=function(){return T.slice()},m.stopUnhandledRejectionTracking=function(){q(),pe=!1},q(),m.reject=F;function F(f){var g=P({when:function(C){return C&&Se(this),C?C(f):this}},function(){return this},function(){return{state:"rejected",reason:f}});return J(g,f),g}m.fulfill=Ce;function Ce(f){return P({when:function(){return f},get:function(g){return f[g]},set:function(g,C){f[g]=C},delete:function(g){delete f[g]},post:function(g,C){return g==null?f.apply(void 0,C):f[g].apply(f,C)},apply:function(g,C){return f.apply(g,C)},keys:function(){return i(f)}},void 0,function(){return{state:"fulfilled",value:f}})}function Ee(f){var g=L();return m.nextTick(function(){try{f.then(g.resolve,g.reject,g.notify)}catch(C){g.reject(C)}}),g.promise}m.master=Ke;function Ke(f){return P({isDef:function(){}},function(C,O){return ge(f,C,O)},function(){return m(f).inspect()})}m.spread=Pe;function Pe(f,g,C){return m(f).spread(g,C)}P.prototype.spread=function(f,g){return this.all().then(function(C){return f.apply(void 0,C)},g)},m.async=Ge;function Ge(f){return function(){function g(de,le){var E;if(typeof StopIteration=="undefined"){try{E=C[de](le)}catch(W){return F(W)}return E.done?m(E.value):ue(E.value,O,ie)}else{try{E=C[de](le)}catch(W){return u(W)?m(W.value):F(W)}return ue(E,O,ie)}}var C=f.apply(this,arguments),O=g.bind(g,"next"),ie=g.bind(g,"throw");return O()}}m.spawn=H;function H(f){m.done(m.async(f)())}m.return=j;function j(f){throw new v(f)}m.promised=ne;function ne(f){return function(){return Pe([this,$(arguments)],function(g,C){return f.apply(g,C)})}}m.dispatch=ge;function ge(f,g,C){return m(f).dispatch(g,C)}P.prototype.dispatch=function(f,g){var C=this,O=L();return m.nextTick(function(){C.promiseDispatch(O.resolve,f,g)}),O.promise},m.get=function(f,g){return m(f).dispatch("get",[g])},P.prototype.get=function(f){return this.dispatch("get",[f])},m.set=function(f,g,C){return m(f).dispatch("set",[g,C])},P.prototype.set=function(f,g){return this.dispatch("set",[f,g])},m.del=m.delete=function(f,g){return m(f).dispatch("delete",[g])},P.prototype.del=P.prototype.delete=function(f){return this.dispatch("delete",[f])},m.mapply=m.post=function(f,g,C){return m(f).dispatch("post",[g,C])},P.prototype.mapply=P.prototype.post=function(f,g){return this.dispatch("post",[f,g])},m.send=m.mcall=m.invoke=function(f,g){return m(f).dispatch("post",[g,h(arguments,2)])},P.prototype.send=P.prototype.mcall=P.prototype.invoke=function(f){return this.dispatch("post",[f,h(arguments,1)])},m.fapply=function(f,g){return m(f).dispatch("apply",[void 0,g])},P.prototype.fapply=function(f){return this.dispatch("apply",[void 0,f])},m.try=m.fcall=function(f){return m(f).dispatch("apply",[void 0,h(arguments,1)])},P.prototype.fcall=function(){return this.dispatch("apply",[void 0,h(arguments)])},m.fbind=function(f){var g=m(f),C=h(arguments,1);return function(){return g.dispatch("apply",[this,C.concat(h(arguments))])}},P.prototype.fbind=function(){var f=this,g=h(arguments);return function(){return f.dispatch("apply",[this,g.concat(h(arguments))])}},m.keys=function(f){return m(f).dispatch("keys",[])},P.prototype.keys=function(){return this.dispatch("keys",[])},m.all=$;function $(f){return ue(f,function(g){var C=0,O=L();return w(g,function(ie,de,le){var E;A(de)&&(E=de.inspect()).state==="fulfilled"?g[le]=E.value:(++C,ue(de,function(W){g[le]=W,--C===0&&O.resolve(g)},O.reject,function(W){O.notify({index:le,value:W})}))},void 0),C===0&&O.resolve(g),O.promise})}P.prototype.all=function(){return $(this)},m.any=ve;function ve(f){if(f.length===0)return m.resolve();var g=m.defer(),C=0;return w(f,function(O,ie,de){var le=f[de];C++,ue(le,E,W,ae);function E(fe){g.resolve(fe)}function W(){C--,C===0&&g.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))}function ae(fe){g.notify({index:de,value:fe})}},void 0),g.promise}P.prototype.any=function(){return ve(this)},m.allResolved=U(xe,"allResolved","allSettled");function xe(f){return ue(f,function(g){return g=_(g,m),ue($(_(g,function(C){return ue(C,o,o)})),function(){return g})})}P.prototype.allResolved=function(){return xe(this)},m.allSettled=Ie;function Ie(f){return m(f).allSettled()}P.prototype.allSettled=function(){return this.then(function(f){return $(_(f,function(g){g=m(g);function C(){return g.inspect()}return g.then(C,C)}))})},m.fail=m.catch=function(f,g){return m(f).then(void 0,g)},P.prototype.fail=P.prototype.catch=function(f){return this.then(void 0,f)},m.progress=Ve;function Ve(f,g){return m(f).then(void 0,void 0,g)}P.prototype.progress=function(f){return this.then(void 0,void 0,f)},m.fin=m.finally=function(f,g){return m(f).finally(g)},P.prototype.fin=P.prototype.finally=function(f){if(!f||typeof f.apply!="function")throw new Error("Q can't apply finally callback");return f=m(f),this.then(function(g){return f.fcall().then(function(){return g})},function(g){return f.fcall().then(function(){throw g})})},m.done=function(f,g,C,O){return m(f).done(g,C,O)},P.prototype.done=function(f,g,C){var O=function(de){m.nextTick(function(){if(b(de,ie),m.onerror)m.onerror(de);else throw de})},ie=f||g||C?this.then(f,g,C):this;typeof process=="object"&&process&&process.domain&&(O=process.domain.bind(O)),ie.then(void 0,O)},m.timeout=function(f,g,C){return m(f).timeout(g,C)},P.prototype.timeout=function(f,g){var C=L(),O=setTimeout(function(){(!g||typeof g=="string")&&(g=new Error(g||"Timed out after "+f+" ms"),g.code="ETIMEDOUT"),C.reject(g)},f);return this.then(function(ie){clearTimeout(O),C.resolve(ie)},function(ie){clearTimeout(O),C.reject(ie)},C.notify),C.promise},m.delay=function(f,g){return g===void 0&&(g=f,f=void 0),m(f).delay(g)},P.prototype.delay=function(f){return this.then(function(g){var C=L();return setTimeout(function(){C.resolve(g)},f),C.promise})},m.nfapply=function(f,g){return m(f).nfapply(g)},P.prototype.nfapply=function(f){var g=L(),C=h(f);return C.push(g.makeNodeResolver()),this.fapply(C).fail(g.reject),g.promise},m.nfcall=function(f){var g=h(arguments,1);return m(f).nfapply(g)},P.prototype.nfcall=function(){var f=h(arguments),g=L();return f.push(g.makeNodeResolver()),this.fapply(f).fail(g.reject),g.promise},m.nfbind=m.denodeify=function(f){if(f===void 0)throw new Error("Q can't wrap an undefined function");var g=h(arguments,1);return function(){var C=g.concat(h(arguments)),O=L();return C.push(O.makeNodeResolver()),m(f).fapply(C).fail(O.reject),O.promise}},P.prototype.nfbind=P.prototype.denodeify=function(){var f=h(arguments);return f.unshift(this),m.denodeify.apply(void 0,f)},m.nbind=function(f,g){var C=h(arguments,2);return function(){var O=C.concat(h(arguments)),ie=L();O.push(ie.makeNodeResolver());function de(){return f.apply(g,arguments)}return m(de).fapply(O).fail(ie.reject),ie.promise}},P.prototype.nbind=function(){var f=h(arguments,0);return f.unshift(this),m.nbind.apply(void 0,f)},m.nmapply=m.npost=function(f,g,C){return m(f).npost(g,C)},P.prototype.nmapply=P.prototype.npost=function(f,g){var C=h(g||[]),O=L();return C.push(O.makeNodeResolver()),this.dispatch("post",[f,C]).fail(O.reject),O.promise},m.nsend=m.nmcall=m.ninvoke=function(f,g){var C=h(arguments,2),O=L();return C.push(O.makeNodeResolver()),m(f).dispatch("post",[g,C]).fail(O.reject),O.promise},P.prototype.nsend=P.prototype.nmcall=P.prototype.ninvoke=function(f){var g=h(arguments,1),C=L();return g.push(C.makeNodeResolver()),this.dispatch("post",[f,g]).fail(C.reject),C.promise},m.nodeify=$e;function $e(f,g){return m(f).nodeify(g)}P.prototype.nodeify=function(f){if(f)this.then(function(g){m.nextTick(function(){f(null,g)})},function(g){m.nextTick(function(){f(g)})});else return this},m.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Oe=Z();return m});var d=d||{};d.STUConstructor=function(){var e,t=65535,n=0,o=0,r={},l={};function p(a){return typeof a!="undefined"}function h(){return n++}function w(){return o++}function x(a){var i=9e3,c=this;p(a)||(a=i),this.onDCAtimeout=null,e=new WebSocket("wss://localhost:"+a.toString()+"/ws"),e.onopen=function(){console.log("connected")},e.onmessage=_,e.onclose=function(){console.log("disconnected"),typeof c.onDCAtimeout=="function"&&c.onDCAtimeout()}}x.prototype.Reinitialize=function(){d.STU=new d.STUConstructor},x.prototype.isServiceReady=function(){return e.readyState==1},x.prototype.isDCAReady=function(){var a=Q.defer();return d.STU.isServiceReady()?(setTimeout(function(){a.promise.isPending()&&(d.STU.isServiceReady()&&d.STU.close(),a.resolve(!1))},1e3),d.STU.getUsbDevices().then(function(i){a.promise.isPending()&&a.resolve(!0)}).fail(function(i){a.promise.isPending()&&a.resolve(!0)})):a.resolve(!1),a.promise},x.prototype.close=function(){e.close()};function _(a){if(typeof a.data!="undefined"&&a.data!=""){var i=JSON.parse(a.data);if(p(i.ticket)&&p(r[i.ticket]))p(i.success)&&i.success==!0&&p(i.data)?r[i.ticket].resolve(i.data):r[i.ticket].reject(new Error(p(i.error)?i.error:"")),delete r[i.ticket];else if(p(i.stream)&&p(l[i.stream])&&p(i.data))l[i.stream].stream(i.data);else throw new Error("websocket invalid message: "+a.data)}else console.log("Unexpected message type "+typeof a+" = "+JSON.stringify(a))}function I(a){for(var i=a.length,c=0;c<i;){var s=c+t<i?"0":"1",u=a.substr(c,t);e.send(s+u),c+=t}}return x.prototype.VendorId={VendorId_Wacom:1386},x.prototype.ProductId={ProductId_500:161,ProductId_300:162,ProductId_520A:163,ProductId_430:164,ProductId_530:165,ProductId_430V:166,ProductId_540:168,ProductId_541:169},x.prototype.ProductId_min=161,x.prototype.ProductId_max=175,x.prototype.send=function(a){var i=Q.defer();try{var c=h();a.ticket=c;var s=JSON.stringify(a);I(s),r[c]=i}catch(u){i.reject(u)}return i.promise},x.prototype.sendNoReturn=function(a){var i=JSON.stringify(a);I(i)},x.prototype.setStream=function(a){var i=w();return l[i]=a,i},x.prototype.removeStream=function(a){delete l[a]},x.prototype.getUsbDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"getUsbDevices"})},x.prototype.getTlsDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetTlsDevices",function:"getTlsDevices"})},x.prototype.isSupportedUsbDevice=function(a,i){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"isSupportedUsbDevice",idVendor:a,idProduct:i})},x.prototype.getStringUsbDevice=function(a){function i(c){return("0000"+c.toString(16)).substr(-4)}return i(a.idVendor)+":"+i(a.idProduct)+":"+i(a.bcdDevice)},x.prototype.SerialPort={Type:{Unknown:0,Physical:1,Virtual:2,Remote:3}},x.prototype.getSerialPorts=function(){return d.STU.send({scope:"WacomGSS.STU.GetSerialPorts",function:"getSerialPorts"})},x.prototype.UsbInterface=function(){var a="WacomGSS.STU.UsbInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(s){return i=s.id,s})},c.prototype.connect=function(s,u){return d.STU.send({scope:a,id:i,function:"connect",usbDevice:s,exclusiveLock:u})},c.prototype.toJSON=function(){return{id:i,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:i,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:a,id:i,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(s){return d.STU.send({scope:a,id:i,function:"queueSetPredicateAll",predicate:s})},c.prototype.get=function(s){return d.STU.send({scope:a,id:i,function:"get_",length:s})},c.prototype.set=function(s){return d.STU.send({scope:a,id:i,function:"set",base64Data:s})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:i,function:"supportsWrite"})},c.prototype.write=function(s){return d.STU.send({scope:a,id:i,function:"write",base64Data:s})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:i,function:"getProductId"})},c}(),x.prototype.Protocol=function(){var a="WacomGSS.STU.Protocol",i="",c={};function s(){}return s.prototype.PenDataOptionMode={PenDataOptionMode_None:0,PenDataOptionMode_TimeCount:1,PenDataOptionMode_SequenceNumber:2,PenDataOptionMode_TimeCountSequence:3},s.prototype.InkingMode={InkingMode_Off:0,InkingMode_On:1},s.prototype.ReportId={ReportId_PenData:1,ReportId_Status:3,ReportId_Reset:4,ReportId_HidInformation:6,ReportId_Information:8,ReportId_Capability:9,ReportId_Uid:10,ReportId_Uid2:11,ReportId_DefaultMode:12,ReportId_ReportRate:13,ReportId_RenderingMode:14,ReportId_Eserial:15,ReportId_PenDataEncrypted:16,ReportId_HostPublicKey:19,ReportId_DevicePublicKey:20,ReportId_StartCapture:21,ReportId_EndCapture:22,ReportId_DHprime:26,ReportId_DHbase:27,ReportId_ClearScreen:32,ReportId_InkingMode:33,ReportId_InkThreshold:34,ReportId_ClearScreenArea:35,ReportId_StartImageDataArea:36,ReportId_StartImageData:37,ReportId_ImageDataBlock:38,ReportId_EndImageData:39,ReportId_HandwritingThicknessColor:40,ReportId_BackgroundColor:41,ReportId_HandwritingDisplayArea:42,ReportId_BacklightBrightness:43,ReportId_ScreenContrast:44,ReportId_HandwritingThicknessColor24:45,ReportId_BackgroundColor24:46,ReportId_BootScreen:47,ReportId_PenDataOption:48,ReportId_PenDataEncryptedOption:49,ReportId_PenDataOptionMode:50,ReportId_PenDataTimeCountSequenceEncrypted:51,ReportId_PenDataTimeCountSequence:52,ReportId_EncryptionCommand:64,ReportId_EncryptionStatus:80,ReportId_GetReport:128,ReportId_SetResult:129,ReportId_PinPadData:144,ReportId_PinPadDataEncrypted:145,ReportId_PinOperationMode:146,ReportId_OperationMode:147,ReportId_RomStartImageData:148,ReportId_RomImageOccupancy:149,ReportId_RomImageHash:150,ReportId_RomImageDelete:151,ReportId_CurrentImageArea:152,ReportId_EventData:153,ReportId_EventDataEncrypted:154,ReportId_RomImageDisplay:155,ReportId_ReportSizeCollection:255,Decrypt:256,SigCaptX_Decrypt:256,SigCaptX_TabletDisconnected:257},s.prototype.DefaultMode={DefaultMode_HID:1,DefaultMode_Serial:2},s.prototype.StatusCode={StatusCode_Ready:0,StatusCode_Image:1,StatusCode_Capture:2,StatusCode_Calculation:3,StatusCode_Image_Boot:4,StatusCode_RomBusy:5,StatusCode_SystemReset:255},s.prototype.ErrorCode={ErrorCode_None:0,ErrorCode_WrongReportId:1,ErrorCode_WrongState:2,ErrorCode_CRC:3,ErrorCode_GraphicsWrongEncodingType:16,ErrorCode_GraphicsImageTooLong:17,ErrorCode_GraphicsZlibError:18,ErrorCode_GraphicsWrongParameters:21,ErrorCode_PadNotExist:32,ErrorCode_RomSizeOverflow:51,ErrorCode_RomInvalidParameter:52,ErrorCode_RomErrorCRC:53},s.prototype.Rectangle={upperLeftXpixel:0,upperLeftYpixel:0,lowerRightXpixel:0,lowerRightYpixel:0},s.prototype.InkThreshold={onPressureMark:0,offPressureMark:0},s.prototype.HandwritingThicknessColor={penColor:0,penThickness:0},s.prototype.HandwritingThicknessColor24={penColor:0,penThickness:0},s.prototype.EncryptionCommandNumber={EncryptionCommandNumber_SetEncryptionType:1,EncryptionCommandNumber_SetParameterBlock:2,EncryptionCommandNumber_GetStatusBlock:3,EncryptionCommandNumber_GetParameterBlock:4,EncryptionCommandNumber_GenerateSymmetricKey:5},s.prototype.EncodingMode={EncodingMode_1bit:0,EncodingMode_1bit_Zlib:1,EncodingMode_16bit:2,EncodingMode_24bit:4,EncodingMode_1bit_Bulk:16,EncodingMode_16bit_Bulk:18,EncodingMode_24bit_Bulk:20},s.prototype.EndImageDataFlag={EndImageDataFlag_Commit:0,EndImageDataFlag_Abandon:1},s.prototype.ResetFlag={ResetFlag_Software:0,ResetFlag_Hardware:1},s.prototype.EncodingFlag={EncodingFlag_Zlib:1,EncodingFlag_1bit:2,EncodingFlag_16bit:4,EncodingFlag_24bit:8},s.prototype.StatusCodeRSA={StatusCodeRSA_Ready:0,StatusCodeRSA_Calculating:250,StatusCodeRSA_Even:251,StatusCodeRSA_Long:252,StatusCodeRSA_Short:253,StatusCodeRSA_Invalid:254,StatusCodeRSA_NotReady:255},s.prototype.ErrorCodeRSA={ErrorCodeRSA_None:0,ErrorCodeRSA_BadParameter:1,ErrorCodeRSA_ParameterTooLong:2,ErrorCodeRSA_PublicKeyNotReady:3,ErrorCodeRSA_PublicExponentNotReady:4,ErrorCodeRSA_SpecifiedKeyInUse:5,ErrorCodeRSA_SpecifiedKeyNotInUse:6,ErrorCodeRSA_BadCommandCode:7,ErrorCodeRSA_CommandPending:8,ErrorCodeRSA_SpecifiedKeyExists:9,ErrorCodeRSA_SpecifiedKeyNotExist:10,ErrorCodeRSA_NotInitialized:11},s.prototype.SymmetricKeyType={SymmetricKeyType_AES128:0,SymmetricKeyType_AES192:1,SymmetricKeyType_AES256:2},s.prototype.AsymmetricKeyType={AsymmetricKeyType_RSA1024:0,AsymmetricKeyType_RSA1536:1,AsymmetricKeyType_RSA2048:2},s.prototype.AsymmetricPaddingType={AsymmetricPaddingType_None:0,AsymmetricPaddingType_PKCS1:1,AsymmetricPaddingType_OAEP:2},s.prototype.AsymmetricPaddingType={EncryptionCommandParameterBlockIndex_RSAe:0,EncryptionCommandParameterBlockIndex_RSAn:1,EncryptionCommandParameterBlockIndex_RSAc:2,EncryptionCommandParameterBlockIndex_RSAm:3},s.prototype.RomImageDeleteMode={RomImageDeleteMode_All:0,RomImageDeleteMode_PinPad_All:1,RomImageDeleteMode_SlideShow_All:2,RomImageDeleteMode_KeyPad_All:3,RomImageDeleteMode_Signature_All:4,RomImageDeleteMode_MessageBox_All:5,RomImageDeleteMode_PinPad_Number:6,RomImageDeleteMode_SlideShow_Number:7,RomImageDeleteMode_KeyPad_Number:8,RomImageDeleteMode_Signature_Number:9,RomImageDeleteMode_MessageBox_Number:10},s.prototype.OperationModeType={OperationModeType_Normal:0,OperationModeType_PinPad:1,OperationModeType_SlideShow:2,OperationModeType_KeyPad:3,OperationModeType_Signature:4,OperationModeType_MessageBox:5},s.prototype.ImageDataBlock_maxLengthHID=253,s.prototype.ImageDataBlock_maxLengthSerial=2557,s.prototype.ImageDataBlock_maxLength540=2557,s.prototype.toJSON=function(){return{id:i,scope:a}},s.prototype.Constructor=function(u){return c=u,d.STU.send({scope:a,function:"Constructor",intf:c.toJSON()}).then(function(v){return i=v.id,v})},s.prototype.getInterface=function(){return c},s.prototype.getInformation=function(){return d.STU.send({scope:a,id:i,function:"getInformation"})},s.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:a,id:i,function:"getPenDataOptionMode"})},s.prototype.setPenDataOptionMode=function(u){return d.STU.send({scope:a,id:i,function:"setPenDataOptionMode",penDataOptionMode:u})},s.prototype.OperationMode_Normal=function(){function u(){this.operationMode=0,this.data=[]}return u}(),s.prototype.OperationMode_PinPad=function(){function u(v,S,b,D,B,N,K){this.operationMode=1,this.data=[],this.data[0]=v,this.data[1]=Number(S),this.data[2]=b,this.data[3]=D,this.data[4]=Number(B),this.data[5]=N,this.data[6]=K}return u}(),s.prototype.OperationMode_SlideShow=function(){function u(v,S,b,D){this.operationMode=2,this.data=[],this.data[0]=v,this.data[1]=S,this.data[2]=(b[0]&15)<<4|b[1]&15,this.data[3]=(b[2]&15)<<4|b[3]&15,this.data[4]=(b[4]&15)<<4|b[5]&15,this.data[5]=(b[6]&15)<<4|b[7]&15,this.data[6]=(b[8]&15)<<4|b[9]&15,this.data[7]=D>>24&255,this.data[8]=D>>16&255,this.data[9]=D>>8&255,this.data[10]=D&255}return u}(),s.prototype.OperationMode_KeyPad=function(){function u(v,S){this.operationMode=3,this.data=[],this.data[0]=v,this.data[1]=S}return u}(),s.prototype.OperationMode_Signature=function(){function u(v,S,b,D){this.operationMode=4,this.data=[],this.data[0]=v,this.data[1]=S[0],this.data[2]=S[1],this.data[3]=S[2],this.data[4]=b}return u}(),s.prototype.setOperationMode=function(u){return d.STU.send({scope:a,id:i,function:"setOperationMode",operationMode:u})},s.prototype.getOperationMode=function(){return d.STU.send({scope:a,id:i,function:"getOperationMode"})},s.prototype.RomStartImageData_PinPad=function(){function u(v,S,b,D,B){this.encodingMode=v,this.operationMode=1,this.imageType=S,this.imageNumber=b,this.data=[D,B,0]}return u}(),s.prototype.RomStartImageData_SlideShow=function(){function u(v,S,b){this.encodingMode=v,this.operationMode=2,this.imageType=S,this.imageNumber=b,this.data=[0,0,0]}return u}(),s.prototype.RomStartImageData_KeyPad=function(){function u(v,S,b,D,B){this.encodingMode=v,this.operationMode=3,this.imageType=S,this.imageNumber=b,this.data=[],this.data[0]=D,this.data[1]=B.length>8&&B[8]?1:0,this.data[2]=(B.length>7&&B[7]?128:0)|(B.length>6&&B[6]?64:0)|(B.length>5&&B[5]?32:0)|(B.length>4&&B[4]?16:0)|(B.length>3&&B[3]?8:0)|(B.length>2&&B[2]?4:0)|(B.length>1&&B[1]?2:0)|(B.length>0&&B[0]?1:0)}return u}(),s.prototype.RomStartImageData_Signature=function(){function u(v,S,b,D){this.encodingMode=v,this.operationMode=4,this.imageType=S,this.imageNumber=b,this.data=[],this.data[0]=(D[2]?4:0)|(D[1]?2:0)|(D[0]?1:0)}return u}(),s.prototype.RomStartImageData_MessageBox=function(){function u(v,S){this.encodingMode=v,this.operationMode=5,this.imageType=!1,this.imageNumber=S,this.data=[0,0,0]}return u}(),s.prototype.setRomStartImageData=function(u){return d.STU.send({scope:a,id:i,function:"setRomStartImageData",romStartImage:u})},s.prototype.setRomImageHash=function(u,v,S){return d.STU.send({scope:a,id:i,function:"setRomImageHash",operationModeType:u,imageType:v,imageNumber:S})},s.prototype.getRomImageHash=function(){return d.STU.send({scope:a,id:i,function:"getRomImageHash"})},s.prototype.setRomImageDelete=function(u,v,S){return d.STU.send({scope:a,id:i,function:"setRomImageDelete",romImageDeleteMode:u,imageType:v,imageNumber:S})},s.prototype.getCurrentImageArea=function(){return d.STU.send({scope:a,id:i,function:"getCurrentImageArea"})},s.prototype.setRomImageDisplay=function(u,v,S){return d.STU.send({scope:a,id:i,function:"setRomImageDisplay",operationModeType:u,imageType:v,imageNumber:S})},s.prototype.getEserial=function(){return d.STU.send({scope:a,id:i,function:"getEserial"})},s.prototype.setClearScreen=function(){return d.STU.send({scope:a,id:i,function:"setClearScreen"})},s.prototype.setInkingMode=function(u){return d.STU.send({scope:a,id:i,function:"setInkingMode",inkingMode:u})},s.prototype.rebind=function(u){var v=u;return d.STU.send({scope:a,id:i,function:"rebind",intf:u.toJSON()}).then(function(S){S===null&&(c=v)})},s.prototype.getStatus=function(){return d.STU.send({scope:a,id:i,function:"getStatus"})},s.prototype.setReset=function(u){return d.STU.send({scope:a,id:i,function:"setReset",flag:u})},s.prototype.getHidInformation=function(){return d.STU.send({scope:a,id:i,function:"getHidInformation"})},s.prototype.getCapability=function(){return d.STU.send({scope:a,id:i,function:"getCapability"})},s.prototype.getUid=function(){return d.STU.send({scope:a,id:i,function:"getUid"})},s.prototype.setUid=function(u){return d.STU.send({scope:a,id:i,function:"setUid",uid:u})},s.prototype.getUid2=function(){return d.STU.send({scope:a,id:i,function:"getUid2"})},s.prototype.setDefaultMode=function(u){return d.STU.send({scope:a,id:i,function:"setDefaultMode",defaultMode:u})},s.prototype.getDefaultMode=function(){return d.STU.send({scope:a,id:i,function:"getDefaultMode"})},s.prototype.getHostPublicKey=function(){return d.STU.send({scope:a,id:i,function:"getHostPublicKey"})},s.prototype.setHostPublicKey=function(u){return d.STU.send({scope:a,id:i,function:"setHostPublicKey",hostPublicKey:u})},s.prototype.getDevicePublicKey=function(){return d.STU.send({scope:a,id:i,function:"getDevicePublicKey"})},s.prototype.setStartCapture=function(u){return d.STU.send({scope:a,id:i,function:"setStartCapture",sessionId:u})},s.prototype.setEndCapture=function(){return d.STU.send({scope:a,id:i,function:"setEndCapture"})},s.prototype.getDHprime=function(){return d.STU.send({scope:a,id:i,function:"getDHprime"})},s.prototype.setDHprime=function(u){return d.STU.send({scope:a,id:i,function:"setDHprime",prime:u})},s.prototype.getDHbase=function(){return d.STU.send({scope:a,id:i,function:"getDHbase"})},s.prototype.setDHbase=function(u){return d.STU.send({scope:a,id:i,function:"setDHbase",base})},s.prototype.setClearScreenArea=function(u){return d.STU.send({scope:a,id:i,function:"setClearScreenArea",area:u})},s.prototype.getInkingMode=function(){return d.STU.send({scope:a,id:i,function:"getInkingMode"})},s.prototype.getInkThreshold=function(){return d.STU.send({scope:a,id:i,function:"getInkThreshold"})},s.prototype.setInkThreshold=function(u){return d.STU.send({scope:a,id:i,function:"setInkThreshold",inkThreshold:u})},s.prototype.setStartImageData=function(u){return d.STU.send({scope:a,id:i,function:"setStartImageData",encodingMode:u})},s.prototype.setStartImageDataArea=function(u,v){return d.STU.send({scope:a,id:i,function:"setStartImageDataArea",encodingMode:u,area:v})},s.prototype.setImageDataBlock=function(u){return d.STU.send({scope:a,id:i,function:"setEndImageData",imageDataBlock:u})},s.prototype.setEndImageData=function(u){return d.STU.send({scope:a,id:i,function:"setEndImageData",endImageDataFlag})},s.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:a,id:i,function:"getHandwritingThicknessColor"})},s.prototype.setHandwritingThicknessColor=function(u){return d.STU.send({scope:a,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:u})},s.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:a,id:i,function:"getHandwritingThicknessColor24"})},s.prototype.setHandwritingThicknessColor24=function(u){return d.STU.send({scope:a,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:u})},s.prototype.getBackgroundColor=function(){return d.STU.send({scope:a,id:i,function:"getBackgroundColor"})},s.prototype.setBackgroundColor=function(u){return d.STU.send({scope:a,id:i,function:"setBackgroundColor",backgroundColor:u})},s.prototype.getBackgroundColor24=function(){return d.STU.send({scope:a,id:i,function:"getBackgroundColor24"})},s.prototype.setBackgroundColor24=function(u){return d.STU.send({scope:a,id:i,function:"setBackgroundColor24",backgroundColor24:u})},s.prototype.BootScreenFlag={Disable:0,Enable:1},s.prototype.setBootScreen=function(u){return d.STU.send({scope:a,id:i,function:"setBootScreen",bootScreenFlag:u})},s.prototype.getBootScreen=function(){return d.STU.send({scope:a,id:i,function:"getBootScreen"})},s.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:a,id:i,function:"getHandwritingDisplayArea"})},s.prototype.setHandwritingDisplayArea=function(u){return d.STU.send({scope:a,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:u})},s.prototype.getBacklightBrightness=function(){return d.STU.send({scope:a,id:i,function:"getBacklightBrightness"})},s.prototype.setBacklightBrightness=function(u){return d.STU.send({scope:a,id:i,function:"setBacklightBrightness",backlightBrightness:u})},s.prototype.getScreenContrast=function(){return d.STU.send({scope:a,id:i,function:"getScreenContrast"})},s.prototype.setScreenContrast=function(u){return d.STU.send({scope:a,id:i,function:"setScreenContrast",screenContrast:u})},s.prototype.getEncryptionStatus=function(){return d.STU.send({scope:a,id:i,function:"getEncryptionStatus"})},s.prototype.EncryptionCommand=function(){var u="WacomGSS.STU.Protocol";function v(b){this.encryptionCommandNumber=b.encryptionCommandNumber,this.parameter=b.parameter,this.lengthOrIndex=b.lengthOrIndex,this.data=b.data}function S(){this.encryptionCommandNumber=0,this.parameter=0,this.lengthOrIndex=0,this.data=[]}return S.prototype.initializeSetEncryptionType=function(b,D,B){return d.STU.send({scope:u,function:"EncryptionCommand_initializeSetEncryptionType",symmetricKeyType:b,asymmetricPaddingType:D,asymmetricKeyType:B}).then(function(N){return v.call(this,N),this})},S.prototype.initializeSetParameterBlock=function(b,D){return d.STU.send({scope:u,function:"EncryptionCommand_initializeSetParameterBlock",index:b,data:D}).then(function(B){return v.call(this,B),this})},S.prototype.initializeGenerateSymmetricKey=function(){return d.STU.send({scope:u,function:"EncryptionCommand_initializeGenerateSymmetricKey"}).then(function(b){return v.call(this,b),this})},S.prototype.initializeGetParameterBlock=function(b,D){return d.STU.send({scope:u,function:"EncryptionCommand_initializeGetParameterBlock"}).then(function(B){return v.call(this,B),this})},S}(),s.prototype.getEncryptionCommand=function(u){return d.STU.send({scope:a,id:i,function:"getEncryptionCommand",encryptionCommandNumber:u})},s.prototype.getReportSizeCollection=function(){return d.STU.send({scope:a,id:i,function:"getReportSizeCollection"})},s.prototype.setReportRate=function(u){return d.STU.send({scope:a,id:i,function:"setReportRate",reportRate:u})},s.prototype.getReportRate=function(){return d.STU.send({scope:a,id:i,function:"getReportRate"})},s.prototype.RenderingMode={RenderingMode_Legacy:0,RenderingMode_WILL:1},s.prototype.setRenderingMode=function(u){return d.STU.send({scope:a,id:i,function:"setRenderingMode",renderingMode:u})},s.prototype.getRenderingMode=function(){return d.STU.send({scope:a,id:i,function:"getRenderingMode"})},s}(),x.prototype.ProtocolHelper={ReportHandler:function(){var a="WacomGSS.STU.ProtocolHelper.ReportHandler",i=null,c=null;function s(){this.onReportPenData=function(u){},this.onReportPenDataOption=function(u){},this.onReportPenDataTimeCountSequence=function(u){},this.onReportPenDataEncrypted=function(u){},this.onReportPenDataEncryptedOption=function(u){},this.onReportPenDataTimeCountSequenceEncrypted=function(u){},this.onReportDevicePublicKey=function(u){},this.onReportEncryptionStatus=function(u){},this.onReportEventDataPinPad=function(u){},this.onReportEventDataKeyPad=function(u){},this.onReportEventDataSignature=function(u){},this.onReportEventDataPinPadEncrypted=function(u){},this.onReportEventDataKeyPadEncrypted=function(u){},this.onReportEventDataSignatureEncrypted=function(u){},this.decrypt=function(u){},this.tabletDisconnected=function(u){},this.stream=function(u){var v=new d.STU.Protocol;switch(u.reportId){case v.ReportId.ReportId_PenData:this.onReportPenData(u);break;case v.ReportId.ReportId_PenDataOption:this.onReportPenDataOption(u);break;case v.ReportId.ReportId_PenDataTimeCountSequence:this.onReportPenDataTimeCountSequence(u);break;case v.ReportId.ReportId_PenDataEncrypted:this.onReportPenDataEncrypted(u);break;case v.ReportId.ReportId_PenDataEncryptedOption:this.onReportPenDataEncryptedOption(u);break;case v.ReportId.ReportId_PenDataTimeCountSequenceEncrypted:this.onReportPenDataTimeCountSequenceEncrypted(u);break;case v.ReportId.ReportId_DevicePublicKey:this.onReportDevicePublicKey(u);break;case v.ReportId.ReportId_EncryptionStatus:this.onReportEncryptionStatus(u);break;case v.ReportId.ReportId_EventData:this.onEventData(v,u);break;case v.ReportId.ReportId_EventDataEncrypted:this.onEventDataEncrypted(v,u);break;case v.ReportId.SigCaptX_Decrypt:this.decrypt(u);break;case v.ReportId.SigCaptX_TabletDisconnected:this.tabletDisconnected(u);break}}}return s.prototype.startReporting=function(u,v){return i=d.STU.setStream(this),d.STU.send({interfaceQueueHolder:u.toJSON(),scope:a,function:"startReporting",streamId:i,tabletDecrypt:v===!0}).then(function(S){return c=S.id,S})},s.prototype.stopReporting=function(){if(i===null)throw"Error: trying to stop reporting before starting";return d.STU.send({id:c,scope:a,function:"stopReporting"}).then(function(u){return d.STU.removeStream(i),u})},s.prototype.onEventData=function(u,v){switch(v.operationModeType){case u.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPad(v);break;case u.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPad(v);break;case u.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignature(v);break}},s.prototype.onEventDataEncrypted=function(u,v){switch(v.operationModeType){case u.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPadEncrypted(v);break;case u.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPadEncrypted(v);break;case u.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignatureEncrypted(v);break}},s}(),InkState_isOff:1,InkState_isOn:2,InkState_isInk:4,InkState_isFirst:8,InkState_isLast:16,InkState:{InkState_Up:1,InkState_Down:2,InkState_Inking:6,InkState_First:14,InkState_Last:17},OpDirection:{OpDirection_Get:256,OpDirection_Set:512},statusCanSend:function(a,i,c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"statusCanSend",statusCode:a,reportId:i,opDirection:c})},waitForStatusToSend:function(a,i,c,s,u){var v=Q.defer();function S(){a.getStatus().then(function(b){return d.STU.ProtocolHelper.statusCanSend(b.statusCode,i,c)}).then(function(b){if(b===!0){v.resolve();return}if(s<=0){v.reject(new Error("timeout error"));return}s--,setTimeout(S,u)})}return setTimeout(S,0),v.promise},waitForStatus:function(a,i,c,s){var u=Q.defer();function v(){a.getStatus().then(function(S){if(S.statusCode===i){u.resolve();return}if(c<=0){u.reject(new Error("timeout error"));return}c--,setTimeout(v,s)})}return setTimeout(v,0),u.promise},supportsEncryption:function(a){var i=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_DHprime,i,25,50).then(function(c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption",protocol:a})})},supportsEncryption_DHprime:function(a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption_DHprime",dhPrime:a})},setHostPublicKeyAndPollForDevicePublicKey:function(a,i,c,s){return a.setHostPublicKey(i).then(function(u){var v=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_DevicePublicKey,v,c,s)}).then(function(u){return a.getDevicePublicKey()}).then(function(u){if(u.length!==i.length)throw new Error("Unexpected key size");return u})},writeImage:function(a,i,c,s,u){s=typeof s=="undefined"?25:s,u=typeof u=="undefined"?25:u;var v=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_StartImageData,v,s,u).then(function(S){return a.setStartImageData(i)}).then(function(S){var b=a.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(a,i,b,c,s,u)})},writeImageCommon:function(a,i,c,s,u,v){if(c>a.ImageDataBlock_maxLengthSerial)throw new Error("Invalid maxImageBlockSize");var S=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_ImageDataBlock,S,u,v).then(function(b){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeImageCommon",protocol:a.toJSON(),intf:a.getInterface().toJSON(),encodingMode:i,imageData:s,maxImageBlockSize:c})})},flattenMonochrome:function(a,i,c,s){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenMonochrome",b64Data:a,screenWidth:i,screenHeight:c,dataStore:s===!0}).then(function(u){if(typeof u=="string")return u;var v=new d.STU.DataStore;return v.setId(u.id),v})},flatten:function(a,i,c,s,u){var v=new d.STU.Protocol;switch(a){case v.EncodingMode.EncodingMode_24bit:case v.EncodingMode.EncodingMode_24bit_Bulk:return d.STU.ProtocolHelper.flattenColor24(i,c,s,u);case v.EncodingMode.EncodingMode_16bit:case v.EncodingMode.EncodingMode_16bit_Bulk:return d.STU.ProtocolHelper.flattenColor16(i,c,s,u);case v.EncodingMode.EncodingMode_1bit:case v.EncodingMode.EncodingMode_1bit_Bulk:return d.STU.ProtocolHelper.flattenMonochrome(i,c,s,u)}},resizeAndFlatten:function(a,i,c,s,u,v,S,b,D,B,N,K){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"resizeAndFlatten",b64Data:a,offsetX:i,offsetY:c,bitmapWidth:s,bitmapHeight:u,screenWidth:v,screenHeight:S,encodingMode:b,scale:D,backgroundColor:B,clip:N,dataStore:K===!0}).then(function(Z){if(typeof Z=="string")return Z;var U=new d.STU.DataStore;return U.setId(Z.id),U})},encodingFlagSupportsColor:function(a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"encodingFlagSupportsColor",screenWidth:a})},flattenColor16:function(a,i,c,s){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor16",b64Data:a,screenWidth:i,screenHeight:c,dataStore:s===!0}).then(function(u){if(typeof u=="string")return u;var v=new d.STU.DataStore;return v.setId(u.id),v})},flattenColor24:function(a,i,c,s){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor24",b64Data:a,screenWidth:i,screenHeight:c,dataStore:s===!0}).then(function(u){if(typeof u=="string")return u;var v=new d.STU.DataStore;return v.setId(u.id),v})},generateSymmetricKeyAndWaitForEncryptionStatus:function(a,i,c,s){var u=d.STU.ProtocolHelper.OpDirection.OpDirection_Set,v=Q.defer(),S=h();return r[S]=v,d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_EncryptionCommand,u,i,c).then(function(b){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"generateSymmetricKeyAndWaitForEncryptionStatus",protocol:a.toJSON(),intf:a.getInterface().toJSON(),timeout:s,sleepBetweenRetries:c,ticket2:S}).then(function(D){return v.promise})})},simulateEncodingFlag:function(a,i){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"simulateEncodingFlag",idProduct:a,encodingFlag:typeof obj=="undefined"?0:i})},writeImageArea:function(a,i,c,s,u,v){u=typeof u=="undefined"?25:u,v=typeof v=="undefined"?25:v;var S=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_StartImageDataArea,S,u,v).then(function(b){return a.setStartImageDataArea(i,c)}).then(function(b){var D=a.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(a,i,D,s,u,v)})},writeRomImage:function(a,i,c,s,u,v){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeRomImage",protocol:a,romStartImageData:i,maxImageBlockSize:c,imageData:s,retries:u,sleepBetweenRetries:v})}},x.prototype.Tablet=function(){var a="WacomGSS.STU.Tablet",i=null;function c(){}return c.prototype.toJSON=function(){return{id:i,scope:a}},c.prototype.Constructor=function(s,u,v){return d.STU.send({scope:a,function:"Constructor",hasIntf:typeof s!="undefined",intf:typeof s=="undefined"?null:s.toJSON(),encryptionHandler:typeof u=="undefined"||u===null?null:u.toJSON(),encryptionHandler2:typeof v=="undefined"||v===null?null:v.toJSON()}).then(function(S){return i=S.id,S})},c.prototype.attach=function(s){return d.STU.send({scope:a,id:i,function:"attach",intf:typeof s=="undefined"?null:s.toJSON()})},c.prototype.detach=function(s){return d.STU.send({scope:a,id:i,function:"detach"}).then(function(u){var v;return p(u.scope)&&p(u.id)&&(u.scope==="WacomGSS.STU.UsbInterface"?(v=new x.UsbInterface,v.id=u.id):u.scope==="WacomGSS.STU.SerialInterface"&&(v=new x.SerialInterface,v.id=u.id)),v})},c.prototype.getInformation=function(){return d.STU.send({scope:a,id:i,function:"getInformation"})},c.prototype.setClearScreen=function(){return d.STU.send({scope:a,id:i,function:"setClearScreen"})},c.prototype.isSupported=function(s){return d.STU.send({scope:a,id:i,function:"isSupported",reportId:s})},c.prototype.getProductId=function(s){return d.STU.send({scope:a,id:i,function:"getProductId"})},c.prototype.setPenDataOptionMode=function(s){return d.STU.send({scope:a,id:i,function:"setPenDataOptionMode",penDataOptionMode:s})},c.prototype.getDHprime=function(){return d.STU.send({scope:a,id:i,function:"getDHprime"})},c.prototype.startCapture=function(s){return d.STU.send({scope:a,id:i,function:"startCapture",sessionId:s})},c.prototype.setInkingMode=function(s){return d.STU.send({scope:a,id:i,function:"setInkingMode",inkingMode:s})},c.prototype.queueSetPredicateAll=function(s){return d.STU.send({scope:a,id:i,function:"queueSetPredicateAll",predicate:s})},c.prototype.endCapture=function(){return d.STU.send({scope:a,id:i,function:"endCapture"})},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:i,function:"disconnect"})},c.prototype.empty=function(){return d.STU.send({scope:a,id:i,function:"empty"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:i,function:"isConnected"})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:i,function:"supportsWrite"})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:i,function:"getReportCountLengths"})},c.prototype.getStatus=function(){return d.STU.send({scope:a,id:i,function:"getStatus"})},c.prototype.reset=function(){return d.STU.send({scope:a,id:i,function:"reset"})},c.prototype.getHidInformation=function(){return d.STU.send({scope:a,id:i,function:"getHidInformation"})},c.prototype.getCapability=function(){return d.STU.send({scope:a,id:i,function:"getCapability"})},c.prototype.getUid=function(){return d.STU.send({scope:a,id:i,function:"getUid"})},c.prototype.setUid=function(s){return d.STU.send({scope:a,id:i,function:"setUid",uid:s})},c.prototype.getUid2=function(){return d.STU.send({scope:a,id:i,function:"getUid2"})},c.prototype.setDefaultMode=function(s){return d.STU.send({scope:a,id:i,function:"setDefaultMode",defaultMode:s})},c.prototype.getDefaultMode=function(){return d.STU.send({scope:a,id:i,function:"getDefaultMode"})},c.prototype.getHostPublicKey=function(){return d.STU.send({scope:a,id:i,function:"getHostPublicKey"})},c.prototype.getDevicePublicKey=function(){return d.STU.send({scope:a,id:i,function:"getDevicePublicKey"})},c.prototype.setDHprime=function(s){return d.STU.send({scope:a,id:i,function:"setDHprime",prime:s})},c.prototype.getDHbase=function(){return d.STU.send({scope:a,id:i,function:"getDHbase"})},c.prototype.setDHbase=function(s){return d.STU.send({scope:a,id:i,function:"setDHbase",base})},c.prototype.setClearScreenArea=function(s){return d.STU.send({scope:a,id:i,function:"setClearScreenArea",area:s})},c.prototype.getInkingMode=function(){return d.STU.send({scope:a,id:i,function:"getInkingMode"})},c.prototype.getInkThreshold=function(){return d.STU.send({scope:a,id:i,function:"getInkThreshold"})},c.prototype.setInkThreshold=function(s){return d.STU.send({scope:a,id:i,function:"setInkThreshold",inkThreshold:s})},c.prototype.writeImage=function(s,u){var v=null;return typeof u=="string"?v=u:v=u.toJSON(),d.STU.send({scope:a,id:i,function:"writeImage",encodingMode:s,b64Data:v})},c.prototype.writeImageArea=function(s,u,v){var S=null;return typeof v=="string"?S=v:S=v.toJSON(),d.STU.send({scope:a,id:i,function:"writeImageArea",encodingMode:s,area:u,b64Data:S})},c.prototype.endImageData=function(s){return d.STU.send({scope:a,id:i,function:"endImageData"})},c.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:a,id:i,function:"getHandwritingThicknessColor"})},c.prototype.setHandwritingThicknessColor=function(s){return d.STU.send({scope:a,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:s})},c.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:a,id:i,function:"getHandwritingThicknessColor24"})},c.prototype.setHandwritingThicknessColor24=function(s){return d.STU.send({scope:a,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:s})},c.prototype.getBackgroundColor=function(){return d.STU.send({scope:a,id:i,function:"getBackgroundColor"})},c.prototype.setBackgroundColor=function(s){return d.STU.send({scope:a,id:i,function:"setBackgroundColor",backgroundColor:s})},c.prototype.getBackgroundColor24=function(){return d.STU.send({scope:a,id:i,function:"getBackgroundColor24"})},c.prototype.setBackgroundColor24=function(s){return d.STU.send({scope:a,id:i,function:"setBackgroundColor24",backgroundColor24:s})},c.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:a,id:i,function:"getHandwritingDisplayArea"})},c.prototype.setHandwritingDisplayArea=function(s){return d.STU.send({scope:a,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:s})},c.prototype.getBacklightBrightness=function(){return d.STU.send({scope:a,id:i,function:"getBacklightBrightness"})},c.prototype.setBacklightBrightness=function(s){return d.STU.send({scope:a,id:i,function:"setBacklightBrightness",backlightBrightness:s})},c.prototype.getScreenContrast=function(){return d.STU.send({scope:a,id:i,function:"getScreenContrast"})},c.prototype.setScreenContrast=function(s){return d.STU.send({scope:a,id:i,function:"setScreenContrast",screenContrast:s})},c.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:a,id:i,function:"getPenDataOptionMode"})},c.prototype.getEncryptionStatus=function(){return d.STU.send({scope:a,id:i,function:"getEncryptionStatus"})},c.prototype.getEncryptionCommand=function(s){return d.STU.send({scope:a,id:i,function:"getEncryptionCommand",encryptionCommandNumber:s})},c.prototype.decrypt=function(s){return d.STU.send({scope:a,id:i,decrypt:"decrypt",data:s})},c.prototype.setReportRate=function(s){return d.STU.send({scope:a,id:i,function:"setReportRate",reportRate:s})},c.prototype.getReportRate=function(){return d.STU.send({scope:a,id:i,function:"getReportRate"})},c.prototype.setRenderingMode=function(s){return d.STU.send({scope:a,id:i,function:"setRenderingMode",renderingMode:s})},c.prototype.getRenderingMode=function(){return d.STU.send({scope:a,id:i,function:"getRenderingMode"})},c.prototype.setOperationMode=function(s){return d.STU.send({scope:a,id:i,function:"setOperationMode",operationMode:s})},c.prototype.getOperationMode=function(){return d.STU.send({scope:a,id:i,function:"getOperationMode"})},c.prototype.writeRomImage=function(s,u){return d.STU.send({scope:a,id:i,function:"writeRomImage",romStartImageData:s,imageData:u})},c.prototype.setRomImageHash=function(s,u,v){return d.STU.send({scope:a,id:i,function:"setRomImageHash",operationModeType:s,imageType:u,imageNumber:v})},c.prototype.getRomImageHash=function(){return d.STU.send({scope:a,id:i,function:"getRomImageHash"})},c.prototype.setRomImageDelete=function(s,u,v){return d.STU.send({scope:a,id:i,function:"setRomImageDelete",romImageDeleteMode:s,imageType:u,imageNumber:v})},c.prototype.getCurrentImageArea=function(){return d.STU.send({scope:a,id:i,function:"getCurrentImageArea"})},c.prototype.setRomImageDisplay=function(s,u,v){return d.STU.send({scope:a,id:i,function:"setRomImageDisplay",operationModeType:s,imageType:u,imageNumber:v})},c.prototype.getEserial=function(){return d.STU.send({scope:a,id:i,function:"getEserial"})},c}(),x.prototype.SerialInterface=function(){var a="WacomGSS.STU.SerialInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(s){return i=s.id,s})},c.prototype.BaudRate_STU500=115200,c.prototype.BaudRate_STU430_530_prerelease=460800,c.prototype.BaudRate_STU430_530=3e6,c.prototype.connect=function(s,u,v){return d.STU.send({scope:a,id:i,function:"connect",fileName:s,baudRate:u,useCrc:v})},c.prototype.toJSON=function(){return{id:i,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:i,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:a,id:i,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(s){return d.STU.send({scope:a,id:i,function:"queueSetPredicateAll",predicate:s})},c.prototype.get=function(s){return d.STU.send({scope:a,id:i,function:"get_",length:s})},c.prototype.set=function(s){return d.STU.send({scope:a,id:i,function:"set",base64Data:s})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:i,function:"supportsWrite"})},c.prototype.write=function(s){return d.STU.send({scope:a,id:i,function:"write",base64Data:s})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:i,function:"getProductId"})},c}(),x.prototype.TlsInterface=function(){var a="WacomGSS.STU.TlsInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(s){return i=s.id,s})},c.prototype.ConnectOption={ConnectOption_OOB:1,ConnectOption_SSL:2},c.prototype.connect=function(s,u){return d.STU.send({scope:a,id:i,function:"connect",fileName:s,connectOption:u})},c.prototype.toJSON=function(){return{id:i,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:i,function:"isConnected"})},c.prototype.get=function(s){return d.STU.send({scope:a,id:i,function:"get_",length:s})},c.prototype.set=function(s){return d.STU.send({scope:a,id:i,function:"set",base64Data:s})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:i,function:"supportsWrite"})},c.prototype.write=function(s){return d.STU.send({scope:a,id:i,function:"write",base64Data:s})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:i,function:"getProductId"})},c}(),x.prototype.DataStore=function(){var a="WacomGSS.STU.DataStore",i=null;function c(){}return c.prototype.setId=function(s){i=s},c.prototype.toJSON=function(){return{id:i,scope:a}},c.prototype.Constructor=function(s){return d.STU.send({scope:a,function:"Constructor",b64Data:s})},c.prototype.getData=function(){return d.STU.send({scope:a,id:i,function:"getData"})},c.prototype.getRemove=function(){return d.STU.send({scope:a,id:i,function:"getRemove"}).then(function(s){return i=null,s})},c.prototype.remove=function(){return d.STU.send({scope:a,id:i,function:"remove"}).then(function(s){return i=null,s})},c.prototype.setData=function(s){return d.STU.send({scope:a,id:i,function:"setData",b64Data:s})},c}(),x.prototype.SerialProtocol={getHeaderLength:function(){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"getHeaderLength"})},isStartReport:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"isStartReport",byte:a})},decodeHasCrc:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeHasCrc",header1:a})},decodeEncodedDataLength:function(a,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeEncodedDataLength",header1:a,header2:i})},calcEncodedDataLength:function(a,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"calcEncodedDataLength",useCrc:a,length:i})},encodeHeader:function(a,i,c){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeHeader",encodedData:a,useCrc:i,encodedDataLength:c})},encodeReport:function(a,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeReport",report:a,useCrc:i})},decodeData:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeData",data:a})},checkCrcAndRemove:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"checkCrcAndRemove",container:a})}},x.prototype.EncryptionHandler=function(){var a="WacomGSS.STU.EncryptionHandler",i=null,c=null,s=null,u=new Object;function v(S){s=S,this.stream=function(b){try{u[b.function](b)}catch(D){throw new Error("EncryptionHandler."+b.function+" : "+D+`
message was:
`+JSON.stringify(b))}}}return v.prototype.Constructor=function(){return i=d.STU.setStream(this),d.STU.send({scope:a,function:"Constructor",streamId:i}).then(function(S){return c=S.id,S})},v.prototype.toJSON=function(){return{id:c,scope:a}},u.reset=function(S){s.reset(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.clearKeys=function(S){s.clearKeys(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.requireDH=function(S){var b=s.requireDH();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},u.setDH=function(S){s.setDH(S.data.dhPrime,S.data.dhBase),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.generateHostPublicKey=function(S){var b=s.generateHostPublicKey();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},u.computeSharedKey=function(S){s.computeSharedKey(S.data),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.decrypt=function(S){var b=s.decrypt(S.data);d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},v}(),x.prototype.EncryptionHandler2=function(){var a="WacomGSS.STU.EncryptionHandler2",i=null,c=null,s=null,u=new Object;function v(S){s=S,this.stream=function(b){try{u[b.function](b)}catch(D){throw new Error("EncryptionHandler2."+b.function+" : "+D+`
message was:
`+JSON.stringify(b))}}}return v.prototype.Constructor=function(){return i=d.STU.setStream(this),d.STU.send({scope:a,function:"Constructor",streamId:i}).then(function(S){return c=S.id,S})},v.prototype.toJSON=function(){return{id:c,scope:a}},u.reset=function(S){s.reset(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.clearKeys=function(S){s.clearKeys(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.getParameters=function(S){var b=s.getParameters(S.data.symmetricKeyType,S.data.asymmetricPaddingType,S.data.asymmetricKeyType),D=b[0],B=b[1],N=b[2];d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:{symmetricKeyType:D,asymmetricPaddingType:B,asymmetricKeyType:N}})},u.getPublicExponent=function(S){var b=s.getPublicExponent();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},u.generatePublicKey=function(S){var b=s.generatePublicKey();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},u.computeSessionKey=function(S){s.computeSessionKey(S.data),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:null})},u.decrypt=function(S){var b=s.decrypt(S.data);d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:S.promiseId,data:b})},v}(),x}();d.STU=new d.STUConstructor;const Ca={id:"IdCardBack",style:{height:"12.75cm",width:"8.1cm","font-size":"7pt",position:"relative","background-image":"url('/images/lgu_id_back.png')","background-position":"center","background-size":"contain","font-family":"sans-serif"}},Ta={class:"detail",style:{position:"absolute",top:"79px",left:"10px",overflow:"hidden",width:"265px",height:"35px","font-size":"11pt","line-height":"13pt"}},_a={class:"detail",style:{position:"absolute",top:"133px",left:"14px","font-size":"11pt"}},ka={class:"detail",style:{position:"absolute",top:"171px",left:"14px","font-size":"11pt"}},Ra={class:"detail",style:{position:"absolute",top:"209px",left:"14px","font-size":"11pt"}},Ia={class:"detail",style:{position:"absolute",top:"245px",left:"14px","font-size":"11pt"}},Ea={style:{width:"100%","text-align":"left",position:"absolute",left:"22px",bottom:"178px","font-size":"14px"}},Pa={style:{width:"100%","text-align":"left",position:"absolute",left:"22px",top:"297px","font-size":"16px"}},Da={class:"detail",style:{position:"absolute",top:"319px",left:"91px","font-size":"9pt"}},Ma={class:"detail",style:{position:"absolute",top:"335px",left:"91px","font-size":"9pt"}},Ua=Y("img",{id:"signatureImage",src:xa,style:{height:"227px",width:"359px",position:"absolute",bottom:"-146px",left:"-27px",transform:"scale(0.4)"}},null,-1),Aa=[Ua],Oa={style:{position:"absolute",bottom:"74px",width:"100%","text-align":"center","font-size":"8pt"}},Ba=Y("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1),wo=Object.assign({name:"IdCardBack"},{__name:"IdCardBack",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=e,o=t;function r(){o("onPenDataSave",K)}var l=se(!1),p="Cancel",h="Clear",w="OK",x=20,_=1e3,I=500,a,i,c,s,u,v,S=-1,b,D,B,N,K,Z,U=0,m;be(()=>n.details,(H,j)=>{H.sig_src&&(K=H.sig_src,b={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},N={offPressureMark:16,onPressureMark:21},Ke())},{deep:!0});function L(){U=U+1,d.STU.isServiceReady()?(U=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),U<x?setTimeout(L,_):alert("Unable to establish connection to SigCaptX"))}setTimeout(L,I);function M(){console.log("DCA disconnected"),setTimeout(Pe,0)}function ee(H,j,ne,ge){this.x=H,this.y=j,this.width=ne,this.height=ge,this.Contains=function($){return $.x>=this.x&&$.x<=this.x+this.width&&$.y>=this.y&&$.y<=this.y+this.height}}function P(){this.Bounds,this.Text,this.Click}function ue(H,j){this.x=H,this.y=j}function re(H,j){c=document.createElement("div"),c.id="signatureWindow",c.className="active",c.style.position="relative",c.style.top=0+"px",c.style.left=0+"px",c.style.width=H+"px",c.style.height=j+"px",document.getElementById("sigPreviewContainer").appendChild(c),a=document.createElement("canvas"),a.id="myCanvas",a.height=c.offsetHeight,a.width=c.offsetWidth,a.style.zIndex=999,c.appendChild(a),i=a.getContext("2d"),console.log("canvas.addEventListener:",a.addEventListener),a.addEventListener?(a.addEventListener("click",Ge,!1),console.log("onCanvasClick 0")):a.attachEvent?(a.attachEvent("onClick",Ge),console.log("onCanvasClick 1")):(a.onClick=Ge,console.log("onCanvasClick 2"))}function A(){var H=Q.defer();if(m!=null){var j=new d.STU.Protocol;m.setInkingMode(j.InkingMode.InkingMode_Off).then(function(ne){return console.log("received: "+JSON.stringify(ne)),m.endCapture()}).then(function(ne){return console.log("received: "+JSON.stringify(ne)),B!==null?B.remove():ne}).then(function(ne){return console.log("received: "+JSON.stringify(ne)),B=null,m.setClearScreen()}).then(function(ne){return console.log("received: "+JSON.stringify(ne)),m.disconnect()}).then(function(ne){console.log("received: "+JSON.stringify(ne)),m=null,Se(a,i)}).then(function(ne){H.resolve()}).fail(function(ne){console.log("disconnect error: "+ne),H.resolve()})}else H.resolve();return H.promise}window.addEventListener("beforeunload",function(H){var j="";return d.STU.close(),(H||window.event).returnValue=j,j});function te(){}te.prototype=new Error;function we(){l.value=!0,me()}function me(){var H=new d.STU.Protocol,j,ne,ge;d.STU.isDCAReady().then(function($){if(!$)throw new te;return d.STU.onDCAtimeout=M,d.STU.getUsbDevices()}).then(function($){if($==null||$.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify($)),Z=$,d.STU.isSupportedUsbDevice(Z[0].idVendor,Z[0].idProduct)}).then(function($){return console.log("received: "+JSON.stringify($)),j=new d.STU.UsbInterface,j.Constructor()}).then(function($){return console.log("received: "+JSON.stringify($)),j.connect(Z[0],!0)}).then(function($){return console.log("received: "+JSON.stringify($)),m=new d.STU.Tablet,m.Constructor(j,ne,ge)}).then(function($){return console.log("received: "+JSON.stringify($)),j=null,m.getInkThreshold()}).then(function($){return console.log("m_inkThreshold received: "+JSON.stringify($)),N=$,m.getCapability()}).then(function($){return console.log("m_capability received: "+JSON.stringify($)),b=$,re(b.screenWidth,b.screenHeight),m.getInformation()}).then(function($){return console.log("received: "+JSON.stringify($)),m.getInkThreshold()}).then(function($){return console.log("received: "+JSON.stringify($)),m.getProductId()}).then(function($){return console.log("received: "+JSON.stringify($)),d.STU.ProtocolHelper.simulateEncodingFlag($,b.encodingFlag)}).then(function($){console.log("received: "+JSON.stringify($));var ve=$;if((ve&H.EncodingFlag.EncodingFlag_24bit)!=0)return m.supportsWrite().then(function(xe){D=xe?H.EncodingMode.EncodingMode_24bit_Bulk:H.EncodingMode.EncodingMode_24bit});if((ve&H.EncodingFlag.EncodingFlag_16bit)!=0)return m.supportsWrite().then(function(xe){D=xe?H.EncodingMode.EncodingMode_16bit_Bulk:H.EncodingMode.EncodingMode_16bit});D=H.EncodingMode.EncodingMode_1bit}).then(function($){return m.setClearScreen()}).then(function($){return console.log("received from setClearScreen: "+JSON.stringify($)),$}).then(function($){return console.log("received: "+JSON.stringify($)),m.isSupported(H.ReportId.ReportId_PenDataOptionMode)}).then(function($){return console.log("received: "+JSON.stringify($)),$?m.getProductId().then(function(ve){var xe=H.PenDataOptionMode.PenDataOptionMode_None;switch(ve){case d.STU.ProductId.ProductId_520A:xe=H.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case d.STU.ProductId.ProductId_430:case d.STU.ProductId.ProductId_530:case d.STU.ProductId.ProductId_540:xe=H.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return m.setPenDataOptionMode(xe)}):(D=H.EncodingMode.EncodingMode_1bit,D)}).then(function($){console.log("received: "+JSON.stringify($)),R();var ve=a.toDataURL("image/png");return d.STU.ProtocolHelper.resizeAndFlatten(ve,0,0,0,0,b.screenWidth,b.screenHeight,D,1,!1,0,!0)}).then(function($){return B=$,console.log("received: "+JSON.stringify($)),m.writeImage(D,$)}).then(function($){return console.log("received: "+JSON.stringify($)),m.setInkingMode(H.InkingMode.InkingMode_On)}).then(function($){console.log("received: "+JSON.stringify($));var ve=new d.STU.ProtocolHelper.ReportHandler;u={x:0,y:0},s=!1,i.lineWidth=1;var xe=function(Oe){Ce(Oe,a),Ee(Oe,a,i),K.push(Oe)},Ie=function(Oe){Ce(Oe.penData[0],a),Ee(Oe.penData[0],a,i),Ce(Oe.penData[1],a),Ee(Oe.penData[1],a,i),K.push(Oe.penData[0],Oe.penData[1])},Ve=function(Oe){},$e=function(Oe){};return K=new Array,ve.onReportPenData=xe,ve.onReportPenDataOption=xe,ve.onReportPenDataTimeCountSequence=xe,ve.onReportPenDataEncrypted=Ie,ve.onReportPenDataEncryptedOption=Ie,ve.onReportPenDataTimeCountSequenceEncrypted=xe,ve.onReportDevicePublicKey=Ve,ve.onReportEncryptionStatus=Ve,ve.decrypt=$e,ve.startReporting(m,!0)}).fail(function($){console.log($),$ instanceof te?(d.STU.Reinitialize(),setTimeout(me,_)):(alert(`promptSigDialog failed:
`+$),setTimeout(Pe(),0))})}function R(){if(v=new Array(3),v[0]=new P,v[1]=new P,v[2]=new P,Z[0].idProduct!=d.STU.ProductId.ProductId_300){var H=b.screenWidth/3,j=b.screenWidth/3,ne=b.screenWidth-H-j,ge=b.screenHeight*6/7,$=b.screenHeight-ge;v[0].Bounds=new ee(0,ge,ne,$),v[1].Bounds=new ee(ne,ge,H,$),v[2].Bounds=new ee(ne+H,ge,j,$)}else{var ve=b.screenWidth*3/4,xe=b.screenWidth-ve,Ie=b.screenHeight/3,Ve=b.screenHeight/3,$e=b.screenHeight-Ie-Ve;v[0].Bounds=new ee(ve,0,xe,$e),v[1].Bounds=new ee(ve,$e,xe,Ie),v[2].Bounds=new ee(ve,$e+Ie,xe,Ve)}v[0].Text=w,v[1].Text=h,v[2].Text=p,v[0].Click=ce,v[1].Click=q,v[2].Click=pe,Se(a,i),T()}function T(){i.save(),i.setTransform(1,0,0,1,0,0),i.beginPath(),i.lineWidth=1,i.strokeStyle="black",i.font="30px Arial";for(var H=0;H<v.length;++H){i.fillStyle="lightgrey",i.fillRect(v[H].Bounds.x,v[H].Bounds.y,v[H].Bounds.width,v[H].Bounds.height),i.fillStyle="black",i.rect(v[H].Bounds.x,v[H].Bounds.y,v[H].Bounds.width,v[H].Bounds.height);var j=v[H].Bounds.x+(v[H].Bounds.width/2-i.measureText(v[H].Text).width/2),ne;Z[0].idProduct==d.STU.ProductId.ProductId_300?ne=28:Z[0].idProduct==d.STU.ProductId.ProductId_430?ne=26:ne=40,i.fillText(v[H].Text,j,v[H].Bounds.y+ne)}i.stroke(),i.closePath(),i.restore()}function z(){Se(a,i),T(),K=new Array,m.writeImage(D,B)}function ce(){console.log("btnOk_Click: ",this),Ke(),setTimeout(Pe,0)}function pe(){setTimeout(Pe,0)}function q(){console.log("clear!"),z()}function J(H,j){return Math.pow(H.x-j.x,2)+Math.pow(H.y-j.y,2)}function Se(H,j){j.save(),j.setTransform(1,0,0,1,0,0),j.fillStyle="white",j.fillRect(0,0,H.width,H.height),j.restore()}function F(H,j){j.save(),j.setTransform(1,0,0,1,0,0),j.fillStyle="#ffffff00",j.fillRect(0,0,H.width,H.height),j.restore()}function Ce(H,j){var ne={};ne.x=Math.round(j.width*H.x/b.tabletMaxX),ne.y=Math.round(j.height*H.y/b.tabletMaxY);for(var ge=s?!(H.pressure<=N.offPressureMark):H.pressure>N.onPressureMark,$=-1,ve=0;ve<v.length;++ve)if(v[ve].Bounds.Contains(ne)){$=ve;break}return s&&!ge?($!=-1&&S===$&&v[$].Click(),S=-1):$!=-1&&!s&&ge&&(S=$),$==-1}function Ee(H,j,ne){var ge={};ge.x=Math.round(j.width*H.x/b.tabletMaxX),ge.y=Math.round(j.height*H.y/b.tabletMaxY);var $=s?!(H.pressure<=N.offPressureMark):H.pressure>N.onPressureMark;!s&&$&&(u=ge),($&&10<J(u,ge)||s&&!$)&&(ne.beginPath(),ne.moveTo(u.x,u.y),ne.lineTo(ge.x,ge.y),ne.stroke(),ne.closePath(),u=ge),s=$}function Ke(){var H=document.getElementById("signatureImage"),j=document.createElement("canvas");j.id="signatureCanvas",j.height=H.height,j.width=H.width;var ne=j.getContext("2d");F(j,ne),ne.lineWidth="2.5",ne.strokeStyle="black",u={x:0,y:0},s=!1;for(var ge=0;ge<K.length;ge++)Ee(K[ge],j,ne);r(),H.src=j.toDataURL("image/png")}function Pe(){l.value=!1,d.STU.onDCAtimeout=null,A(),document.getElementById("sigPreviewContainer").removeChild(c)}function Ge(H){for(var j=H.pageX-c.offsetLeft,ne=H.pageY-c.offsetTop,ge=0;ge<v.length;ge++)if(v[ge].Bounds.Contains(new ue(j,ne))){v[ge].Click();break}}return(H,j)=>(dt(),_t(Wo,null,[Y("div",Ca,[Y("div",Ta,Re(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+Re(e.details.address_res_city)+", "+Re(e.details.address_res_zip_code)+", "+Re(e.details.address_res_province),1),Y("div",_a,Re(e.details.gender),1),Y("div",ka,Re(e.details.date_of_birth),1),Y("div",Ra,Re(e.details.blood_type),1),Y("div",Ia,Re(e.details.contact_number),1),Y("div",Ea,Re(e.details.emergency_name),1),Y("div",Pa,Re(e.details.emergency_number),1),Y("div",Da,Re(e.details.date_issued),1),Y("div",Ma,Re(e.details.date_valid_until),1),Y("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:j[0]||(j[0]=ne=>we())},Aa),Y("div",Oa,[Y("b",null,Re(e.details.name),1)])]),oe(Yt,{modelValue:li(l),"onUpdate:modelValue":j[2]||(j[2]=ne=>si(l)?l.value=ne:l=ne),"backdrop-filter":"sepia(90%)",persistent:""},{default:_e(()=>[oe(En,null,{default:_e(()=>[oe(tn,{class:"row items-center q-pb-none text-h6"},{default:_e(()=>[nt(" Signature ")]),_:1}),oe(tn,null,{default:_e(()=>[Ba,Y("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:j[1]||(j[1]=ne=>ce())}),Y("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:q}),Y("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:pe})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var xo=Je({name:"QCardActions",props:{...ui,vertical:Boolean},setup(e,{slots:t}){const n=ci(e),o=k(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>V("div",{class:o.value},et(t.default))}});function Co(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var To=Ko({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Co(t),handler(o){n.depth!==0&&setTimeout(()=>{const r=Mi(e);r!==void 0&&Ui(r,o,n.depth)})},handlerKey(o){rn(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Co(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var qa=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};const Fa={props:{image:{type:String,default:""},accept:{type:String,default:"image/*"},placeholderSvg:{type:String,default:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let e=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},methods:{drawRoundedRect(e,t,n,o,r,l){if(l===0)e.rect(t,n,o,r);else{const p=o-l,h=r-l;e.translate(t,n),e.arc(l,l,l,Math.PI,Math.PI*1.5),e.lineTo(p,0),e.arc(p,l,l,Math.PI*1.5,Math.PI*2),e.lineTo(o,h),e.arc(p,h,l,Math.PI*2,Math.PI*.5),e.lineTo(l,r),e.arc(l,h,l,Math.PI*.5,Math.PI),e.translate(-t,-n)}},svgToImage(e){let t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),o=(self.URL||self.webkitURL||self).createObjectURL(t),r=new Image;return r.src=o,r},setState(e){var t=Math.ceil(1),n=Math.floor(1e4);this.state=e,this.state.cnt="HELLO"+Math.floor(Math.random()*(n-t))+t},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let e=this.borderRadius;const t=this.getDimensions(),n=t.border,o=t.canvas.height,r=t.canvas.width;e=Math.max(e,0),e=Math.min(e,r/2-n,o/2-n),this.context.beginPath(),this.drawRoundedRect(this.context,n,n,r-n*2,o-n*2,e),this.context.rect(r,0,-r,o),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+this.border*2,height:this.height+this.border*2}}},onDrop(e){if(e=e||window.event,e.stopPropagation(),e.preventDefault(),e.dataTransfer&&e.dataTransfer.files.length){const t=new FileReader,n=e.dataTransfer.files[0];this.changed=!0,t.onload=o=>this.loadImage(o.target.result),t.readAsDataURL(n)}},onDragStart(e){e=e||window.event,e.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let t=document,n=!1,o=l=>{this.onDragEnd(l),!n&&l.targetTouches&&e.target.click(),t.removeEventListener("mouseup",o),t.removeEventListener("mousemove",r),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",r)},r=l=>{n=!0,this.onMouseMove(l)};t.addEventListener("mouseup",o),t.addEventListener("mousemove",r),t.addEventListener("touchend",o),t.addEventListener("touchmove",r)},onDragEnd(e){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(e){if(e=e||window.event,this.state.drag===!1)return;this.dragged=!0,this.changed=!0;let t=this.state.image;const n=t.x,o=t.y,r=e.targetTouches?e.targetTouches[0].pageX:e.clientX,l=e.targetTouches?e.targetTouches[0].pageY:e.clientY,p={mx:r,my:l,image:t};if(this.state.mx&&this.state.my){const h=(this.state.mx-r)/this.scale,w=(this.state.my-l)/this.scale;t.y=this.getBoundedY(o-w,this.scale),t.x=this.getBoundedX(n-h,this.scale)}this.state.mx=p.mx,this.state.my=p.my,this.state.image=t},replaceImageInBounds(){let e=this.state.image;e.y=this.getBoundedY(e.y,this.scale),e.x=this.getBoundedX(e.x,this.scale)},loadImage(e){let t=new Image,n=this;t.onload=()=>{let o=n.getInitialSize(t.width,t.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=t,n.state.image.width=o.width,n.state.image.height=o.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,this.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},t.onerror=o=>console.log("error loading image: ",o),this.isDataURL(e)||(t.crossOrigin="anonymous"),t.src=e},getInitialSize(e,t){let n,o;const r=this.getDimensions(),l=r.height/r.width,p=t/e;return l>p?(n=this.getDimensions().height,o=e*(n/t)):(o=this.getDimensions().width,n=t*(o/e)),{height:n,width:o}},isDataURL(e){return e===null?!1:!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX(e,t){var n=this.state.image,o=this.getDimensions();let r=Math.abs(n.width*Math.cos(this.rotationRadian))+Math.abs(n.height*Math.sin(this.rotationRadian)),l=Math.floor((r-o.width/t)/2);return l=Math.max(0,l),Math.max(-l,Math.min(e,l))},getBoundedY(e,t){var n=this.state.image,o=this.getDimensions();let r=Math.abs(n.width*Math.sin(this.rotationRadian))+Math.abs(n.height*Math.cos(this.rotationRadian)),l=Math.floor((r-o.height/t)/2);return l=Math.max(0,l),Math.max(-l,Math.min(e,l))},paintImage(e,t,n){if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.globalCompositeOperation="destination-over";let r=this.getDimensions();e.translate(r.canvas.width/2,r.canvas.height/2),e.rotate(this.rotationRadian),e.translate(-r.canvas.width/2,-r.canvas.height/2),e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}},transformDataWithRotation(e,t){let n=-this.rotationRadian,o=e*Math.cos(n)-t*Math.sin(n),r=e*Math.sin(n)+t*Math.cos(n);return[o,r]},calculatePosition(e,t){e=e||this.state.image;var n=this.getDimensions();let o=e.width*this.scale,r=e.height*this.scale;var l=(o-n.width)/2,p=(r-n.height)/2,h=e.x*this.scale,w=e.y*this.scale;return[h,w]=this.transformDataWithRotation(h,w),h+=t-l,w+=t-p,{x:h,y:w,height:r,width:o}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;const n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t.resource,-e.x,-e.y),n},getImageScaled(){const{width:e,height:t}=this.getDimensions(),n=document.createElement("canvas");return n.width=e,n.height=t,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged(){return this.changed},getCroppingRect(){const e=this.getDimensions(),t={x:e.border,y:e.border,width:e.width,height:e.height},n=this.calculatePosition(this.state.image,e.border);return{x:(t.x-n.x)/n.width,y:(t.y-n.y)/n.height,width:t.width/n.width,height:t.height/n.height}},clicked(e){this.dragged===!0?this.dragged=!1:this.$refs.input.click()},fileSelected(e){var t=e.target.files||e.dataTransfer.files;if(this.$emit("select-file",t),!!t.length){var n=new FileReader;this.changed=!0,n.onload=o=>this.loadImage(o.target.result),n.readAsDataURL(t[0])}},resetImage(){let e=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),e.imageLoaded=!1,this.$emit("imageLoaded",e.imageLoaded),e.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},watch:{state:{handler(e,t){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}},Va=["width","height"],Ha=["accept"];function $a(e,t,n,o,r,l){return dt(),_t("div",null,[Y("canvas",{width:l.canvasWidth,height:l.canvasHeight,class:"cursorPointer",id:"avatarEditorCanvas",ref:"avatarEditorCanvas",onDragover:t[0]||(t[0]=Go(()=>{},["prevent"])),onDrop:t[1]||(t[1]=(...p)=>l.onDrop&&l.onDrop(...p)),onMousedown:t[2]||(t[2]=(...p)=>l.onDragStart&&l.onDragStart(...p)),onTouchstart:t[3]||(t[3]=(...p)=>l.onDragStart&&l.onDragStart(...p)),onClick:t[4]||(t[4]=(...p)=>l.clicked&&l.clicked(...p))},null,40,Va),Y("input",{type:"file",ref:"input",accept:n.accept,onChange:t[5]||(t[5]=(...p)=>l.fileSelected&&l.fileSelected(...p)),style:{display:"none"}},null,40,Ha)])}var _o=qa(Fa,[["render",$a]]);const La={id:"photoGetterContainer"},Na={id:"uploadedPhotoEditor",style:{width:"250px",height:"188px",overflow:"hidden",display:"relative"}},za=["src"],ja=["hidden"],Wa=Y("canvas",{hidden:"",id:"canvasCapture",width:"250px",height:"188px"},null,-1),Ka={class:"q-mt-sm"},Ga=Y("video",{id:"player",autoplay:"",style:{width:"1000px"}},null,-1),Qa=Y("br",null,null,-1),Ja=Y("br",null,null,-1),Xa=Y("br",null,null,-1),Ya=Y("br",null,null,-1),Za=Object.assign({name:"PhotoGetter",components:{VueAvatar:_o},data(){return{uploadDialog:!1,hasNewCapture:!1,prompt:!1,selectedCamDevice:null,camDevices:[],player:null,rotation:0,scale:1,borderRadius:0,imgSrc:null}},watch:{"selected_employee_data.employees_id"(e){},prompt(e,t){e||window.stream&&window.stream.getTracks().forEach(n=>{n.stop()})},selectedCamDevice(e){this.getStream()}},methods:{saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();const n=t.toDataURL("image/jpeg",1),o=document.getElementById("uploadedPhoto");o.src=n;const r=document.getElementById("canvasCapture");r.getContext("2d").drawImage(o,0,0,r.width,r.height),this.$emit("imageCaptured",n),this.hasNewCapture=!0,this.uploadDialog=!this.uploadDialog},onImageReady:function(){this.scale=1,this.rotation=0},promptUploadPhoto(){},uploadPhoto(e){const t=document.getElementById("uploadPhotoInput");var n=document.getElementById("uploadedPhoto");t.files&&t.files[0]&&(n.onload=()=>{URL.revokeObjectURL(n.src),document.getElementById("uploadedPhotoEditor");const o=document.getElementById("canvasCapture");o.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height),console.log(n.width+" "+n.height),console.log(o.width+" "+o.height);const l=o.toDataURL("image/jpeg",1);console.log(l),this.$emit("imageCaptured",l),this.hasNewCapture=!0},n.src=URL.createObjectURL(t.files[0]))},promptDialog(){this.camDevices=[],this.getDevices().then(this.gotDevices),this.prompt=!this.prompt,this.$nextTick(()=>{this.player=document.getElementById("player");const e=document.getElementById("canvasCapture"),t=e.getContext("2d");document.getElementById("capture").addEventListener("click",()=>{t.drawImage(this.player,0,0,e.width,e.height);const o=e.toDataURL("image/jpeg",1),r=document.getElementById("uploadedPhoto");r.src=o,this.prompt=!this.prompt,this.$emit("imageCaptured",o),this.hasNewCapture=!0,window.stream&&window.stream.getTracks().forEach(l=>{l.stop()})}),this.getStream()})},getStream(){window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e=this.selectedCamDevice.value,t={video:{deviceId:e?{exact:e}:void 0}};return navigator.mediaDevices.getUserMedia(t).then(this.gotStream)},gotStream(e){window.stream=e,this.player.srcObject=e},async getDevices(){return console.log(navigator.mediaDevices.enumerateDevices()),await navigator.mediaDevices.enumerateDevices()},async gotDevices(e){window.deviceInfos=e;for(const t of e){const n={label:"",value:""};n.value=t.deviceId,t.kind==="videoinput"&&(n.label=t.label||`Camera ${videoSelect.length+1}`,this.camDevices.push(n))}this.selectedCamDevice==null&&(this.selectedCamDevice=this.camDevices[0])}},created(){}},{__name:"PhotoGetter",props:{selected_employee_data:{type:Object}},emits:["imageCaptured"],setup(e){return(t,n)=>(dt(),_t(Wo,null,[Y("div",La,[Y("div",Na,[Y("img",{id:"uploadedPhoto",ref:"uploadedPhotoRef",src:"http://192.168.50.51:8081/id_photos/"+e.selected_employee_data.employees_id+".jpg",style:{transform:"scale(1)",width:"250px !important"}},null,8,za)]),Y("div",{hidden:t.hasNewCapture,style:{overflow:"hidden"}},null,8,ja),Wa]),Y("div",Ka,[oe(ze,{unelevated:"",icon:"file_upload",onClick:n[0]||(n[0]=o=>t.uploadDialog=!t.uploadDialog),disable:!e.selected_employee_data.employees_id},{default:_e(()=>[nt("Upload")]),_:1},8,["disable"]),oe(ze,{unelevated:"",class:"",label:"CAM",icon:"add_a_photo",onClick:t.promptDialog,disable:!e.selected_employee_data.employees_id},null,8,["onClick","disable"]),di(t.$slots,"buttons")]),oe(Yt,{modelValue:t.prompt,"onUpdate:modelValue":n[2]||(n[2]=o=>t.prompt=o),persistent:""},{default:_e(()=>[oe(En,{style:{"min-width":"1500px","text-align":"center"}},{default:_e(()=>[oe(tn,{class:"q-pt-none q-ma-lg"},{default:_e(()=>[oe(In,{modelValue:t.selectedCamDevice,"onUpdate:modelValue":n[1]||(n[1]=o=>t.selectedCamDevice=o),options:t.camDevices,label:"Device"},null,8,["modelValue","options"]),Ga,Qa,oe(ze,{id:"capture"},{default:_e(()=>[nt("Capture")]),_:1})]),_:1}),oe(xo,{align:"right",class:"text-primary"},{default:_e(()=>[dn(oe(ze,{flat:"",label:"Cancel"},null,512),[[To]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),oe(Yt,{modelValue:t.uploadDialog,"onUpdate:modelValue":n[4]||(n[4]=o=>t.uploadDialog=o),persistent:""},{default:_e(()=>[oe(En,{style:{"_min-width":"1500px","text-align":"center"}},{default:_e(()=>[oe(tn,{class:"q-pt-none q-ma-lg"},{default:_e(()=>[oe(_o,{image:"",width:250,height:188,rotation:t.rotation,borderRadius:t.borderRadius,scale:t.scale,ref:"vueavatar","onVueAvatarEditor:imageReady":t.onImageReady},null,8,["rotation","borderRadius","scale","onVueAvatarEditor:imageReady"]),Ja,Y("label",null,[nt(" Zoom : "+Re(t.scale)+"x ",1),Xa,dn(Y("input",{type:"range",min:-1,max:3,step:.02,"onUpdate:modelValue":n[3]||(n[3]=o=>t.scale=o)},null,512),[[fi,t.scale,void 0,{number:!0}]])]),Ya,oe(ze,{label:"Get Image",onClick:t.saveClicked},null,8,["onClick"])]),_:1}),oe(xo,{align:"right",class:"text-primary"},{default:_e(()=>[dn(oe(ze,{flat:"",label:"Cancel"},null,512),[[To]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Fn={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},el=Object.keys(Fn);Fn.all=!0;function ko(e){const t={};for(const n of el)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?Fn:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const tl=["INPUT","TEXTAREA"];function Ro(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&tl.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function wn(e,t,n){const o=Mt(e);let r,l=o.left-t.event.x,p=o.top-t.event.y,h=Math.abs(l),w=Math.abs(p);const x=t.direction;x.horizontal===!0&&x.vertical!==!0?r=l<0?"left":"right":x.horizontal!==!0&&x.vertical===!0?r=p<0?"up":"down":x.up===!0&&p<0?(r="up",h>w&&(x.left===!0&&l<0?r="left":x.right===!0&&l>0&&(r="right"))):x.down===!0&&p>0?(r="down",h>w&&(x.left===!0&&l<0?r="left":x.right===!0&&l>0&&(r="right"))):x.left===!0&&l<0?(r="left",h<w&&(x.up===!0&&p<0?r="up":x.down===!0&&p>0&&(r="down"))):x.right===!0&&l>0&&(r="right",h<w&&(x.up===!0&&p<0?r="up":x.down===!0&&p>0&&(r="down")));let _=!1;if(r===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};r=t.event.lastDir,_=!0,r==="left"||r==="right"?(o.left-=l,h=0,l=0):(o.top-=p,w=0,p=0)}return{synthetic:_,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:o,direction:r,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:h,y:w},offset:{x:l,y:p},delta:{x:o.left-t.event.lastX,y:o.top-t.event.lastY}}}}let nl=0;var ol=Ko({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&He.has.touch!==!0)return;function o(l,p){n.mouse===!0&&p===!0?Ne(l):(n.stop===!0&&Ye(l),n.prevent===!0&&Xe(l))}const r={uid:"qvtp_"+nl++,handler:t,modifiers:n,direction:ko(n),noop:zo,mouseStart(l){Ro(l,r)&&pi(l)&&(St(r,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),r.start(l,!0))},touchStart(l){if(Ro(l,r)){const p=l.target;St(r,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","passiveCapture"],[p,"touchend","end","passiveCapture"]]),r.start(l)}},start(l,p){if(He.is.firefox===!0&&fn(e,!0),r.lastEvt=l,p===!0||n.stop===!0){if(r.direction.all!==!0&&(p!==!0||r.modifiers.mouseAllDir!==!0&&r.modifiers.mousealldir!==!0)){const x=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Xe(x),l.cancelBubble===!0&&Ye(x),Object.assign(x,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[r.uid]:l.qClonedBy.concat(r.uid)}),r.initialEvent={target:l.target,event:x}}Ye(l)}const{left:h,top:w}=Mt(l);r.event={x:h,y:w,time:Date.now(),mouse:p===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:h,lastY:w}},move(l){if(r.event===void 0)return;const p=Mt(l),h=p.left-r.event.x,w=p.top-r.event.y;if(h===0&&w===0)return;r.lastEvt=l;const x=r.event.mouse===!0,_=()=>{o(l,x);let i;n.preserveCursor!==!0&&n.preservecursor!==!0&&(i=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),x===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Jo(),r.styleCleanup=c=>{if(r.styleCleanup=void 0,i!==void 0&&(document.documentElement.style.cursor=i),document.body.classList.remove("non-selectable"),x===!0){const s=()=>{document.body.classList.remove("no-pointer-events--children")};c!==void 0?setTimeout(()=>{s(),c()},50):s()}else c!==void 0&&c()}};if(r.event.detected===!0){r.event.isFirst!==!0&&o(l,r.event.mouse);const{payload:i,synthetic:c}=wn(l,r,!1);i!==void 0&&(r.handler(i)===!1?r.end(l):(r.styleCleanup===void 0&&r.event.isFirst===!0&&_(),r.event.lastX=i.position.left,r.event.lastY=i.position.top,r.event.lastDir=c===!0?void 0:i.direction,r.event.isFirst=!1));return}if(r.direction.all===!0||x===!0&&(r.modifiers.mouseAllDir===!0||r.modifiers.mousealldir===!0)){_(),r.event.detected=!0,r.move(l);return}const I=Math.abs(h),a=Math.abs(w);I!==a&&(r.direction.horizontal===!0&&I>a||r.direction.vertical===!0&&I<a||r.direction.up===!0&&I<a&&w<0||r.direction.down===!0&&I<a&&w>0||r.direction.left===!0&&I>a&&h<0||r.direction.right===!0&&I>a&&h>0?(r.event.detected=!0,r.move(l)):r.end(l,!0))},end(l,p){if(r.event!==void 0){if(Wt(r,"temp"),He.is.firefox===!0&&fn(e,!1),p===!0)r.styleCleanup!==void 0&&r.styleCleanup(),r.event.detected!==!0&&r.initialEvent!==void 0&&r.initialEvent.target.dispatchEvent(r.initialEvent.event);else if(r.event.detected===!0){r.event.isFirst===!0&&r.handler(wn(l===void 0?r.lastEvt:l,r).payload);const{payload:h}=wn(l===void 0?r.lastEvt:l,r,!0),w=()=>{r.handler(h)};r.styleCleanup!==void 0?r.styleCleanup(w):w()}r.event=void 0,r.initialEvent=void 0,r.lastEvt=void 0}}};if(e.__qtouchpan=r,n.mouse===!0){const l=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";St(r,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}He.has.touch===!0&&St(r,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=ko(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),Wt(t,"main"),Wt(t,"temp"),He.is.firefox===!0&&fn(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const Io="q-slider__marker-labels",rl=e=>({value:e}),il=({marker:e})=>V("div",{key:e.value,style:e.style,class:e.classes},e.label),hr=[34,37,40,33,39,38],al={...Ot,...qn,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ll=["pan","update:modelValue","change"];function sl({updateValue:e,updatePosition:t,getDragging:n,formAttrs:o}){const{props:r,emit:l,slots:p,proxy:{$q:h}}=Ae(),w=Bt(r,h),x=oa(o),_=se(!1),I=se(!1),a=se(!1),i=se(!1),c=k(()=>r.vertical===!0?"--v":"--h"),s=k(()=>"-"+(r.switchLabelSide===!0?"switched":"standard")),u=k(()=>r.vertical===!0?r.reverse===!0:r.reverse!==(h.lang.rtl===!0)),v=k(()=>isNaN(r.innerMin)===!0||r.innerMin<r.min?r.min:r.innerMin),S=k(()=>isNaN(r.innerMax)===!0||r.innerMax>r.max?r.max:r.innerMax),b=k(()=>r.disable!==!0&&r.readonly!==!0&&v.value<S.value),D=k(()=>{if(r.step===0)return W=>W;const E=(String(r.step).trim().split(".")[1]||"").length;return W=>parseFloat(W.toFixed(E))}),B=k(()=>r.step===0?1:r.step),N=k(()=>b.value===!0?r.tabindex||0:-1),K=k(()=>r.max-r.min),Z=k(()=>S.value-v.value),U=k(()=>Ee(v.value)),m=k(()=>Ee(S.value)),L=k(()=>r.vertical===!0?u.value===!0?"bottom":"top":u.value===!0?"right":"left"),M=k(()=>r.vertical===!0?"height":"width"),ee=k(()=>r.vertical===!0?"width":"height"),P=k(()=>r.vertical===!0?"vertical":"horizontal"),ue=k(()=>{const E={role:"slider","aria-valuemin":v.value,"aria-valuemax":S.value,"aria-orientation":P.value,"data-step":r.step};return r.disable===!0?E["aria-disabled"]="true":r.readonly===!0&&(E["aria-readonly"]="true"),E}),re=k(()=>`q-slider q-slider${c.value} q-slider--${_.value===!0?"":"in"}active inline no-wrap `+(r.vertical===!0?"row":"column")+(r.disable===!0?" disabled":" q-slider--enabled"+(b.value===!0?" q-slider--editable":""))+(a.value==="both"?" q-slider--focus":"")+(r.label||r.labelAlways===!0?" q-slider--label":"")+(r.labelAlways===!0?" q-slider--label-always":"")+(w.value===!0?" q-slider--dark":"")+(r.dense===!0?" q-slider--dense q-slider--dense"+c.value:""));function A(E){const W="q-slider__"+E;return`${W} ${W}${c.value} ${W}${c.value}${s.value}`}function te(E){const W="q-slider__"+E;return`${W} ${W}${c.value}`}const we=k(()=>{const E=r.selectionColor||r.color;return"q-slider__selection absolute"+(E!==void 0?` text-${E}`:"")}),me=k(()=>te("markers")+" absolute overflow-hidden"),R=k(()=>te("track-container")),T=k(()=>A("pin")),z=k(()=>A("label")),ce=k(()=>A("text-container")),pe=k(()=>A("marker-labels-container")+(r.markerLabelsClass!==void 0?` ${r.markerLabelsClass}`:"")),q=k(()=>"q-slider__track relative-position no-outline"+(r.trackColor!==void 0?` bg-${r.trackColor}`:"")),J=k(()=>{const E={[ee.value]:r.trackSize};return r.trackImg!==void 0&&(E.backgroundImage=`url(${r.trackImg}) !important`),E}),Se=k(()=>"q-slider__inner absolute"+(r.innerTrackColor!==void 0?` bg-${r.innerTrackColor}`:"")),F=k(()=>{const E=m.value-U.value,W={[L.value]:`${100*U.value}%`,[M.value]:E===0?"2px":`${100*E}%`};return r.innerTrackImg!==void 0&&(W.backgroundImage=`url(${r.innerTrackImg}) !important`),W});function Ce(E){const{min:W,max:ae,step:fe}=r;let ye=W+E*(ae-W);if(fe>0){const Be=(ye-v.value)%fe;ye+=(Math.abs(Be)>=fe/2?(Be<0?-1:1)*fe:0)-Be}return ye=D.value(ye),bt(ye,v.value,S.value)}function Ee(E){return K.value===0?0:(E-r.min)/K.value}function Ke(E,W){const ae=Mt(E),fe=r.vertical===!0?bt((ae.top-W.top)/W.height,0,1):bt((ae.left-W.left)/W.width,0,1);return bt(u.value===!0?1-fe:fe,U.value,m.value)}const Pe=k(()=>mi(r.markers)===!0?r.markers:B.value),Ge=k(()=>{const E=[],W=Pe.value,ae=r.max;let fe=r.min;do E.push(fe),fe+=W;while(fe<ae);return E.push(ae),E}),H=k(()=>{const E=` ${Io}${c.value}-`;return Io+`${E}${r.switchMarkerLabelsSide===!0?"switched":"standard"}${E}${u.value===!0?"rtl":"ltr"}`}),j=k(()=>r.markerLabels===!1?null:$(r.markerLabels).map((E,W)=>({index:W,value:E.value,label:E.label||E.value,classes:H.value+(E.classes!==void 0?" "+E.classes:""),style:{...ve(E.value),...E.style||{}}}))),ne=k(()=>({markerList:j.value,markerMap:xe.value,classes:H.value,getStyle:ve})),ge=k(()=>{const E=Z.value===0?"2px":100*Pe.value/Z.value;return{...F.value,backgroundSize:r.vertical===!0?`2px ${E}%`:`${E}% 2px`}});function $(E){if(E===!1)return null;if(E===!0)return Ge.value.map(rl);if(typeof E=="function")return Ge.value.map(ae=>{const fe=E(ae);return pn(fe)===!0?{...fe,value:ae}:{value:ae,label:fe}});const W=({value:ae})=>ae>=r.min&&ae<=r.max;return Array.isArray(E)===!0?E.map(ae=>pn(ae)===!0?ae:{value:ae}).filter(W):Object.keys(E).map(ae=>{const fe=E[ae],ye=Number(ae);return pn(fe)===!0?{...fe,value:ye}:{value:ye,label:fe}}).filter(W)}function ve(E){return{[L.value]:`${100*(E-r.min)/K.value}%`}}const xe=k(()=>{if(r.markerLabels===!1)return null;const E={};return j.value.forEach(W=>{E[W.value]=W}),E});function Ie(){if(p["marker-label-group"]!==void 0)return p["marker-label-group"](ne.value);const E=p["marker-label"]||il;return j.value.map(W=>E({marker:W,...ne.value}))}const Ve=k(()=>[[ol,$e,void 0,{[P.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function $e(E){E.isFinal===!0?(i.value!==void 0&&(t(E.evt),E.touch===!0&&e(!0),i.value=void 0,l("pan","end")),_.value=!1,a.value=!1):E.isFirst===!0?(i.value=n(E.evt),t(E.evt),e(),_.value=!0,l("pan","start")):(t(E.evt),e())}function Oe(){a.value=!1}function f(E){t(E,n(E)),e(),I.value=!0,_.value=!0,document.addEventListener("mouseup",g,!0)}function g(){I.value=!1,_.value=!1,e(!0),Oe(),document.removeEventListener("mouseup",g,!0)}function C(E){t(E,n(E)),e(!0)}function O(E){hr.includes(E.keyCode)&&e(!0)}function ie(E){if(r.vertical===!0)return null;const W=h.lang.rtl!==r.reverse?1-E:E;return{transform:`translateX(calc(${2*W-1} * ${r.thumbSize} / 2 + ${50-100*W}%))`}}function de(E){const W=k(()=>I.value===!1&&(a.value===E.focusValue||a.value==="both")?" q-slider--focus":""),ae=k(()=>`q-slider__thumb q-slider__thumb${c.value} q-slider__thumb${c.value}-${u.value===!0?"rtl":"ltr"} absolute non-selectable`+W.value+(E.thumbColor.value!==void 0?` text-${E.thumbColor.value}`:"")),fe=k(()=>({width:r.thumbSize,height:r.thumbSize,[L.value]:`${100*E.ratio.value}%`,zIndex:a.value===E.focusValue?2:void 0})),ye=k(()=>E.labelColor.value!==void 0?` text-${E.labelColor.value}`:""),Be=k(()=>ie(E.ratio.value)),ft=k(()=>"q-slider__text"+(E.labelTextColor.value!==void 0?` text-${E.labelTextColor.value}`:""));return()=>{const pt=[V("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[V("path",{d:r.thumbPath})]),V("div",{class:"q-slider__focus-ring fit"})];return(r.label===!0||r.labelAlways===!0)&&(pt.push(V("div",{class:T.value+" absolute fit no-pointer-events"+ye.value},[V("div",{class:z.value,style:{minWidth:r.thumbSize}},[V("div",{class:ce.value,style:Be.value},[V("span",{class:ft.value},E.label.value)])])])),r.name!==void 0&&r.disable!==!0&&x(pt,"push")),V("div",{class:ae.value,style:fe.value,...E.getNodeData()},pt)}}function le(E,W,ae,fe){const ye=[];r.innerTrackColor!=="transparent"&&ye.push(V("div",{key:"inner",class:Se.value,style:F.value})),r.selectionColor!=="transparent"&&ye.push(V("div",{key:"selection",class:we.value,style:E.value})),r.markers!==!1&&ye.push(V("div",{key:"marker",class:me.value,style:ge.value})),fe(ye);const Be=[Lo("div",{key:"trackC",class:R.value,tabindex:W.value,...ae.value},[V("div",{class:q.value,style:J.value},ye)],"slide",b.value,()=>Ve.value)];if(r.markerLabels!==!1){const ft=r.switchMarkerLabelsSide===!0?"unshift":"push";Be[ft](V("div",{key:"markerL",class:pe.value},Ie()))}return Be}return We(()=>{document.removeEventListener("mouseup",g,!0)}),{state:{active:_,focus:a,preventFocus:I,dragging:i,editable:b,classes:re,tabindex:N,attributes:ue,roundValueFn:D,keyStep:B,trackLen:K,innerMin:v,innerMinRatio:U,innerMax:S,innerMaxRatio:m,positionProp:L,sizeProp:M,isReversed:u},methods:{onActivate:f,onMobileClick:C,onBlur:Oe,onKeyup:O,getContent:le,getThumbRenderFn:de,convertRatioToModel:Ce,convertModelToRatio:Ee,getDraggingRatio:Ke}}}const ul=()=>({});var Dt=Je({name:"QSlider",props:{...al,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:ll,setup(e,{emit:t}){const{proxy:{$q:n}}=Ae(),{state:o,methods:r}=sl({updateValue:c,updatePosition:u,getDragging:s,formAttrs:na(e)}),l=se(null),p=se(0),h=se(0);function w(){h.value=e.modelValue===null?o.innerMin.value:bt(e.modelValue,o.innerMin.value,o.innerMax.value)}be(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,w),w();const x=k(()=>r.convertModelToRatio(h.value)),_=k(()=>o.active.value===!0?p.value:x.value),I=k(()=>{const b={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(_.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(b.backgroundImage=`url(${e.selectionImg}) !important`),b}),a=r.getThumbRenderFn({focusValue:!0,getNodeData:ul,ratio:_,label:k(()=>e.labelValue!==void 0?e.labelValue:h.value),thumbColor:k(()=>e.thumbColor||e.color),labelColor:k(()=>e.labelColor),labelTextColor:k(()=>e.labelTextColor)}),i=k(()=>o.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:r.onMobileClick}:{onMousedown:r.onActivate,onFocus:v,onBlur:r.onBlur,onKeydown:S,onKeyup:r.onKeyup});function c(b){h.value!==e.modelValue&&t("update:modelValue",h.value),b===!0&&t("change",h.value)}function s(){return l.value.getBoundingClientRect()}function u(b,D=o.dragging.value){const B=r.getDraggingRatio(b,D);h.value=r.convertRatioToModel(B),p.value=e.snap!==!0||e.step===0?B:r.convertModelToRatio(h.value)}function v(){o.focus.value=!0}function S(b){if(!hr.includes(b.keyCode))return;Ne(b);const D=([34,33].includes(b.keyCode)?10:1)*o.keyStep.value,B=([34,37,40].includes(b.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*D;h.value=bt(o.roundValueFn.value(h.value+B),o.innerMin.value,o.innerMax.value),c()}return()=>{const b=r.getContent(I,o.tabindex,i,D=>{D.push(a())});return V("div",{ref:l,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},b)}}});const cl={style:{position:"relative",display:"inline"},ref:"clickBox"},dl=["hidden"],fl={for:"",style:{"font-size":"12pt"}},pl={for:"",style:{"font-size":"12pt"}},ml={for:"",style:{"font-size":"12pt"}},hl=Object.assign({name:"PhotoAdjuster",data:function(){return{displayModal:!1,photoFormat:this.photoProps,photoFormatDefault:Object.assign({},this.photoProps)}},methods:{promptDialog(){this.displayModal=!this.displayModal},reset(){this.photoFormat.top=this.photoFormatDefault.top,this.photoFormat.left=this.photoFormatDefault.left,this.photoFormat.scale=this.photoFormatDefault.scale}}},{__name:"PhotoAdjuster",props:{photoProps:{type:Object,required:!0},selected_employee_data:{type:Object}},setup(e){return(t,n)=>(dt(),_t("div",cl,[oe(ze,{unelevated:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.promptDialog()),disable:!e.selected_employee_data.employees_id},null,8,["disable"]),Y("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 19px 60px -27px","border-radius":"5px",right:"-210px"}},[oe(ze,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:_e(()=>[nt("Reset")]),_:1}),Y("label",fl,"Vertical: "+Re(t.photoFormat.top)+"px",1),oe(Dt,{modelValue:t.photoFormat.top,"onUpdate:modelValue":n[2]||(n[2]=o=>t.photoFormat.top=o),min:-70,max:56,step:1},null,8,["modelValue"]),Y("label",pl,"Horizontal: "+Re(t.photoFormat.left)+"px",1),oe(Dt,{modelValue:t.photoFormat.left,"onUpdate:modelValue":n[3]||(n[3]=o=>t.photoFormat.left=o),min:-290,max:232,step:1},null,8,["modelValue"]),Y("label",ml,"Scale: "+Re(t.photoFormat.scale)+"px",1),oe(Dt,{modelValue:t.photoFormat.scale,"onUpdate:modelValue":n[4]||(n[4]=o=>t.photoFormat.scale=o),min:0,max:3,step:.1},null,8,["modelValue"]),oe(ze,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:_e(()=>[nt("Close")]),_:1})],8,dl)],512))}}),gl={style:{position:"relative"},ref:"clickBox"},vl=["hidden"],yl={for:"",style:{"font-size":"12pt"}},Sl={for:"",style:{"font-size":"12pt"}},xn=Object.assign({name:"TextFormatter",data:function(){return{displayModal:!1,text:this.textProps,textDefault:Object.assign({},this.textProps)}},methods:{adjustLastName(){this.displayModal=!this.displayModal,console.log(this.textProps)},reset(){this.text.font_size=this.textDefault.font_size,this.text.bottom=this.textDefault.bottom,this.text.left=this.textDefault.left}},mounted(){}},{__name:"TextFormatter",props:{textProps:{type:Object},texFor:{type:String}},setup(e){return(t,n)=>(dt(),_t("div",gl,[oe(ze,{round:"",dense:"",flat:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.adjustLastName())}),Y("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 10px 20px 10px","border-radius":"5px",right:"0px"}},[oe(ze,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:_e(()=>[nt("Reset")]),_:1}),Y("label",yl,"Font-size: "+Re(t.text.font_size)+"px",1),oe(Dt,{modelValue:t.text.font_size,"onUpdate:modelValue":n[2]||(n[2]=o=>t.text.font_size=o),min:8,max:60,step:1},null,8,["modelValue"]),Y("label",Sl,"Vertical Position: "+Re(t.text.bottom)+"px",1),oe(Dt,{modelValue:t.text.bottom,"onUpdate:modelValue":n[3]||(n[3]=o=>t.text.bottom=o),min:0,max:238,step:1},null,8,["modelValue"]),oe(ze,{size:"xs",onClick:n[4]||(n[4]=o=>t.displayModal=!t.displayModal)},{default:_e(()=>[nt("Close")]),_:1})],8,vl)],512))}});function bl(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),o=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(r),t&&(o.href=t),r.href=e,r.href}const wl=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ot(e){const t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n]);return t}function nn(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function xl(e){const t=nn(e,"border-left-width"),n=nn(e,"border-right-width");return e.clientWidth+t+n}function Cl(e){const t=nn(e,"border-top-width"),n=nn(e,"border-bottom-width");return e.clientHeight+t+n}function gr(e,t={}){const n=t.width||xl(e),o=t.height||Cl(e);return{width:n,height:o}}function Tl(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Qe=16384;function _l(e){(e.width>Qe||e.height>Qe)&&(e.width>Qe&&e.height>Qe?e.width>e.height?(e.height*=Qe/e.width,e.width=Qe):(e.width*=Qe/e.height,e.height=Qe):e.width>Qe?(e.height*=Qe/e.width,e.width=Qe):(e.width*=Qe/e.height,e.height=Qe))}function on(e){return new Promise((t,n)=>{const o=new Image;o.decode=()=>t(o),o.onload=()=>t(o),o.onerror=n,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function kl(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Rl(e,t,n){const o="http://www.w3.org/2000/svg",r=document.createElementNS(o,"svg"),l=document.createElementNS(o,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),r.appendChild(l),l.appendChild(e),kl(r)}const je=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||je(n,t)};function Il(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function El(e){return ot(e).map(t=>{const n=e.getPropertyValue(t),o=e.getPropertyPriority(t);return`${t}: ${n}${o?" !important":""};`}).join(" ")}function Pl(e,t,n){const o=`.${e}:${t}`,r=n.cssText?Il(n):El(n);return document.createTextNode(`${o}{${r}}`)}function Eo(e,t,n){const o=window.getComputedStyle(e,n),r=o.getPropertyValue("content");if(r===""||r==="none")return;const l=wl();try{t.className=`${t.className} ${l}`}catch{return}const p=document.createElement("style");p.appendChild(Pl(l,n,o)),t.appendChild(p)}function Dl(e,t){Eo(e,t,":before"),Eo(e,t,":after")}const Po="application/font-woff",Do="image/jpeg",Ml={woff:Po,woff2:Po,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Do,jpeg:Do,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Ul(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Vn(e){const t=Ul(e).toLowerCase();return Ml[t]||""}function Al(e){return e.split(/,/)[1]}function Pn(e){return e.search(/^(data:)/)!==-1}function vr(e,t){return`data:${t};base64,${e}`}async function yr(e,t,n){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const r=await o.blob();return new Promise((l,p)=>{const h=new FileReader;h.onerror=p,h.onloadend=()=>{try{l(n({res:o,result:h.result}))}catch(w){p(w)}},h.readAsDataURL(r)})}const Cn={};function Ol(e,t,n){let o=e.replace(/\?.*/,"");return n&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function Hn(e,t,n){const o=Ol(e,t,n.includeQueryParams);if(Cn[o]!=null)return Cn[o];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const l=await yr(e,n.fetchRequestInit,({res:p,result:h})=>(t||(t=p.headers.get("Content-Type")||""),Al(h)));r=vr(l,t)}catch(l){r=n.imagePlaceholder||"";let p=`Failed to fetch resource: ${e}`;l&&(p=typeof l=="string"?l:l.message),p&&console.warn(p)}return Cn[o]=r,r}async function Bl(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):on(t)}async function ql(e,t){if(e.currentSrc){const l=document.createElement("canvas"),p=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,p==null||p.drawImage(e,0,0,l.width,l.height);const h=l.toDataURL();return on(h)}const n=e.poster,o=Vn(n),r=await Hn(n,o,t);return on(r)}async function Fl(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await ln(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function Vl(e,t){return je(e,HTMLCanvasElement)?Bl(e):je(e,HTMLVideoElement)?ql(e,t):je(e,HTMLIFrameElement)?Fl(e):e.cloneNode(!1)}const Hl=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function $l(e,t,n){var o,r;let l=[];return Hl(e)&&e.assignedNodes?l=ot(e.assignedNodes()):je(e,HTMLIFrameElement)&&((o=e.contentDocument)===null||o===void 0?void 0:o.body)?l=ot(e.contentDocument.body.childNodes):l=ot(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),l.length===0||je(e,HTMLVideoElement)||await l.reduce((p,h)=>p.then(()=>ln(h,n)).then(w=>{w&&t.appendChild(w)}),Promise.resolve()),t}function Ll(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):ot(o).forEach(r=>{let l=o.getPropertyValue(r);r==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),je(e,HTMLIFrameElement)&&r==="display"&&l==="inline"&&(l="block"),r==="d"&&t.getAttribute("d")&&(l=`path(${t.getAttribute("d")})`),n.setProperty(r,l,o.getPropertyPriority(r))})}function Nl(e,t){je(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),je(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function zl(e,t){if(je(e,HTMLSelectElement)){const n=t,o=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));o&&o.setAttribute("selected","")}}function jl(e,t){return je(t,Element)&&(Ll(e,t),Dl(e,t),Nl(e,t),zl(e,t)),t}async function Wl(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const o={};for(let l=0;l<n.length;l++){const h=n[l].getAttribute("xlink:href");if(h){const w=e.querySelector(h),x=document.querySelector(h);!w&&x&&!o[h]&&(o[h]=await ln(x,t,!0))}}const r=Object.values(o);if(r.length){const l="http://www.w3.org/1999/xhtml",p=document.createElementNS(l,"svg");p.setAttribute("xmlns",l),p.style.position="absolute",p.style.width="0",p.style.height="0",p.style.overflow="hidden",p.style.display="none";const h=document.createElementNS(l,"defs");p.appendChild(h);for(let w=0;w<r.length;w++)h.appendChild(r[w]);e.appendChild(p)}return e}async function ln(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>Vl(o,t)).then(o=>$l(e,o,t)).then(o=>jl(e,o)).then(o=>Wl(o,t))}const Sr=/url\((['"]?)([^'"]+?)\1\)/g,Kl=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Gl=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ql(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Jl(e){const t=[];return e.replace(Sr,(n,o,r)=>(t.push(r),n)),t.filter(n=>!Pn(n))}async function Xl(e,t,n,o,r){try{const l=n?bl(t,n):t,p=Vn(t);let h;if(r){const w=await r(l);h=vr(w,p)}else h=await Hn(l,p,o);return e.replace(Ql(t),`$1${h}$3`)}catch{}return e}function Yl(e,{preferredFontFormat:t}){return t?e.replace(Gl,n=>{for(;;){const[o,,r]=Kl.exec(n)||[];if(!r)return"";if(r===t)return`src: ${o};`}}):e}function br(e){return e.search(Sr)!==-1}async function wr(e,t,n){if(!br(e))return e;const o=Yl(e,n);return Jl(o).reduce((l,p)=>l.then(h=>Xl(h,p,t,n)),Promise.resolve(o))}async function jt(e,t,n){var o;const r=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(r){const l=await wr(r,null,n);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function Zl(e,t){await jt("background",e,t)||await jt("background-image",e,t),await jt("mask",e,t)||await jt("mask-image",e,t)}async function es(e,t){const n=je(e,HTMLImageElement);if(!(n&&!Pn(e.src))&&!(je(e,SVGImageElement)&&!Pn(e.href.baseVal)))return;const o=n?e.src:e.href.baseVal,r=await Hn(o,Vn(o),t);await new Promise((l,p)=>{e.onload=l,e.onerror=p;const h=e;h.decode&&(h.decode=l),h.loading==="lazy"&&(h.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function ts(e,t){const o=ot(e.childNodes).map(r=>xr(r,t));await Promise.all(o).then(()=>e)}async function xr(e,t){je(e,Element)&&(await Zl(e,t),await es(e,t),await ts(e,t))}function ns(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(r=>{n[r]=o[r]}),e}const Mo={};async function Uo(e){let t=Mo[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},Mo[e]=t,t}async function Ao(e,t){let n=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,l=(n.match(/url\([^)]+\)/g)||[]).map(async p=>{let h=p.replace(o,"$1");return h.startsWith("https://")||(h=new URL(h,e.url).href),yr(h,t.fetchRequestInit,({result:w})=>(n=n.replace(p,`url(${w})`),[p,w]))});return Promise.all(l).then(()=>n)}function Oo(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const w=r.exec(o);if(w===null)break;t.push(w[0])}o=o.replace(r,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,p="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(p,"gi");for(;;){let w=l.exec(o);if(w===null){if(w=h.exec(o),w===null)break;l.lastIndex=h.lastIndex}else h.lastIndex=l.lastIndex;t.push(w[0])}return t}async function os(e,t){const n=[],o=[];return e.forEach(r=>{if("cssRules"in r)try{ot(r.cssRules||[]).forEach((l,p)=>{if(l.type===CSSRule.IMPORT_RULE){let h=p+1;const w=l.href,x=Uo(w).then(_=>Ao(_,t)).then(_=>Oo(_).forEach(I=>{try{r.insertRule(I,I.startsWith("@import")?h+=1:r.cssRules.length)}catch(a){console.error("Error inserting rule from remote css",{rule:I,error:a})}})).catch(_=>{console.error("Error loading remote css",_.toString())});o.push(x)}})}catch(l){const p=e.find(h=>h.href==null)||document.styleSheets[0];r.href!=null&&o.push(Uo(r.href).then(h=>Ao(h,t)).then(h=>Oo(h).forEach(w=>{p.insertRule(w,r.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",l)}}),Promise.all(o).then(()=>(e.forEach(r=>{if("cssRules"in r)try{ot(r.cssRules||[]).forEach(l=>{n.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${r.href}`,l)}}),n))}function rs(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>br(t.style.getPropertyValue("src")))}async function is(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ot(e.ownerDocument.styleSheets),o=await os(n,t);return rs(o)}async function as(e,t){const n=await is(e,t);return(await Promise.all(n.map(r=>{const l=r.parentStyleSheet?r.parentStyleSheet.href:null;return wr(r.cssText,l,t)}))).join(`
`)}async function ls(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await as(e,t);if(n){const o=document.createElement("style"),r=document.createTextNode(n);o.appendChild(r),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function ss(e,t={}){const{width:n,height:o}=gr(e,t),r=await ln(e,t,!0);return await ls(r,t),await xr(r,t),ns(r,t),await Rl(r,n,o)}async function us(e,t={}){const{width:n,height:o}=gr(e,t),r=await ss(e,t),l=await on(r),p=document.createElement("canvas"),h=p.getContext("2d"),w=t.pixelRatio||Tl(),x=t.canvasWidth||n,_=t.canvasHeight||o;return p.width=x*w,p.height=_*w,t.skipAutoScale||_l(p),p.style.width=`${x}`,p.style.height=`${_}`,t.backgroundColor&&(h.fillStyle=t.backgroundColor,h.fillRect(0,0,p.width,p.height)),h.drawImage(l,0,0,p.width,p.height),p}async function Bo(e,t={}){return(await us(e,t)).toDataURL("image/jpeg",t.quality||1)}const cs={class:"row",style:{position:"inherit"}},ds={class:"col",style:{}},fs={class:"row"},ps={class:"col"},ms={style:{"margin-left":"30px"}},hs={class:"col-7"},gs={class:"row"},vs={class:"row"},ys={class:"col"},Ss={class:"col q-ml-sm"},bs={class:"row"},ws={class:"row"},xs={class:"row"},Cs=Y("div",{class:"q-mt-sm"},null,-1),Ts={id:"cardFrontAndBack",class:"col flex flex-center q-mt-lg",style:{position:"relative"}},Rs=Object.assign({name:"IndexPage",components:{IdCardFront:bo,IdCardBack:wo,TextFormatter:xn},data:function(){return{photoFormat:{top:-14,left:-58,scale:1.5},textFormat:{lastName:{font_size:43,bottom:119,left:40},firstName:{font_size:28,bottom:97,left:40}},selected_employee_input:null,selected_employee_data:{empno:null,lastName:null,firstName:null,middleName:null,extName:null,position:null,position_function:null,address:null},employees:[],selections:this.employees,imgSrc:""}},methods:{saveImageCaptured(e){this.imgSrc=e,this.$api.post("http://192.168.50.51:8081/test.php",{saveImageCaptured:!0,dataUrl:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{console.log("saveImage(dataUrl): ",t)}).catch(t=>{console.error(t)})},savePendata(e){this.$api.post("http://192.168.50.51:8081/test.php",{savePendata:!0,m_penData:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{}).catch(t=>{console.error(t)})},adjustLastName(){console.log("adjust lastname")},downloadImage(){var e=document.getElementById("IdCardFront"),t=document.getElementById("IdCardBack");Bo(e,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_FRONT.jpeg",o.href=n,o.click()}),Bo(t,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_BACK.jpeg",o.href=n,o.click()})},onClearForm(){window.location.reload()},onSubmit(){this.$api.post("http://192.168.50.51:8081/test.php",{saveEmployeeData:!0,selected_employee_data:this.selected_employee_data,textFormat:this.textFormat,photoFormat:this.photoFormat}).then(({data:e})=>{console.log("SAVED DATA: ",e)}).catch(e=>{console.error(e)})},onReset(){},getEmployeeData(){!this.selected_employee_input||this.$api.post("http://192.168.50.51:8081/test.php",{getEmployeeData:!0,employeeId:this.selected_employee_input.value}).then(({data:e})=>{console.log("EMPLOYEE DATA: ",e),this.selected_employee_data=e,e.text_formatting&&(this.textFormat.lastName.font_size=e.text_formatting.lastName.font_size,this.textFormat.lastName.bottom=e.text_formatting.lastName.bottom,this.textFormat.firstName.font_size=e.text_formatting.firstName.font_size,this.textFormat.firstName.bottom=e.text_formatting.firstName.bottom),e.photo_formatting&&(this.photoFormat.top=e.photo_formatting.top,this.photoFormat.left=e.photo_formatting.left,this.photoFormat.scale=e.photo_formatting.scale)}).catch(e=>{console.error(e)})},filterFn(e,t){if(e===""){t(()=>{this.selections=this.employees});return}t(()=>{const n=e.toLowerCase();this.selections=this.employees.filter(o=>o.label.toLowerCase().indexOf(n)>-1)})}},created(){this.$api.post("http://192.168.50.51:8081/test.php",{getEmployeeList:"true"}).then(({data:e})=>{this.employees=e}).catch(e=>{console.error(e)})},mounted(){}},{__name:"IndexPage",setup(e){return(t,n)=>(dt(),hi(ha,{class:"q-pa-md",style:{position:"relative"}},{default:_e(()=>[Y("div",cs,[Y("div",ds,[oe(In,{clearable:"",class:"q-mb-md",filled:"",modelValue:t.selected_employee_input,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.selected_employee_input=o),n[2]||(n[2]=o=>t.getEmployeeData())],"use-input":"","input-debounce":"0",label:"Select Employee",options:t.selections,onFilter:t.filterFn,onClear:n[1]||(n[1]=o=>t.onClearForm()),behavior:"menu"},{"no-option":_e(()=>[oe(Fo,null,{default:_e(()=>[oe(qo,{class:"text-grey"},{default:_e(()=>[nt(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter"]),Y("div",fs,[Y("div",ps,[Y("div",ms,[oe(Za,{onImageCaptured:t.saveImageCaptured,selected_employee_data:t.selected_employee_data},{buttons:_e(()=>[oe(hl,{photoProps:t.photoFormat,selected_employee_data:t.selected_employee_data},null,8,["photoProps","selected_employee_data"])]),_:1},8,["onImageCaptured","selected_employee_data"])])]),Y("div",hs,[oe(ma,{onSubmit:Go(t.onSubmit,["prevent"]),onReset:t.onReset,class:"q-gutter-sm_"},{default:_e(()=>[oe(Le,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.empno,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_employee_data.empno=o),label:"ID Number *",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"Please enter the ID number"]},null,8,["disable","modelValue","rules"]),Y("div",gs,[oe(Le,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.lastName,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_employee_data.lastName=o),label:"Last Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Last Name should not be empty!"]},{append:_e(()=>[oe(xn,{textProps:t.textFormat.lastName,textFor:"lastName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),oe(Le,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.firstName,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_employee_data.firstName=o),label:"First Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* First Name should not be empty!"]},{append:_e(()=>[oe(xn,{textProps:t.textFormat.firstName,textFor:"firstName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"])]),Y("div",vs,[Y("div",ys,[oe(Le,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.middleName,"onUpdate:modelValue":n[6]||(n[6]=o=>t.selected_employee_data.middleName=o),label:"Middle Name",hint:""},null,8,["disable","modelValue"])]),Y("div",Ss,[oe(Le,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.extName,"onUpdate:modelValue":n[7]||(n[7]=o=>t.selected_employee_data.extName=o),label:"Name Extension"},null,8,["disable","modelValue"])])]),oe(Le,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_barangay,"onUpdate:modelValue":n[8]||(n[8]=o=>t.selected_employee_data.address_res_barangay=o),label:"Barangay",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),Y("div",bs,[oe(Le,{class:"col q-mr-sm",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_city,"onUpdate:modelValue":n[9]||(n[9]=o=>t.selected_employee_data.address_res_city=o),label:"City/Municipality",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),oe(Le,{class:"col",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_zip_code,"onUpdate:modelValue":n[10]||(n[10]=o=>t.selected_employee_data.address_res_zip_code=o),label:"Zipcode",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"])]),oe(Le,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_province,"onUpdate:modelValue":n[11]||(n[11]=o=>t.selected_employee_data.address_res_province=o),label:"Province",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),Y("div",ws,[oe(In,{disable:!t.selected_employee_input,class:"col",dense:"",outlined:"",modelValue:t.selected_employee_data.gender,"onUpdate:modelValue":n[12]||(n[12]=o=>t.selected_employee_data.gender=o),options:["MALE","FEMALE"],label:"Gender"},null,8,["disable","modelValue"]),oe(Le,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.birthdate,"onUpdate:modelValue":n[13]||(n[13]=o=>t.selected_employee_data.birthdate=o),label:"Birthdate",type:"date"},null,8,["disable","modelValue"])]),Y("div",xs,[oe(Le,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.blood_type,"onUpdate:modelValue":n[14]||(n[14]=o=>t.selected_employee_data.blood_type=o),label:"Blood Type",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),oe(Le,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.contact_number,"onUpdate:modelValue":n[15]||(n[15]=o=>t.selected_employee_data.contact_number=o),label:"Contact Number",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"])]),oe(Le,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_name,"onUpdate:modelValue":n[16]||(n[16]=o=>t.selected_employee_data.emergency_name=o),label:"Emergency Contact Person",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),oe(Le,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_number,"onUpdate:modelValue":n[17]||(n[17]=o=>t.selected_employee_data.emergency_number=o),label:"Emergency Contact Number",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),Cs,oe(ze,{disable:!t.selected_employee_input,class:"q-mr-sm",type:"submit"},{default:_e(()=>[nt("Save")]),_:1},8,["disable"]),oe(ze,{disable:!t.selected_employee_input,label:"Download",onClick:n[18]||(n[18]=o=>t.downloadImage())},null,8,["disable"])]),_:1},8,["onSubmit","onReset"])])])]),Y("div",Ts,[oe(bo,{details:t.selected_employee_data,imgSrc:t.imgSrc,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","imgSrc","textFormat","photoFormat"]),oe(wo,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])])]),_:1}))}});export{Rs as default};
