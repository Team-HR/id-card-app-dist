import{u as fn,f as pn,Q as jn,d as qn}from"./QItem.d24e4b18.js";import{u as Kn,a as Wn,b as Jn,c as Gn,d as Qn,e as Xn,f as hn,g as Vt,h as Yn,Q as lt,i as Zn,j as eo,k as Pt}from"./QSelect.3d6bb424.js";import{r as ze,w as Ee,d as Ve,M as to,j as me,c as Ge,a as no,o as gn,h as Be,N as oo,g as gt,O as zt,p as ro,P as io,R as ao,q as tt,S as so,L as jt,T as lo,x as ke,U as Ne,F as M,D as K,V as Fe,A as F,C as Ie,z as te,W as mn,X as yn,Y as mt,Z as uo,_ as co,$ as fo,K as po,a0 as Sn,a1 as ye,a2 as ho,a3 as qt,B as go,y as mo}from"./index.736f15ad.js";import{Q as yo}from"./QPage.9f6909a2.js";const Kt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},dt={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},vn=Object.keys(dt);vn.forEach(e=>{dt[e].regex=new RegExp(dt[e].pattern)});const So=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+vn.join("")+"])|(.)","g"),Wt=/[.*+?^${}()|[\]\\]/g,ce=String.fromCharCode(1),vo={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function wo(e,t,n,o){let i,s,p,h,v,I;const B=ze(null),O=ze(r());function a(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Ee(()=>e.type+e.autogrow,l),Ee(()=>e.mask,k=>{if(k!==void 0)f(O.value,!0);else{const m=V(O.value);l(),e.modelValue!==m&&t("update:modelValue",m)}}),Ee(()=>e.fillMask+e.reverseFillMask,()=>{B.value===!0&&f(O.value,!0)}),Ee(()=>e.unmaskedValue,()=>{B.value===!0&&f(O.value)});function r(){if(l(),B.value===!0){const k=U(V(e.modelValue));return e.fillMask!==!1?W(k):k}return e.modelValue}function c(k){if(k<i.length)return i.slice(-k);let m="",R=i;const N=R.indexOf(ce);if(N!==-1){for(let z=k-R.length;z>0;z--)m+=ce;R=R.slice(0,N)+m+R.slice(N)}return R}function l(){if(B.value=e.mask!==void 0&&e.mask.length!==0&&a(),B.value===!1){h=void 0,i="",s="";return}const k=Kt[e.mask]===void 0?e.mask:Kt[e.mask],m=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",R=m.replace(Wt,"\\$&"),N=[],z=[],P=[];let J=e.reverseFillMask===!0,Y="",G="";k.replace(So,(re,A,ee,he,se)=>{if(he!==void 0){const ie=dt[he];P.push(ie),G=ie.negate,J===!0&&(z.push("(?:"+G+"+)?("+ie.pattern+"+)?(?:"+G+"+)?("+ie.pattern+"+)?"),J=!1),z.push("(?:"+G+"+)?("+ie.pattern+")?")}else if(ee!==void 0)Y="\\"+(ee==="\\"?"":ee),P.push(ee),N.push("([^"+Y+"]+)?"+Y+"?");else{const ie=A!==void 0?A:se;Y=ie==="\\"?"\\\\\\\\":ie.replace(Wt,"\\\\$&"),P.push(ie),N.push("([^"+Y+"]+)?"+Y+"?")}});const Se=new RegExp("^"+N.join("")+"("+(Y===""?".":"[^"+Y+"]")+"+)?"+(Y===""?"":"["+Y+"]*")+"$"),fe=z.length-1,ne=z.map((re,A)=>A===0&&e.reverseFillMask===!0?new RegExp("^"+R+"*"+re):A===fe?new RegExp("^"+re+"("+(G===""?".":G)+"+)?"+(e.reverseFillMask===!0?"$":R+"*")):new RegExp("^"+re));p=P,h=re=>{const A=Se.exec(e.reverseFillMask===!0?re:re.slice(0,P.length+1));A!==null&&(re=A.slice(1).join(""));const ee=[],he=ne.length;for(let se=0,ie=re;se<he;se++){const ve=ne[se].exec(ie);if(ve===null)break;ie=ie.slice(ve.shift().length),ee.push(...ve)}return ee.length!==0?ee.join(""):re},i=P.map(re=>typeof re=="string"?re:ce).join(""),s=i.split(ce).join(m)}function f(k,m,R){const N=o.value,z=N.selectionEnd,P=N.value.length-z,J=V(k);m===!0&&l();const Y=U(J),G=e.fillMask!==!1?W(Y):Y,Se=O.value!==G;N.value!==G&&(N.value=G),Se===!0&&(O.value=G),document.activeElement===N&&Ve(()=>{if(G===s){const ne=e.reverseFillMask===!0?s.length:0;N.setSelectionRange(ne,ne,"forward");return}if(R==="insertFromPaste"&&e.reverseFillMask!==!0){const ne=N.selectionEnd;let re=z-1;for(let A=v;A<=re&&A<ne;A++)i[A]!==ce&&re++;g.right(N,re);return}if(["deleteContentBackward","deleteContentForward"].indexOf(R)!==-1){const ne=e.reverseFillMask===!0?z===0?G.length>Y.length?1:0:Math.max(0,G.length-(G===s?0:Math.min(Y.length,P)+1))+1:z;N.setSelectionRange(ne,ne,"forward");return}if(e.reverseFillMask===!0)if(Se===!0){const ne=Math.max(0,G.length-(G===s?0:Math.min(Y.length,P+1)));ne===1&&z===1?N.setSelectionRange(ne,ne,"forward"):g.rightReverse(N,ne)}else{const ne=G.length-P;N.setSelectionRange(ne,ne,"backward")}else if(Se===!0){const ne=Math.max(0,i.indexOf(ce),Math.min(Y.length,z)-1);g.right(N,ne)}else{const ne=z-1;g.right(N,ne)}});const fe=e.unmaskedValue===!0?V(G):G;String(e.modelValue)!==fe&&(e.modelValue!==null||fe!=="")&&n(fe,!0)}function S(k,m,R){const N=U(V(k.value));m=Math.max(0,i.indexOf(ce),Math.min(N.length,m)),v=m,k.setSelectionRange(m,R,"forward")}const g={left(k,m){const R=i.slice(m-1).indexOf(ce)===-1;let N=Math.max(0,m-1);for(;N>=0;N--)if(i[N]===ce){m=N,R===!0&&m++;break}if(N<0&&i[m]!==void 0&&i[m]!==ce)return g.right(k,0);m>=0&&k.setSelectionRange(m,m,"backward")},right(k,m){const R=k.value.length;let N=Math.min(R,m+1);for(;N<=R;N++)if(i[N]===ce){m=N;break}else i[N-1]===ce&&(m=N);if(N>R&&i[m-1]!==void 0&&i[m-1]!==ce)return g.left(k,R);k.setSelectionRange(m,m,"forward")},leftReverse(k,m){const R=c(k.value.length);let N=Math.max(0,m-1);for(;N>=0;N--)if(R[N-1]===ce){m=N;break}else if(R[N]===ce&&(m=N,N===0))break;if(N<0&&R[m]!==void 0&&R[m]!==ce)return g.rightReverse(k,0);m>=0&&k.setSelectionRange(m,m,"backward")},rightReverse(k,m){const R=k.value.length,N=c(R),z=N.slice(0,m+1).indexOf(ce)===-1;let P=Math.min(R,m+1);for(;P<=R;P++)if(N[P-1]===ce){m=P,m>0&&z===!0&&m--;break}if(P>R&&N[m-1]!==void 0&&N[m-1]!==ce)return g.leftReverse(k,R);k.setSelectionRange(m,m,"forward")}};function C(k){t("click",k),I=void 0}function x(k){if(t("keydown",k),to(k)===!0||k.altKey===!0)return;const m=o.value,R=m.selectionStart,N=m.selectionEnd;if(k.shiftKey||(I=void 0),k.keyCode===37||k.keyCode===39){k.shiftKey&&I===void 0&&(I=m.selectionDirection==="forward"?R:N);const z=g[(k.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(k.preventDefault(),z(m,I===R?N:R),k.shiftKey){const P=m.selectionStart;m.setSelectionRange(Math.min(I,P),Math.max(I,P),"forward")}}else k.keyCode===8&&e.reverseFillMask!==!0&&R===N?(g.left(m,R),m.setSelectionRange(m.selectionStart,N,"backward")):k.keyCode===46&&e.reverseFillMask===!0&&R===N&&(g.rightReverse(m,N),m.setSelectionRange(R,m.selectionEnd,"forward"))}function U(k){if(k==null||k==="")return"";if(e.reverseFillMask===!0)return H(k);const m=p;let R=0,N="";for(let z=0;z<m.length;z++){const P=k[R],J=m[z];if(typeof J=="string")N+=J,P===J&&R++;else if(P!==void 0&&J.regex.test(P))N+=J.transform!==void 0?J.transform(P):P,R++;else return N}return N}function H(k){const m=p,R=i.indexOf(ce);let N=k.length-1,z="";for(let P=m.length-1;P>=0&&N!==-1;P--){const J=m[P];let Y=k[N];if(typeof J=="string")z=J+z,Y===J&&N--;else if(Y!==void 0&&J.regex.test(Y))do z=(J.transform!==void 0?J.transform(Y):Y)+z,N--,Y=k[N];while(R===P&&Y!==void 0&&J.regex.test(Y));else return z}return z}function V(k){return typeof k!="string"||h===void 0?typeof k=="number"?h(""+k):k:h(k)}function W(k){return s.length-k.length<=0?k:e.reverseFillMask===!0&&k.length!==0?s.slice(0,-k.length)+k:k+s.slice(k.length)}return{innerValue:O,hasMask:B,moveCursorForPaste:S,updateMaskValue:f,onMaskedKeydown:x,onMaskedClick:C}}function bo(e,t){function n(){const o=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(s=>{i.items.add(s)}),{files:i.files}}catch{return{files:void 0}}}return t===!0?me(()=>{if(e.type==="file")return n()}):me(n)}var de=Ge({name:"QInput",inheritAttrs:!1,props:{...Kn,...vo,...Wn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Jn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=gt(),{$q:i}=o,s={};let p=NaN,h,v,I=null,B;const O=ze(null),a=Gn(e),{innerValue:r,hasMask:c,moveCursorForPaste:l,updateMaskValue:f,onMaskedKeydown:S,onMaskedClick:g}=wo(e,t,Y,O),C=bo(e,!0),x=me(()=>Vt(r.value)),U=Yn(P),H=Qn(),V=me(()=>e.type==="textarea"||e.autogrow===!0),W=me(()=>V.value===!0||["text","search","url","tel","password"].includes(e.type)),k=me(()=>{const A={...H.splitAttrs.listeners.value,onInput:P,onPaste:z,onChange:Se,onBlur:fe,onFocus:zt};return A.onCompositionstart=A.onCompositionupdate=A.onCompositionend=U,c.value===!0&&(A.onKeydown=S,A.onClick=g),e.autogrow===!0&&(A.onAnimationend=J),A}),m=me(()=>{const A={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:a.value,...H.splitAttrs.attributes.value,id:H.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return V.value===!1&&(A.type=e.type),e.autogrow===!0&&(A.rows=1),A});Ee(()=>e.type,()=>{O.value&&(O.value.value=e.modelValue)}),Ee(()=>e.modelValue,A=>{if(c.value===!0){if(v===!0&&(v=!1,String(A)===p))return;f(A)}else r.value!==A&&(r.value=A,e.type==="number"&&s.hasOwnProperty("value")===!0&&(h===!0?h=!1:delete s.value));e.autogrow===!0&&Ve(G)}),Ee(()=>e.autogrow,A=>{A===!0?Ve(G):O.value!==null&&n.rows>0&&(O.value.style.height="auto")}),Ee(()=>e.dense,()=>{e.autogrow===!0&&Ve(G)});function R(){hn(()=>{const A=document.activeElement;O.value!==null&&O.value!==A&&(A===null||A.id!==H.targetUid.value)&&O.value.focus({preventScroll:!0})})}function N(){O.value!==null&&O.value.select()}function z(A){if(c.value===!0&&e.reverseFillMask!==!0){const ee=A.target;l(ee,ee.selectionStart,ee.selectionEnd)}t("paste",A)}function P(A){if(!A||!A.target)return;if(e.type==="file"){t("update:modelValue",A.target.files);return}const ee=A.target.value;if(A.target.qComposing===!0){s.value=ee;return}if(c.value===!0)f(ee,!1,A.inputType);else if(Y(ee),W.value===!0&&A.target===document.activeElement){const{selectionStart:he,selectionEnd:se}=A.target;he!==void 0&&se!==void 0&&Ve(()=>{A.target===document.activeElement&&ee.indexOf(A.target.value)===0&&A.target.setSelectionRange(he,se)})}e.autogrow===!0&&G()}function J(A){t("animationend",A),G()}function Y(A,ee){B=()=>{I=null,e.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,e.modelValue!==A&&p!==A&&(p=A,ee===!0&&(v=!0),t("update:modelValue",A),Ve(()=>{p===A&&(p=NaN)})),B=void 0},e.type==="number"&&(h=!0,s.value=A),e.debounce!==void 0?(I!==null&&clearTimeout(I),s.value=A,I=setTimeout(B,e.debounce)):B()}function G(){requestAnimationFrame(()=>{const A=O.value;if(A!==null){const ee=A.parentNode.style,{scrollTop:he}=A,{overflowY:se,maxHeight:ie}=i.platform.is.firefox===!0?{}:window.getComputedStyle(A),ve=se!==void 0&&se!=="scroll";ve===!0&&(A.style.overflowY="hidden"),ee.marginBottom=A.scrollHeight-1+"px",A.style.height="1px",A.style.height=A.scrollHeight+"px",ve===!0&&(A.style.overflowY=parseInt(ie,10)<A.scrollHeight?"auto":"hidden"),ee.marginBottom="",A.scrollTop=he}})}function Se(A){U(A),I!==null&&(clearTimeout(I),I=null),B!==void 0&&B(),t("change",A.target.value)}function fe(A){A!==void 0&&zt(A),I!==null&&(clearTimeout(I),I=null),B!==void 0&&B(),h=!1,v=!1,delete s.value,e.type!=="file"&&setTimeout(()=>{O.value!==null&&(O.value.value=r.value!==void 0?r.value:"")})}function ne(){return s.hasOwnProperty("value")===!0?s.value:r.value!==void 0?r.value:""}no(()=>{fe()}),gn(()=>{e.autogrow===!0&&G()}),Object.assign(H,{innerValue:r,fieldClass:me(()=>`q-${V.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:me(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:O,emitValue:Y,hasValue:x,floatingLabel:me(()=>x.value===!0&&(e.type!=="number"||isNaN(r.value)===!1)||Vt(e.displayValue)),getControl:()=>Be(V.value===!0?"textarea":"input",{ref:O,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...m.value,...k.value,...e.type!=="file"?{value:ne()}:C.value}),getShadowControl:()=>Be("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(V.value===!0?"":" text-no-wrap")},[Be("span",{class:"invisible"},ne()),Be("span",e.shadowText)])});const re=Xn(H);return Object.assign(o,{focus:R,select:N,getNativeElement:()=>O.value}),oo(o,"nativeEl",()=>O.value),re}}),To=Ge({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const o=gt(),i=ze(null);let s=0;const p=[];function h(r){const c=typeof r=="boolean"?r:e.noErrorFocus!==!0,l=++s,f=(C,x)=>{n("validation"+(C===!0?"Success":"Error"),x)},S=C=>{const x=C.validate();return typeof x.then=="function"?x.then(U=>({valid:U,comp:C}),U=>({valid:!1,comp:C,err:U})):Promise.resolve({valid:x,comp:C})};return(e.greedy===!0?Promise.all(p.map(S)).then(C=>C.filter(x=>x.valid!==!0)):p.reduce((C,x)=>C.then(()=>S(x).then(U=>{if(U.valid===!1)return Promise.reject(U)})),Promise.resolve()).catch(C=>[C])).then(C=>{if(C===void 0||C.length===0)return l===s&&f(!0),!0;if(l===s){const{comp:x,err:U}=C[0];if(U!==void 0&&console.error(U),f(!1,x),c===!0){const H=C.find(({comp:V})=>typeof V.focus=="function"&&so(V.$)===!1);H!==void 0&&H.comp.focus()}}return!1})}function v(){s++,p.forEach(r=>{typeof r.resetValidation=="function"&&r.resetValidation()})}function I(r){r!==void 0&&jt(r);const c=s+1;h().then(l=>{c===s&&l===!0&&(e.onSubmit!==void 0?n("submit",r):r!==void 0&&r.target!==void 0&&typeof r.target.submit=="function"&&r.target.submit())})}function B(r){r!==void 0&&jt(r),n("reset"),Ve(()=>{v(),e.autofocus===!0&&e.noResetFocus!==!0&&O()})}function O(){hn(()=>{if(i.value===null)return;const r=i.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(i.value.querySelectorAll("[tabindex]"),c=>c.tabIndex!==-1);r!=null&&r.focus({preventScroll:!0})})}ro(lo,{bindComponent(r){p.push(r)},unbindComponent(r){const c=p.indexOf(r);c!==-1&&p.splice(c,1)}});let a=!1;return io(()=>{a=!0}),ao(()=>{a===!0&&e.autofocus===!0&&O()}),gn(()=>{e.autofocus===!0&&O()}),Object.assign(o.proxy,{validate:h,resetValidation:v,submit:I,reset:B,focus:O,getValidationComponents:()=>p}),()=>Be("form",{class:"q-form",ref:i,onSubmit:I,onReset:B},tt(t.default))}});const Co=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],xo=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var Bt=Ge({name:"QSkeleton",props:{...fn,tag:{type:String,default:"div"},type:{type:String,validator:e=>Co.includes(e),default:"rect"},animation:{type:String,validator:e=>xo.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=gt(),o=pn(e,n.proxy.$q),i=me(()=>{const p=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:p[0],height:p[1]}}),s=me(()=>`q-skeleton q-skeleton--${o.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>Be(e.tag,{class:s.value,style:i.value},tt(t.default))}});const _o={id:"IdCardFront",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"absolute","background-image":"url(/images/REG_ID_Front_Temp.jpg)","background-position":"center center","background-repeat":"no-repeat","background-size":"contain",transform:"scale(0.5)",top:"-200px",left:"-142px"}},Io={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},Ro={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},Po=["hidden","src"],Eo={style:{"text-align":"left",position:"absolute",top:"556px",left:"237px","font-size":"22pt","font-weight":"500"}},ko=M("b",null,"ID NO.:",-1),Jt=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFront",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(ke(),Ne("div",_o,[M("div",Io,K(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),M("div",Ro,[M("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:Fe([{position:"relative"},`bottom:${e.photoFormat.top*2}px; right: ${e.photoFormat.left*2}px; width: ${e.photoFormat.width*2.06}px;`])},null,44,Po),F(Bt,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),M("div",Eo,[ko,Ie(" "+K(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),M("div",{style:Fe([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},K(e.details.lastName)+K(e.details.extName?", "+e.details.extName:""),5),M("div",{style:Fe([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; `])},K(e.details.firstName)+" "+K(e.details.middleName?e.details.middleName[0]+". ":""),5),M("div",{style:Fe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},K(e.details.position),5)]))}}),Do={id:"IdCardFrontV2",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"relative","background-image":"url('/images/REG_ID_Front_Temp.jpg')","background-position":"center","background-repeat":"no-repeat","background-size":"contain"}},Uo={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},Mo={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},Bo=["hidden","src"],Ao={style:{"text-align":"left",position:"absolute",top:"556px",left:"237px","font-size":"22pt","font-weight":"500"}},No=M("b",null,"ID NO.:",-1),Gt=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFrontV2",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(ke(),Ne("div",Do,[M("div",Uo,K(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),M("div",Mo,[M("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:Fe([{position:"relative"},`bottom:${e.photoFormat.top*2}px; right: ${e.photoFormat.left*2}px; width: ${e.photoFormat.width*2.06}px;`])},null,44,Bo),F(Bt,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),M("div",Ao,[No,Ie(" "+K(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),M("div",{style:Fe([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},K(e.details.lastName)+K(e.details.extName?", "+e.details.extName:""),5),M("div",{style:Fe([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; `])},K(e.details.firstName)+" "+K(e.details.middleName?e.details.middleName[0]+". ":""),5),M("div",{style:Fe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},K(e.details.position),5)]))}});var je=Ge({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=me(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Be(e.tag,{class:n.value},tt(t.default))}}),ut=Ge({name:"QCard",props:{...fn,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=gt(),o=pn(e,n),i=me(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>Be(e.tag,{class:i.value},tt(t.default))}}),wn="/assets/get_sig.0d2f964a.png";/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){var e=!1;try{throw new Error}catch(u){e=!!u.stack}var t=W(),n,o=function(){},i=function(){var u={task:void 0,next:null},y=u,w=!1,D=void 0,q=!1,X=[];function j(){for(var ue,we;u.next;)u=u.next,ue=u.task,u.task=void 0,we=u.domain,we&&(u.domain=void 0,we.enter()),le(ue,we);for(;X.length;)ue=X.pop(),le(ue);w=!1}function le(ue,we){try{ue()}catch(Ye){if(q)throw we&&we.exit(),setTimeout(j,0),we&&we.enter(),Ye;setTimeout(function(){throw Ye},0)}we&&we.exit()}if(i=function(ue){y=y.next={task:ue,domain:q&&process.domain,next:null},w||(w=!0,D())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)q=!0,D=function(){process.nextTick(j)};else if(typeof setImmediate=="function")typeof window!="undefined"?D=setImmediate.bind(window,j):D=function(){setImmediate(j)};else if(typeof MessageChannel!="undefined"){var oe=new MessageChannel;oe.port1.onmessage=function(){D=ae,oe.port1.onmessage=j,j()};var ae=function(){oe.port2.postMessage(0)};D=function(){setTimeout(j,0),ae()}}else D=function(){setTimeout(j,0)};return i.runAfter=function(ue){X.push(ue),w||(w=!0,D())},i}(),s=Function.call;function p(u){return function(){return s.apply(u,arguments)}}var h=p(Array.prototype.slice),v=p(Array.prototype.reduce||function(u,y){var w=0,D=this.length;if(arguments.length===1)do{if(w in this){y=this[w++];break}if(++w>=D)throw new TypeError}while(1);for(;w<D;w++)w in this&&(y=u(y,this[w],w));return y}),I=p(Array.prototype.indexOf||function(u){for(var y=0;y<this.length;y++)if(this[y]===u)return y;return-1}),B=p(Array.prototype.map||function(u,y){var w=this,D=[];return v(w,function(q,X,j){D.push(u.call(y,X,j,w))},void 0),D}),O=Object.create||function(u){function y(){}return y.prototype=u,new y},a=p(Object.prototype.hasOwnProperty),r=Object.keys||function(u){var y=[];for(var w in u)a(u,w)&&y.push(w);return y},c=p(Object.prototype.toString);function l(u){return u===Object(u)}function f(u){return c(u)==="[object StopIteration]"||u instanceof S}var S;typeof ReturnValue!="undefined"?S=ReturnValue:S=function(u){this.value=u};var g="From previous event:";function C(u,y){if(e&&y.stack&&typeof u=="object"&&u!==null&&u.stack&&u.stack.indexOf(g)===-1){for(var w=[],D=y;D;D=D.source)D.stack&&w.unshift(D.stack);w.unshift(u.stack);var q=w.join(`
`+g+`
`);u.stack=x(q)}}function x(u){for(var y=u.split(`
`),w=[],D=0;D<y.length;++D){var q=y[D];!V(q)&&!U(q)&&q&&w.push(q)}return w.join(`
`)}function U(u){return u.indexOf("(module.js:")!==-1||u.indexOf("(node.js:")!==-1}function H(u){var y=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(u);if(y)return[y[1],Number(y[2])];var w=/at ([^ ]+):(\d+):(?:\d+)$/.exec(u);if(w)return[w[1],Number(w[2])];var D=/.*@(.+):(\d+)$/.exec(u);if(D)return[D[1],Number(D[2])]}function V(u){var y=H(u);if(!y)return!1;var w=y[0],D=y[1];return w===n&&D>=t&&D<=Ce}function W(){if(!!e)try{throw new Error}catch(D){var u=D.stack.split(`
`),y=u[0].indexOf("@")>0?u[1]:u[2],w=H(y);return w?(n=w[0],w[1]):void 0}}function k(u,y,w){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(y+" is deprecated, use "+w+" instead.",new Error("").stack),u.apply(u,arguments)}}function m(u){return u instanceof P?u:Se(u)?Ue(u):He(u)}m.resolve=m,m.nextTick=i,m.longStackSupport=!1,typeof process=="object"&&process&&process.env&&{}.Q_DEBUG&&(m.longStackSupport=!0),m.defer=R;function R(){var u=[],y=[],w,D=O(R.prototype),q=O(P.prototype);if(q.promiseDispatch=function(j,le,oe){var ae=h(arguments);u?(u.push(ae),le==="when"&&oe[1]&&y.push(oe[1])):m.nextTick(function(){w.promiseDispatch.apply(w,ae)})},q.valueOf=function(){if(u)return q;var j=Y(w);return G(j)&&(w=j),j},q.inspect=function(){return w?w.inspect():{state:"pending"}},m.longStackSupport&&e)try{throw new Error}catch(j){q.stack=j.stack.substring(j.stack.indexOf(`
`)+1)}function X(j){w=j,q.source=j,v(u,function(le,oe){m.nextTick(function(){j.promiseDispatch.apply(j,oe)})},void 0),u=void 0,y=void 0}return D.promise=q,D.resolve=function(j){w||X(m(j))},D.fulfill=function(j){w||X(He(j))},D.reject=function(j){w||X(pe(j))},D.notify=function(j){w||v(y,function(le,oe){m.nextTick(function(){oe(j)})},void 0)},D}R.prototype.makeNodeResolver=function(){var u=this;return function(y,w){y?u.reject(y):arguments.length>2?u.resolve(h(arguments,1)):u.resolve(w)}},m.Promise=N,m.promise=N;function N(u){if(typeof u!="function")throw new TypeError("resolver must be a function.");var y=R();try{u(y.resolve,y.reject,y.notify)}catch(w){y.reject(w)}return y.promise}N.race=z,N.all=L,N.reject=pe,N.resolve=m,m.passByCopy=function(u){return u},P.prototype.passByCopy=function(){return this},m.join=function(u,y){return m(u).join(y)},P.prototype.join=function(u){return m([this,u]).spread(function(y,w){if(y===w)return y;throw new Error("Q can't join: not the same: "+y+" "+w)})},m.race=z;function z(u){return N(function(y,w){for(var D=0,q=u.length;D<q;D++)m(u[D]).then(y,w)})}P.prototype.race=function(){return this.then(m.race)},m.makePromise=P;function P(u,y,w){y===void 0&&(y=function(X){return pe(new Error("Promise does not support operation: "+X))}),w===void 0&&(w=function(){return{state:"unknown"}});var D=O(P.prototype);if(D.promiseDispatch=function(X,j,le){var oe;try{u[j]?oe=u[j].apply(D,le):oe=y.call(D,j,le)}catch(ae){oe=pe(ae)}X&&X(oe)},D.inspect=w,w){var q=w();q.state==="rejected"&&(D.exception=q.reason),D.valueOf=function(){var X=w();return X.state==="pending"||X.state==="rejected"?D:X.value}}return D}P.prototype.toString=function(){return"[object Promise]"},P.prototype.then=function(u,y,w){var D=this,q=R(),X=!1;function j(ae){try{return typeof u=="function"?u(ae):ae}catch(ue){return pe(ue)}}function le(ae){if(typeof y=="function"){C(ae,D);try{return y(ae)}catch(ue){return pe(ue)}}return pe(ae)}function oe(ae){return typeof w=="function"?w(ae):ae}return m.nextTick(function(){D.promiseDispatch(function(ae){X||(X=!0,q.resolve(j(ae)))},"when",[function(ae){X||(X=!0,q.resolve(le(ae)))}])}),D.promiseDispatch(void 0,"when",[void 0,function(ae){var ue,we=!1;try{ue=oe(ae)}catch(Ye){if(we=!0,m.onerror)m.onerror(Ye);else throw Ye}we||q.notify(ue)}]),q.promise},m.tap=function(u,y){return m(u).tap(y)},P.prototype.tap=function(u){return u=m(u),this.then(function(y){return u.fcall(y).thenResolve(y)})},m.when=J;function J(u,y,w,D){return m(u).then(y,w,D)}P.prototype.thenResolve=function(u){return this.then(function(){return u})},m.thenResolve=function(u,y){return m(u).thenResolve(y)},P.prototype.thenReject=function(u){return this.then(function(){throw u})},m.thenReject=function(u,y){return m(u).thenReject(y)},m.nearer=Y;function Y(u){if(G(u)){var y=u.inspect();if(y.state==="fulfilled")return y.value}return u}m.isPromise=G;function G(u){return u instanceof P}m.isPromiseAlike=Se;function Se(u){return l(u)&&typeof u.then=="function"}m.isPending=fe;function fe(u){return G(u)&&u.inspect().state==="pending"}P.prototype.isPending=function(){return this.inspect().state==="pending"},m.isFulfilled=ne;function ne(u){return!G(u)||u.inspect().state==="fulfilled"}P.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},m.isRejected=re;function re(u){return G(u)&&u.inspect().state==="rejected"}P.prototype.isRejected=function(){return this.inspect().state==="rejected"};var A=[],ee=[],he=[],se=!0;function ie(){A.length=0,ee.length=0,se||(se=!0)}function ve(u,y){!se||(typeof process=="object"&&typeof process.emit=="function"&&m.nextTick.runAfter(function(){I(ee,u)!==-1&&(process.emit("unhandledRejection",y,u),he.push(u))}),ee.push(u),y&&typeof y.stack!="undefined"?A.push(y.stack):A.push("(no stack) "+y))}function Xe(u){if(!!se){var y=I(ee,u);y!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&m.nextTick.runAfter(function(){var w=I(he,u);w!==-1&&(process.emit("rejectionHandled",A[y],u),he.splice(w,1))}),ee.splice(y,1),A.splice(y,1))}}m.resetUnhandledRejections=ie,m.getUnhandledReasons=function(){return A.slice()},m.stopUnhandledRejectionTracking=function(){ie(),se=!1},ie(),m.reject=pe;function pe(u){var y=P({when:function(w){return w&&Xe(this),w?w(u):this}},function(){return this},function(){return{state:"rejected",reason:u}});return ve(y,u),y}m.fulfill=He;function He(u){return P({when:function(){return u},get:function(y){return u[y]},set:function(y,w){u[y]=w},delete:function(y){delete u[y]},post:function(y,w){return y==null?u.apply(void 0,w):u[y].apply(u,w)},apply:function(y,w){return u.apply(y,w)},keys:function(){return r(u)}},void 0,function(){return{state:"fulfilled",value:u}})}function Ue(u){var y=R();return m.nextTick(function(){try{u.then(y.resolve,y.reject,y.notify)}catch(w){y.reject(w)}}),y.promise}m.master=Re;function Re(u){return P({isDef:function(){}},function(w,D){return E(u,w,D)},function(){return m(u).inspect()})}m.spread=Oe;function Oe(u,y,w){return m(u).spread(y,w)}P.prototype.spread=function(u,y){return this.all().then(function(w){return u.apply(void 0,w)},y)},m.async=Pe;function Pe(u){return function(){function y(X,j){var le;if(typeof StopIteration=="undefined"){try{le=w[X](j)}catch(oe){return pe(oe)}return le.done?m(le.value):J(le.value,D,q)}else{try{le=w[X](j)}catch(oe){return f(oe)?m(oe.value):pe(oe)}return J(le,D,q)}}var w=u.apply(this,arguments),D=y.bind(y,"next"),q=y.bind(y,"throw");return D()}}m.spawn=Me;function Me(u){m.done(m.async(u)())}m.return=b;function b(u){throw new S(u)}m.promised=_;function _(u){return function(){return Oe([this,L(arguments)],function(y,w){return u.apply(y,w)})}}m.dispatch=E;function E(u,y,w){return m(u).dispatch(y,w)}P.prototype.dispatch=function(u,y){var w=this,D=R();return m.nextTick(function(){w.promiseDispatch(D.resolve,u,y)}),D.promise},m.get=function(u,y){return m(u).dispatch("get",[y])},P.prototype.get=function(u){return this.dispatch("get",[u])},m.set=function(u,y,w){return m(u).dispatch("set",[y,w])},P.prototype.set=function(u,y){return this.dispatch("set",[u,y])},m.del=m.delete=function(u,y){return m(u).dispatch("delete",[y])},P.prototype.del=P.prototype.delete=function(u){return this.dispatch("delete",[u])},m.mapply=m.post=function(u,y,w){return m(u).dispatch("post",[y,w])},P.prototype.mapply=P.prototype.post=function(u,y){return this.dispatch("post",[u,y])},m.send=m.mcall=m.invoke=function(u,y){return m(u).dispatch("post",[y,h(arguments,2)])},P.prototype.send=P.prototype.mcall=P.prototype.invoke=function(u){return this.dispatch("post",[u,h(arguments,1)])},m.fapply=function(u,y){return m(u).dispatch("apply",[void 0,y])},P.prototype.fapply=function(u){return this.dispatch("apply",[void 0,u])},m.try=m.fcall=function(u){return m(u).dispatch("apply",[void 0,h(arguments,1)])},P.prototype.fcall=function(){return this.dispatch("apply",[void 0,h(arguments)])},m.fbind=function(u){var y=m(u),w=h(arguments,1);return function(){return y.dispatch("apply",[this,w.concat(h(arguments))])}},P.prototype.fbind=function(){var u=this,y=h(arguments);return function(){return u.dispatch("apply",[this,y.concat(h(arguments))])}},m.keys=function(u){return m(u).dispatch("keys",[])},P.prototype.keys=function(){return this.dispatch("keys",[])},m.all=L;function L(u){return J(u,function(y){var w=0,D=R();return v(y,function(q,X,j){var le;G(X)&&(le=X.inspect()).state==="fulfilled"?y[j]=le.value:(++w,J(X,function(oe){y[j]=oe,--w===0&&D.resolve(y)},D.reject,function(oe){D.notify({index:j,value:oe})}))},void 0),w===0&&D.resolve(y),D.promise})}P.prototype.all=function(){return L(this)},m.any=T;function T(u){if(u.length===0)return m.resolve();var y=m.defer(),w=0;return v(u,function(D,q,X){var j=u[X];w++,J(j,le,oe,ae);function le(ue){y.resolve(ue)}function oe(){w--,w===0&&y.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))}function ae(ue){y.notify({index:X,value:ue})}},void 0),y.promise}P.prototype.any=function(){return T(this)},m.allResolved=k($,"allResolved","allSettled");function $(u){return J(u,function(y){return y=B(y,m),J(L(B(y,function(w){return J(w,o,o)})),function(){return y})})}P.prototype.allResolved=function(){return $(this)},m.allSettled=Z;function Z(u){return m(u).allSettled()}P.prototype.allSettled=function(){return this.then(function(u){return L(B(u,function(y){y=m(y);function w(){return y.inspect()}return y.then(w,w)}))})},m.fail=m.catch=function(u,y){return m(u).then(void 0,y)},P.prototype.fail=P.prototype.catch=function(u){return this.then(void 0,u)},m.progress=ge;function ge(u,y){return m(u).then(void 0,void 0,y)}P.prototype.progress=function(u){return this.then(void 0,void 0,u)},m.fin=m.finally=function(u,y){return m(u).finally(y)},P.prototype.fin=P.prototype.finally=function(u){if(!u||typeof u.apply!="function")throw new Error("Q can't apply finally callback");return u=m(u),this.then(function(y){return u.fcall().then(function(){return y})},function(y){return u.fcall().then(function(){throw y})})},m.done=function(u,y,w,D){return m(u).done(y,w,D)},P.prototype.done=function(u,y,w){var D=function(X){m.nextTick(function(){if(C(X,q),m.onerror)m.onerror(X);else throw X})},q=u||y||w?this.then(u,y,w):this;typeof process=="object"&&process&&process.domain&&(D=process.domain.bind(D)),q.then(void 0,D)},m.timeout=function(u,y,w){return m(u).timeout(y,w)},P.prototype.timeout=function(u,y){var w=R(),D=setTimeout(function(){(!y||typeof y=="string")&&(y=new Error(y||"Timed out after "+u+" ms"),y.code="ETIMEDOUT"),w.reject(y)},u);return this.then(function(q){clearTimeout(D),w.resolve(q)},function(q){clearTimeout(D),w.reject(q)},w.notify),w.promise},m.delay=function(u,y){return y===void 0&&(y=u,u=void 0),m(u).delay(y)},P.prototype.delay=function(u){return this.then(function(y){var w=R();return setTimeout(function(){w.resolve(y)},u),w.promise})},m.nfapply=function(u,y){return m(u).nfapply(y)},P.prototype.nfapply=function(u){var y=R(),w=h(u);return w.push(y.makeNodeResolver()),this.fapply(w).fail(y.reject),y.promise},m.nfcall=function(u){var y=h(arguments,1);return m(u).nfapply(y)},P.prototype.nfcall=function(){var u=h(arguments),y=R();return u.push(y.makeNodeResolver()),this.fapply(u).fail(y.reject),y.promise},m.nfbind=m.denodeify=function(u){if(u===void 0)throw new Error("Q can't wrap an undefined function");var y=h(arguments,1);return function(){var w=y.concat(h(arguments)),D=R();return w.push(D.makeNodeResolver()),m(u).fapply(w).fail(D.reject),D.promise}},P.prototype.nfbind=P.prototype.denodeify=function(){var u=h(arguments);return u.unshift(this),m.denodeify.apply(void 0,u)},m.nbind=function(u,y){var w=h(arguments,2);return function(){var D=w.concat(h(arguments)),q=R();D.push(q.makeNodeResolver());function X(){return u.apply(y,arguments)}return m(X).fapply(D).fail(q.reject),q.promise}},P.prototype.nbind=function(){var u=h(arguments,0);return u.unshift(this),m.nbind.apply(void 0,u)},m.nmapply=m.npost=function(u,y,w){return m(u).npost(y,w)},P.prototype.nmapply=P.prototype.npost=function(u,y){var w=h(y||[]),D=R();return w.push(D.makeNodeResolver()),this.dispatch("post",[u,w]).fail(D.reject),D.promise},m.nsend=m.nmcall=m.ninvoke=function(u,y){var w=h(arguments,2),D=R();return w.push(D.makeNodeResolver()),m(u).dispatch("post",[y,w]).fail(D.reject),D.promise},P.prototype.nsend=P.prototype.nmcall=P.prototype.ninvoke=function(u){var y=h(arguments,1),w=R();return y.push(w.makeNodeResolver()),this.dispatch("post",[u,y]).fail(w.reject),w.promise},m.nodeify=Te;function Te(u,y){return m(u).nodeify(y)}P.prototype.nodeify=function(u){if(u)this.then(function(y){m.nextTick(function(){u(null,y)})},function(y){m.nextTick(function(){u(y)})});else return this},m.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Ce=W();return m});var d=d||{};d.STUConstructor=function(){var e,t=65535,n=0,o=0,i={},s={};function p(a){return typeof a!="undefined"}function h(){return n++}function v(){return o++}function I(a){var r=9e3,c=this;p(a)||(a=r),this.onDCAtimeout=null,e=new WebSocket("wss://localhost:"+a.toString()+"/ws"),e.onopen=function(){console.log("connected")},e.onmessage=B,e.onclose=function(){console.log("disconnected"),typeof c.onDCAtimeout=="function"&&c.onDCAtimeout()}}I.prototype.Reinitialize=function(){d.STU=new d.STUConstructor},I.prototype.isServiceReady=function(){return e.readyState==1},I.prototype.isDCAReady=function(){var a=Q.defer();return d.STU.isServiceReady()?(setTimeout(function(){a.promise.isPending()&&(d.STU.isServiceReady()&&d.STU.close(),a.resolve(!1))},1e3),d.STU.getUsbDevices().then(function(r){a.promise.isPending()&&a.resolve(!0)}).fail(function(r){a.promise.isPending()&&a.resolve(!0)})):a.resolve(!1),a.promise},I.prototype.close=function(){e.close()};function B(a){if(typeof a.data!="undefined"&&a.data!=""){var r=JSON.parse(a.data);if(p(r.ticket)&&p(i[r.ticket]))p(r.success)&&r.success==!0&&p(r.data)?i[r.ticket].resolve(r.data):i[r.ticket].reject(new Error(p(r.error)?r.error:"")),delete i[r.ticket];else if(p(r.stream)&&p(s[r.stream])&&p(r.data))s[r.stream].stream(r.data);else throw new Error("websocket invalid message: "+a.data)}else console.log("Unexpected message type "+typeof a+" = "+JSON.stringify(a))}function O(a){for(var r=a.length,c=0;c<r;){var l=c+t<r?"0":"1",f=a.substr(c,t);e.send(l+f),c+=t}}return I.prototype.VendorId={VendorId_Wacom:1386},I.prototype.ProductId={ProductId_500:161,ProductId_300:162,ProductId_520A:163,ProductId_430:164,ProductId_530:165,ProductId_430V:166,ProductId_540:168,ProductId_541:169},I.prototype.ProductId_min=161,I.prototype.ProductId_max=175,I.prototype.send=function(a){var r=Q.defer();try{var c=h();a.ticket=c;var l=JSON.stringify(a);O(l),i[c]=r}catch(f){r.reject(f)}return r.promise},I.prototype.sendNoReturn=function(a){var r=JSON.stringify(a);O(r)},I.prototype.setStream=function(a){var r=v();return s[r]=a,r},I.prototype.removeStream=function(a){delete s[a]},I.prototype.getUsbDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"getUsbDevices"})},I.prototype.getTlsDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetTlsDevices",function:"getTlsDevices"})},I.prototype.isSupportedUsbDevice=function(a,r){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"isSupportedUsbDevice",idVendor:a,idProduct:r})},I.prototype.getStringUsbDevice=function(a){function r(c){return("0000"+c.toString(16)).substr(-4)}return r(a.idVendor)+":"+r(a.idProduct)+":"+r(a.bcdDevice)},I.prototype.SerialPort={Type:{Unknown:0,Physical:1,Virtual:2,Remote:3}},I.prototype.getSerialPorts=function(){return d.STU.send({scope:"WacomGSS.STU.GetSerialPorts",function:"getSerialPorts"})},I.prototype.UsbInterface=function(){var a="WacomGSS.STU.UsbInterface",r="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(l){return r=l.id,l})},c.prototype.connect=function(l,f){return d.STU.send({scope:a,id:r,function:"connect",usbDevice:l,exclusiveLock:f})},c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:r,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:r,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:a,id:r,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(l){return d.STU.send({scope:a,id:r,function:"queueSetPredicateAll",predicate:l})},c.prototype.get=function(l){return d.STU.send({scope:a,id:r,function:"get_",length:l})},c.prototype.set=function(l){return d.STU.send({scope:a,id:r,function:"set",base64Data:l})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:r,function:"supportsWrite"})},c.prototype.write=function(l){return d.STU.send({scope:a,id:r,function:"write",base64Data:l})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:r,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:r,function:"getProductId"})},c}(),I.prototype.Protocol=function(){var a="WacomGSS.STU.Protocol",r="",c={};function l(){}return l.prototype.PenDataOptionMode={PenDataOptionMode_None:0,PenDataOptionMode_TimeCount:1,PenDataOptionMode_SequenceNumber:2,PenDataOptionMode_TimeCountSequence:3},l.prototype.InkingMode={InkingMode_Off:0,InkingMode_On:1},l.prototype.ReportId={ReportId_PenData:1,ReportId_Status:3,ReportId_Reset:4,ReportId_HidInformation:6,ReportId_Information:8,ReportId_Capability:9,ReportId_Uid:10,ReportId_Uid2:11,ReportId_DefaultMode:12,ReportId_ReportRate:13,ReportId_RenderingMode:14,ReportId_Eserial:15,ReportId_PenDataEncrypted:16,ReportId_HostPublicKey:19,ReportId_DevicePublicKey:20,ReportId_StartCapture:21,ReportId_EndCapture:22,ReportId_DHprime:26,ReportId_DHbase:27,ReportId_ClearScreen:32,ReportId_InkingMode:33,ReportId_InkThreshold:34,ReportId_ClearScreenArea:35,ReportId_StartImageDataArea:36,ReportId_StartImageData:37,ReportId_ImageDataBlock:38,ReportId_EndImageData:39,ReportId_HandwritingThicknessColor:40,ReportId_BackgroundColor:41,ReportId_HandwritingDisplayArea:42,ReportId_BacklightBrightness:43,ReportId_ScreenContrast:44,ReportId_HandwritingThicknessColor24:45,ReportId_BackgroundColor24:46,ReportId_BootScreen:47,ReportId_PenDataOption:48,ReportId_PenDataEncryptedOption:49,ReportId_PenDataOptionMode:50,ReportId_PenDataTimeCountSequenceEncrypted:51,ReportId_PenDataTimeCountSequence:52,ReportId_EncryptionCommand:64,ReportId_EncryptionStatus:80,ReportId_GetReport:128,ReportId_SetResult:129,ReportId_PinPadData:144,ReportId_PinPadDataEncrypted:145,ReportId_PinOperationMode:146,ReportId_OperationMode:147,ReportId_RomStartImageData:148,ReportId_RomImageOccupancy:149,ReportId_RomImageHash:150,ReportId_RomImageDelete:151,ReportId_CurrentImageArea:152,ReportId_EventData:153,ReportId_EventDataEncrypted:154,ReportId_RomImageDisplay:155,ReportId_ReportSizeCollection:255,Decrypt:256,SigCaptX_Decrypt:256,SigCaptX_TabletDisconnected:257},l.prototype.DefaultMode={DefaultMode_HID:1,DefaultMode_Serial:2},l.prototype.StatusCode={StatusCode_Ready:0,StatusCode_Image:1,StatusCode_Capture:2,StatusCode_Calculation:3,StatusCode_Image_Boot:4,StatusCode_RomBusy:5,StatusCode_SystemReset:255},l.prototype.ErrorCode={ErrorCode_None:0,ErrorCode_WrongReportId:1,ErrorCode_WrongState:2,ErrorCode_CRC:3,ErrorCode_GraphicsWrongEncodingType:16,ErrorCode_GraphicsImageTooLong:17,ErrorCode_GraphicsZlibError:18,ErrorCode_GraphicsWrongParameters:21,ErrorCode_PadNotExist:32,ErrorCode_RomSizeOverflow:51,ErrorCode_RomInvalidParameter:52,ErrorCode_RomErrorCRC:53},l.prototype.Rectangle={upperLeftXpixel:0,upperLeftYpixel:0,lowerRightXpixel:0,lowerRightYpixel:0},l.prototype.InkThreshold={onPressureMark:0,offPressureMark:0},l.prototype.HandwritingThicknessColor={penColor:0,penThickness:0},l.prototype.HandwritingThicknessColor24={penColor:0,penThickness:0},l.prototype.EncryptionCommandNumber={EncryptionCommandNumber_SetEncryptionType:1,EncryptionCommandNumber_SetParameterBlock:2,EncryptionCommandNumber_GetStatusBlock:3,EncryptionCommandNumber_GetParameterBlock:4,EncryptionCommandNumber_GenerateSymmetricKey:5},l.prototype.EncodingMode={EncodingMode_1bit:0,EncodingMode_1bit_Zlib:1,EncodingMode_16bit:2,EncodingMode_24bit:4,EncodingMode_1bit_Bulk:16,EncodingMode_16bit_Bulk:18,EncodingMode_24bit_Bulk:20},l.prototype.EndImageDataFlag={EndImageDataFlag_Commit:0,EndImageDataFlag_Abandon:1},l.prototype.ResetFlag={ResetFlag_Software:0,ResetFlag_Hardware:1},l.prototype.EncodingFlag={EncodingFlag_Zlib:1,EncodingFlag_1bit:2,EncodingFlag_16bit:4,EncodingFlag_24bit:8},l.prototype.StatusCodeRSA={StatusCodeRSA_Ready:0,StatusCodeRSA_Calculating:250,StatusCodeRSA_Even:251,StatusCodeRSA_Long:252,StatusCodeRSA_Short:253,StatusCodeRSA_Invalid:254,StatusCodeRSA_NotReady:255},l.prototype.ErrorCodeRSA={ErrorCodeRSA_None:0,ErrorCodeRSA_BadParameter:1,ErrorCodeRSA_ParameterTooLong:2,ErrorCodeRSA_PublicKeyNotReady:3,ErrorCodeRSA_PublicExponentNotReady:4,ErrorCodeRSA_SpecifiedKeyInUse:5,ErrorCodeRSA_SpecifiedKeyNotInUse:6,ErrorCodeRSA_BadCommandCode:7,ErrorCodeRSA_CommandPending:8,ErrorCodeRSA_SpecifiedKeyExists:9,ErrorCodeRSA_SpecifiedKeyNotExist:10,ErrorCodeRSA_NotInitialized:11},l.prototype.SymmetricKeyType={SymmetricKeyType_AES128:0,SymmetricKeyType_AES192:1,SymmetricKeyType_AES256:2},l.prototype.AsymmetricKeyType={AsymmetricKeyType_RSA1024:0,AsymmetricKeyType_RSA1536:1,AsymmetricKeyType_RSA2048:2},l.prototype.AsymmetricPaddingType={AsymmetricPaddingType_None:0,AsymmetricPaddingType_PKCS1:1,AsymmetricPaddingType_OAEP:2},l.prototype.AsymmetricPaddingType={EncryptionCommandParameterBlockIndex_RSAe:0,EncryptionCommandParameterBlockIndex_RSAn:1,EncryptionCommandParameterBlockIndex_RSAc:2,EncryptionCommandParameterBlockIndex_RSAm:3},l.prototype.RomImageDeleteMode={RomImageDeleteMode_All:0,RomImageDeleteMode_PinPad_All:1,RomImageDeleteMode_SlideShow_All:2,RomImageDeleteMode_KeyPad_All:3,RomImageDeleteMode_Signature_All:4,RomImageDeleteMode_MessageBox_All:5,RomImageDeleteMode_PinPad_Number:6,RomImageDeleteMode_SlideShow_Number:7,RomImageDeleteMode_KeyPad_Number:8,RomImageDeleteMode_Signature_Number:9,RomImageDeleteMode_MessageBox_Number:10},l.prototype.OperationModeType={OperationModeType_Normal:0,OperationModeType_PinPad:1,OperationModeType_SlideShow:2,OperationModeType_KeyPad:3,OperationModeType_Signature:4,OperationModeType_MessageBox:5},l.prototype.ImageDataBlock_maxLengthHID=253,l.prototype.ImageDataBlock_maxLengthSerial=2557,l.prototype.ImageDataBlock_maxLength540=2557,l.prototype.toJSON=function(){return{id:r,scope:a}},l.prototype.Constructor=function(f){return c=f,d.STU.send({scope:a,function:"Constructor",intf:c.toJSON()}).then(function(S){return r=S.id,S})},l.prototype.getInterface=function(){return c},l.prototype.getInformation=function(){return d.STU.send({scope:a,id:r,function:"getInformation"})},l.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:a,id:r,function:"getPenDataOptionMode"})},l.prototype.setPenDataOptionMode=function(f){return d.STU.send({scope:a,id:r,function:"setPenDataOptionMode",penDataOptionMode:f})},l.prototype.OperationMode_Normal=function(){function f(){this.operationMode=0,this.data=[]}return f}(),l.prototype.OperationMode_PinPad=function(){function f(S,g,C,x,U,H,V){this.operationMode=1,this.data=[],this.data[0]=S,this.data[1]=Number(g),this.data[2]=C,this.data[3]=x,this.data[4]=Number(U),this.data[5]=H,this.data[6]=V}return f}(),l.prototype.OperationMode_SlideShow=function(){function f(S,g,C,x){this.operationMode=2,this.data=[],this.data[0]=S,this.data[1]=g,this.data[2]=(C[0]&15)<<4|C[1]&15,this.data[3]=(C[2]&15)<<4|C[3]&15,this.data[4]=(C[4]&15)<<4|C[5]&15,this.data[5]=(C[6]&15)<<4|C[7]&15,this.data[6]=(C[8]&15)<<4|C[9]&15,this.data[7]=x>>24&255,this.data[8]=x>>16&255,this.data[9]=x>>8&255,this.data[10]=x&255}return f}(),l.prototype.OperationMode_KeyPad=function(){function f(S,g){this.operationMode=3,this.data=[],this.data[0]=S,this.data[1]=g}return f}(),l.prototype.OperationMode_Signature=function(){function f(S,g,C,x){this.operationMode=4,this.data=[],this.data[0]=S,this.data[1]=g[0],this.data[2]=g[1],this.data[3]=g[2],this.data[4]=C}return f}(),l.prototype.setOperationMode=function(f){return d.STU.send({scope:a,id:r,function:"setOperationMode",operationMode:f})},l.prototype.getOperationMode=function(){return d.STU.send({scope:a,id:r,function:"getOperationMode"})},l.prototype.RomStartImageData_PinPad=function(){function f(S,g,C,x,U){this.encodingMode=S,this.operationMode=1,this.imageType=g,this.imageNumber=C,this.data=[x,U,0]}return f}(),l.prototype.RomStartImageData_SlideShow=function(){function f(S,g,C){this.encodingMode=S,this.operationMode=2,this.imageType=g,this.imageNumber=C,this.data=[0,0,0]}return f}(),l.prototype.RomStartImageData_KeyPad=function(){function f(S,g,C,x,U){this.encodingMode=S,this.operationMode=3,this.imageType=g,this.imageNumber=C,this.data=[],this.data[0]=x,this.data[1]=U.length>8&&U[8]?1:0,this.data[2]=(U.length>7&&U[7]?128:0)|(U.length>6&&U[6]?64:0)|(U.length>5&&U[5]?32:0)|(U.length>4&&U[4]?16:0)|(U.length>3&&U[3]?8:0)|(U.length>2&&U[2]?4:0)|(U.length>1&&U[1]?2:0)|(U.length>0&&U[0]?1:0)}return f}(),l.prototype.RomStartImageData_Signature=function(){function f(S,g,C,x){this.encodingMode=S,this.operationMode=4,this.imageType=g,this.imageNumber=C,this.data=[],this.data[0]=(x[2]?4:0)|(x[1]?2:0)|(x[0]?1:0)}return f}(),l.prototype.RomStartImageData_MessageBox=function(){function f(S,g){this.encodingMode=S,this.operationMode=5,this.imageType=!1,this.imageNumber=g,this.data=[0,0,0]}return f}(),l.prototype.setRomStartImageData=function(f){return d.STU.send({scope:a,id:r,function:"setRomStartImageData",romStartImage:f})},l.prototype.setRomImageHash=function(f,S,g){return d.STU.send({scope:a,id:r,function:"setRomImageHash",operationModeType:f,imageType:S,imageNumber:g})},l.prototype.getRomImageHash=function(){return d.STU.send({scope:a,id:r,function:"getRomImageHash"})},l.prototype.setRomImageDelete=function(f,S,g){return d.STU.send({scope:a,id:r,function:"setRomImageDelete",romImageDeleteMode:f,imageType:S,imageNumber:g})},l.prototype.getCurrentImageArea=function(){return d.STU.send({scope:a,id:r,function:"getCurrentImageArea"})},l.prototype.setRomImageDisplay=function(f,S,g){return d.STU.send({scope:a,id:r,function:"setRomImageDisplay",operationModeType:f,imageType:S,imageNumber:g})},l.prototype.getEserial=function(){return d.STU.send({scope:a,id:r,function:"getEserial"})},l.prototype.setClearScreen=function(){return d.STU.send({scope:a,id:r,function:"setClearScreen"})},l.prototype.setInkingMode=function(f){return d.STU.send({scope:a,id:r,function:"setInkingMode",inkingMode:f})},l.prototype.rebind=function(f){var S=f;return d.STU.send({scope:a,id:r,function:"rebind",intf:f.toJSON()}).then(function(g){g===null&&(c=S)})},l.prototype.getStatus=function(){return d.STU.send({scope:a,id:r,function:"getStatus"})},l.prototype.setReset=function(f){return d.STU.send({scope:a,id:r,function:"setReset",flag:f})},l.prototype.getHidInformation=function(){return d.STU.send({scope:a,id:r,function:"getHidInformation"})},l.prototype.getCapability=function(){return d.STU.send({scope:a,id:r,function:"getCapability"})},l.prototype.getUid=function(){return d.STU.send({scope:a,id:r,function:"getUid"})},l.prototype.setUid=function(f){return d.STU.send({scope:a,id:r,function:"setUid",uid:f})},l.prototype.getUid2=function(){return d.STU.send({scope:a,id:r,function:"getUid2"})},l.prototype.setDefaultMode=function(f){return d.STU.send({scope:a,id:r,function:"setDefaultMode",defaultMode:f})},l.prototype.getDefaultMode=function(){return d.STU.send({scope:a,id:r,function:"getDefaultMode"})},l.prototype.getHostPublicKey=function(){return d.STU.send({scope:a,id:r,function:"getHostPublicKey"})},l.prototype.setHostPublicKey=function(f){return d.STU.send({scope:a,id:r,function:"setHostPublicKey",hostPublicKey:f})},l.prototype.getDevicePublicKey=function(){return d.STU.send({scope:a,id:r,function:"getDevicePublicKey"})},l.prototype.setStartCapture=function(f){return d.STU.send({scope:a,id:r,function:"setStartCapture",sessionId:f})},l.prototype.setEndCapture=function(){return d.STU.send({scope:a,id:r,function:"setEndCapture"})},l.prototype.getDHprime=function(){return d.STU.send({scope:a,id:r,function:"getDHprime"})},l.prototype.setDHprime=function(f){return d.STU.send({scope:a,id:r,function:"setDHprime",prime:f})},l.prototype.getDHbase=function(){return d.STU.send({scope:a,id:r,function:"getDHbase"})},l.prototype.setDHbase=function(f){return d.STU.send({scope:a,id:r,function:"setDHbase",base})},l.prototype.setClearScreenArea=function(f){return d.STU.send({scope:a,id:r,function:"setClearScreenArea",area:f})},l.prototype.getInkingMode=function(){return d.STU.send({scope:a,id:r,function:"getInkingMode"})},l.prototype.getInkThreshold=function(){return d.STU.send({scope:a,id:r,function:"getInkThreshold"})},l.prototype.setInkThreshold=function(f){return d.STU.send({scope:a,id:r,function:"setInkThreshold",inkThreshold:f})},l.prototype.setStartImageData=function(f){return d.STU.send({scope:a,id:r,function:"setStartImageData",encodingMode:f})},l.prototype.setStartImageDataArea=function(f,S){return d.STU.send({scope:a,id:r,function:"setStartImageDataArea",encodingMode:f,area:S})},l.prototype.setImageDataBlock=function(f){return d.STU.send({scope:a,id:r,function:"setEndImageData",imageDataBlock:f})},l.prototype.setEndImageData=function(f){return d.STU.send({scope:a,id:r,function:"setEndImageData",endImageDataFlag})},l.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingThicknessColor"})},l.prototype.setHandwritingThicknessColor=function(f){return d.STU.send({scope:a,id:r,function:"setHandwritingThicknessColor",handwritingThicknessColor:f})},l.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingThicknessColor24"})},l.prototype.setHandwritingThicknessColor24=function(f){return d.STU.send({scope:a,id:r,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:f})},l.prototype.getBackgroundColor=function(){return d.STU.send({scope:a,id:r,function:"getBackgroundColor"})},l.prototype.setBackgroundColor=function(f){return d.STU.send({scope:a,id:r,function:"setBackgroundColor",backgroundColor:f})},l.prototype.getBackgroundColor24=function(){return d.STU.send({scope:a,id:r,function:"getBackgroundColor24"})},l.prototype.setBackgroundColor24=function(f){return d.STU.send({scope:a,id:r,function:"setBackgroundColor24",backgroundColor24:f})},l.prototype.BootScreenFlag={Disable:0,Enable:1},l.prototype.setBootScreen=function(f){return d.STU.send({scope:a,id:r,function:"setBootScreen",bootScreenFlag:f})},l.prototype.getBootScreen=function(){return d.STU.send({scope:a,id:r,function:"getBootScreen"})},l.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingDisplayArea"})},l.prototype.setHandwritingDisplayArea=function(f){return d.STU.send({scope:a,id:r,function:"setHandwritingDisplayArea",handwritingDisplayArea:f})},l.prototype.getBacklightBrightness=function(){return d.STU.send({scope:a,id:r,function:"getBacklightBrightness"})},l.prototype.setBacklightBrightness=function(f){return d.STU.send({scope:a,id:r,function:"setBacklightBrightness",backlightBrightness:f})},l.prototype.getScreenContrast=function(){return d.STU.send({scope:a,id:r,function:"getScreenContrast"})},l.prototype.setScreenContrast=function(f){return d.STU.send({scope:a,id:r,function:"setScreenContrast",screenContrast:f})},l.prototype.getEncryptionStatus=function(){return d.STU.send({scope:a,id:r,function:"getEncryptionStatus"})},l.prototype.EncryptionCommand=function(){var f="WacomGSS.STU.Protocol";function S(C){this.encryptionCommandNumber=C.encryptionCommandNumber,this.parameter=C.parameter,this.lengthOrIndex=C.lengthOrIndex,this.data=C.data}function g(){this.encryptionCommandNumber=0,this.parameter=0,this.lengthOrIndex=0,this.data=[]}return g.prototype.initializeSetEncryptionType=function(C,x,U){return d.STU.send({scope:f,function:"EncryptionCommand_initializeSetEncryptionType",symmetricKeyType:C,asymmetricPaddingType:x,asymmetricKeyType:U}).then(function(H){return S.call(this,H),this})},g.prototype.initializeSetParameterBlock=function(C,x){return d.STU.send({scope:f,function:"EncryptionCommand_initializeSetParameterBlock",index:C,data:x}).then(function(U){return S.call(this,U),this})},g.prototype.initializeGenerateSymmetricKey=function(){return d.STU.send({scope:f,function:"EncryptionCommand_initializeGenerateSymmetricKey"}).then(function(C){return S.call(this,C),this})},g.prototype.initializeGetParameterBlock=function(C,x){return d.STU.send({scope:f,function:"EncryptionCommand_initializeGetParameterBlock"}).then(function(U){return S.call(this,U),this})},g}(),l.prototype.getEncryptionCommand=function(f){return d.STU.send({scope:a,id:r,function:"getEncryptionCommand",encryptionCommandNumber:f})},l.prototype.getReportSizeCollection=function(){return d.STU.send({scope:a,id:r,function:"getReportSizeCollection"})},l.prototype.setReportRate=function(f){return d.STU.send({scope:a,id:r,function:"setReportRate",reportRate:f})},l.prototype.getReportRate=function(){return d.STU.send({scope:a,id:r,function:"getReportRate"})},l.prototype.RenderingMode={RenderingMode_Legacy:0,RenderingMode_WILL:1},l.prototype.setRenderingMode=function(f){return d.STU.send({scope:a,id:r,function:"setRenderingMode",renderingMode:f})},l.prototype.getRenderingMode=function(){return d.STU.send({scope:a,id:r,function:"getRenderingMode"})},l}(),I.prototype.ProtocolHelper={ReportHandler:function(){var a="WacomGSS.STU.ProtocolHelper.ReportHandler",r=null,c=null;function l(){this.onReportPenData=function(f){},this.onReportPenDataOption=function(f){},this.onReportPenDataTimeCountSequence=function(f){},this.onReportPenDataEncrypted=function(f){},this.onReportPenDataEncryptedOption=function(f){},this.onReportPenDataTimeCountSequenceEncrypted=function(f){},this.onReportDevicePublicKey=function(f){},this.onReportEncryptionStatus=function(f){},this.onReportEventDataPinPad=function(f){},this.onReportEventDataKeyPad=function(f){},this.onReportEventDataSignature=function(f){},this.onReportEventDataPinPadEncrypted=function(f){},this.onReportEventDataKeyPadEncrypted=function(f){},this.onReportEventDataSignatureEncrypted=function(f){},this.decrypt=function(f){},this.tabletDisconnected=function(f){},this.stream=function(f){var S=new d.STU.Protocol;switch(f.reportId){case S.ReportId.ReportId_PenData:this.onReportPenData(f);break;case S.ReportId.ReportId_PenDataOption:this.onReportPenDataOption(f);break;case S.ReportId.ReportId_PenDataTimeCountSequence:this.onReportPenDataTimeCountSequence(f);break;case S.ReportId.ReportId_PenDataEncrypted:this.onReportPenDataEncrypted(f);break;case S.ReportId.ReportId_PenDataEncryptedOption:this.onReportPenDataEncryptedOption(f);break;case S.ReportId.ReportId_PenDataTimeCountSequenceEncrypted:this.onReportPenDataTimeCountSequenceEncrypted(f);break;case S.ReportId.ReportId_DevicePublicKey:this.onReportDevicePublicKey(f);break;case S.ReportId.ReportId_EncryptionStatus:this.onReportEncryptionStatus(f);break;case S.ReportId.ReportId_EventData:this.onEventData(S,f);break;case S.ReportId.ReportId_EventDataEncrypted:this.onEventDataEncrypted(S,f);break;case S.ReportId.SigCaptX_Decrypt:this.decrypt(f);break;case S.ReportId.SigCaptX_TabletDisconnected:this.tabletDisconnected(f);break}}}return l.prototype.startReporting=function(f,S){return r=d.STU.setStream(this),d.STU.send({interfaceQueueHolder:f.toJSON(),scope:a,function:"startReporting",streamId:r,tabletDecrypt:S===!0}).then(function(g){return c=g.id,g})},l.prototype.stopReporting=function(){if(r===null)throw"Error: trying to stop reporting before starting";return d.STU.send({id:c,scope:a,function:"stopReporting"}).then(function(f){return d.STU.removeStream(r),f})},l.prototype.onEventData=function(f,S){switch(S.operationModeType){case f.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPad(S);break;case f.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPad(S);break;case f.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignature(S);break}},l.prototype.onEventDataEncrypted=function(f,S){switch(S.operationModeType){case f.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPadEncrypted(S);break;case f.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPadEncrypted(S);break;case f.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignatureEncrypted(S);break}},l}(),InkState_isOff:1,InkState_isOn:2,InkState_isInk:4,InkState_isFirst:8,InkState_isLast:16,InkState:{InkState_Up:1,InkState_Down:2,InkState_Inking:6,InkState_First:14,InkState_Last:17},OpDirection:{OpDirection_Get:256,OpDirection_Set:512},statusCanSend:function(a,r,c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"statusCanSend",statusCode:a,reportId:r,opDirection:c})},waitForStatusToSend:function(a,r,c,l,f){var S=Q.defer();function g(){a.getStatus().then(function(C){return d.STU.ProtocolHelper.statusCanSend(C.statusCode,r,c)}).then(function(C){if(C===!0){S.resolve();return}if(l<=0){S.reject(new Error("timeout error"));return}l--,setTimeout(g,f)})}return setTimeout(g,0),S.promise},waitForStatus:function(a,r,c,l){var f=Q.defer();function S(){a.getStatus().then(function(g){if(g.statusCode===r){f.resolve();return}if(c<=0){f.reject(new Error("timeout error"));return}c--,setTimeout(S,l)})}return setTimeout(S,0),f.promise},supportsEncryption:function(a){var r=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_DHprime,r,25,50).then(function(c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption",protocol:a})})},supportsEncryption_DHprime:function(a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption_DHprime",dhPrime:a})},setHostPublicKeyAndPollForDevicePublicKey:function(a,r,c,l){return a.setHostPublicKey(r).then(function(f){var S=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_DevicePublicKey,S,c,l)}).then(function(f){return a.getDevicePublicKey()}).then(function(f){if(f.length!==r.length)throw new Error("Unexpected key size");return f})},writeImage:function(a,r,c,l,f){l=typeof l=="undefined"?25:l,f=typeof f=="undefined"?25:f;var S=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_StartImageData,S,l,f).then(function(g){return a.setStartImageData(r)}).then(function(g){var C=a.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(a,r,C,c,l,f)})},writeImageCommon:function(a,r,c,l,f,S){if(c>a.ImageDataBlock_maxLengthSerial)throw new Error("Invalid maxImageBlockSize");var g=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_ImageDataBlock,g,f,S).then(function(C){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeImageCommon",protocol:a.toJSON(),intf:a.getInterface().toJSON(),encodingMode:r,imageData:l,maxImageBlockSize:c})})},flattenMonochrome:function(a,r,c,l){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenMonochrome",b64Data:a,screenWidth:r,screenHeight:c,dataStore:l===!0}).then(function(f){if(typeof f=="string")return f;var S=new d.STU.DataStore;return S.setId(f.id),S})},flatten:function(a,r,c,l,f){var S=new d.STU.Protocol;switch(a){case S.EncodingMode.EncodingMode_24bit:case S.EncodingMode.EncodingMode_24bit_Bulk:return d.STU.ProtocolHelper.flattenColor24(r,c,l,f);case S.EncodingMode.EncodingMode_16bit:case S.EncodingMode.EncodingMode_16bit_Bulk:return d.STU.ProtocolHelper.flattenColor16(r,c,l,f);case S.EncodingMode.EncodingMode_1bit:case S.EncodingMode.EncodingMode_1bit_Bulk:return d.STU.ProtocolHelper.flattenMonochrome(r,c,l,f)}},resizeAndFlatten:function(a,r,c,l,f,S,g,C,x,U,H,V){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"resizeAndFlatten",b64Data:a,offsetX:r,offsetY:c,bitmapWidth:l,bitmapHeight:f,screenWidth:S,screenHeight:g,encodingMode:C,scale:x,backgroundColor:U,clip:H,dataStore:V===!0}).then(function(W){if(typeof W=="string")return W;var k=new d.STU.DataStore;return k.setId(W.id),k})},encodingFlagSupportsColor:function(a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"encodingFlagSupportsColor",screenWidth:a})},flattenColor16:function(a,r,c,l){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor16",b64Data:a,screenWidth:r,screenHeight:c,dataStore:l===!0}).then(function(f){if(typeof f=="string")return f;var S=new d.STU.DataStore;return S.setId(f.id),S})},flattenColor24:function(a,r,c,l){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor24",b64Data:a,screenWidth:r,screenHeight:c,dataStore:l===!0}).then(function(f){if(typeof f=="string")return f;var S=new d.STU.DataStore;return S.setId(f.id),S})},generateSymmetricKeyAndWaitForEncryptionStatus:function(a,r,c,l){var f=d.STU.ProtocolHelper.OpDirection.OpDirection_Set,S=Q.defer(),g=h();return i[g]=S,d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_EncryptionCommand,f,r,c).then(function(C){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"generateSymmetricKeyAndWaitForEncryptionStatus",protocol:a.toJSON(),intf:a.getInterface().toJSON(),timeout:l,sleepBetweenRetries:c,ticket2:g}).then(function(x){return S.promise})})},simulateEncodingFlag:function(a,r){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"simulateEncodingFlag",idProduct:a,encodingFlag:typeof obj=="undefined"?0:r})},writeImageArea:function(a,r,c,l,f,S){f=typeof f=="undefined"?25:f,S=typeof S=="undefined"?25:S;var g=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(a,d.STU.Protocol.ReportId.ReportId_StartImageDataArea,g,f,S).then(function(C){return a.setStartImageDataArea(r,c)}).then(function(C){var x=a.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(a,r,x,l,f,S)})},writeRomImage:function(a,r,c,l,f,S){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeRomImage",protocol:a,romStartImageData:r,maxImageBlockSize:c,imageData:l,retries:f,sleepBetweenRetries:S})}},I.prototype.Tablet=function(){var a="WacomGSS.STU.Tablet",r=null;function c(){}return c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.Constructor=function(l,f,S){return d.STU.send({scope:a,function:"Constructor",hasIntf:typeof l!="undefined",intf:typeof l=="undefined"?null:l.toJSON(),encryptionHandler:typeof f=="undefined"||f===null?null:f.toJSON(),encryptionHandler2:typeof S=="undefined"||S===null?null:S.toJSON()}).then(function(g){return r=g.id,g})},c.prototype.attach=function(l){return d.STU.send({scope:a,id:r,function:"attach",intf:typeof l=="undefined"?null:l.toJSON()})},c.prototype.detach=function(l){return d.STU.send({scope:a,id:r,function:"detach"}).then(function(f){var S;return p(f.scope)&&p(f.id)&&(f.scope==="WacomGSS.STU.UsbInterface"?(S=new I.UsbInterface,S.id=f.id):f.scope==="WacomGSS.STU.SerialInterface"&&(S=new I.SerialInterface,S.id=f.id)),S})},c.prototype.getInformation=function(){return d.STU.send({scope:a,id:r,function:"getInformation"})},c.prototype.setClearScreen=function(){return d.STU.send({scope:a,id:r,function:"setClearScreen"})},c.prototype.isSupported=function(l){return d.STU.send({scope:a,id:r,function:"isSupported",reportId:l})},c.prototype.getProductId=function(l){return d.STU.send({scope:a,id:r,function:"getProductId"})},c.prototype.setPenDataOptionMode=function(l){return d.STU.send({scope:a,id:r,function:"setPenDataOptionMode",penDataOptionMode:l})},c.prototype.getDHprime=function(){return d.STU.send({scope:a,id:r,function:"getDHprime"})},c.prototype.startCapture=function(l){return d.STU.send({scope:a,id:r,function:"startCapture",sessionId:l})},c.prototype.setInkingMode=function(l){return d.STU.send({scope:a,id:r,function:"setInkingMode",inkingMode:l})},c.prototype.queueSetPredicateAll=function(l){return d.STU.send({scope:a,id:r,function:"queueSetPredicateAll",predicate:l})},c.prototype.endCapture=function(){return d.STU.send({scope:a,id:r,function:"endCapture"})},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:r,function:"disconnect"})},c.prototype.empty=function(){return d.STU.send({scope:a,id:r,function:"empty"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:r,function:"isConnected"})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:r,function:"supportsWrite"})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:r,function:"getReportCountLengths"})},c.prototype.getStatus=function(){return d.STU.send({scope:a,id:r,function:"getStatus"})},c.prototype.reset=function(){return d.STU.send({scope:a,id:r,function:"reset"})},c.prototype.getHidInformation=function(){return d.STU.send({scope:a,id:r,function:"getHidInformation"})},c.prototype.getCapability=function(){return d.STU.send({scope:a,id:r,function:"getCapability"})},c.prototype.getUid=function(){return d.STU.send({scope:a,id:r,function:"getUid"})},c.prototype.setUid=function(l){return d.STU.send({scope:a,id:r,function:"setUid",uid:l})},c.prototype.getUid2=function(){return d.STU.send({scope:a,id:r,function:"getUid2"})},c.prototype.setDefaultMode=function(l){return d.STU.send({scope:a,id:r,function:"setDefaultMode",defaultMode:l})},c.prototype.getDefaultMode=function(){return d.STU.send({scope:a,id:r,function:"getDefaultMode"})},c.prototype.getHostPublicKey=function(){return d.STU.send({scope:a,id:r,function:"getHostPublicKey"})},c.prototype.getDevicePublicKey=function(){return d.STU.send({scope:a,id:r,function:"getDevicePublicKey"})},c.prototype.setDHprime=function(l){return d.STU.send({scope:a,id:r,function:"setDHprime",prime:l})},c.prototype.getDHbase=function(){return d.STU.send({scope:a,id:r,function:"getDHbase"})},c.prototype.setDHbase=function(l){return d.STU.send({scope:a,id:r,function:"setDHbase",base})},c.prototype.setClearScreenArea=function(l){return d.STU.send({scope:a,id:r,function:"setClearScreenArea",area:l})},c.prototype.getInkingMode=function(){return d.STU.send({scope:a,id:r,function:"getInkingMode"})},c.prototype.getInkThreshold=function(){return d.STU.send({scope:a,id:r,function:"getInkThreshold"})},c.prototype.setInkThreshold=function(l){return d.STU.send({scope:a,id:r,function:"setInkThreshold",inkThreshold:l})},c.prototype.writeImage=function(l,f){var S=null;return typeof f=="string"?S=f:S=f.toJSON(),d.STU.send({scope:a,id:r,function:"writeImage",encodingMode:l,b64Data:S})},c.prototype.writeImageArea=function(l,f,S){var g=null;return typeof S=="string"?g=S:g=S.toJSON(),d.STU.send({scope:a,id:r,function:"writeImageArea",encodingMode:l,area:f,b64Data:g})},c.prototype.endImageData=function(l){return d.STU.send({scope:a,id:r,function:"endImageData"})},c.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingThicknessColor"})},c.prototype.setHandwritingThicknessColor=function(l){return d.STU.send({scope:a,id:r,function:"setHandwritingThicknessColor",handwritingThicknessColor:l})},c.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingThicknessColor24"})},c.prototype.setHandwritingThicknessColor24=function(l){return d.STU.send({scope:a,id:r,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:l})},c.prototype.getBackgroundColor=function(){return d.STU.send({scope:a,id:r,function:"getBackgroundColor"})},c.prototype.setBackgroundColor=function(l){return d.STU.send({scope:a,id:r,function:"setBackgroundColor",backgroundColor:l})},c.prototype.getBackgroundColor24=function(){return d.STU.send({scope:a,id:r,function:"getBackgroundColor24"})},c.prototype.setBackgroundColor24=function(l){return d.STU.send({scope:a,id:r,function:"setBackgroundColor24",backgroundColor24:l})},c.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:a,id:r,function:"getHandwritingDisplayArea"})},c.prototype.setHandwritingDisplayArea=function(l){return d.STU.send({scope:a,id:r,function:"setHandwritingDisplayArea",handwritingDisplayArea:l})},c.prototype.getBacklightBrightness=function(){return d.STU.send({scope:a,id:r,function:"getBacklightBrightness"})},c.prototype.setBacklightBrightness=function(l){return d.STU.send({scope:a,id:r,function:"setBacklightBrightness",backlightBrightness:l})},c.prototype.getScreenContrast=function(){return d.STU.send({scope:a,id:r,function:"getScreenContrast"})},c.prototype.setScreenContrast=function(l){return d.STU.send({scope:a,id:r,function:"setScreenContrast",screenContrast:l})},c.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:a,id:r,function:"getPenDataOptionMode"})},c.prototype.getEncryptionStatus=function(){return d.STU.send({scope:a,id:r,function:"getEncryptionStatus"})},c.prototype.getEncryptionCommand=function(l){return d.STU.send({scope:a,id:r,function:"getEncryptionCommand",encryptionCommandNumber:l})},c.prototype.decrypt=function(l){return d.STU.send({scope:a,id:r,decrypt:"decrypt",data:l})},c.prototype.setReportRate=function(l){return d.STU.send({scope:a,id:r,function:"setReportRate",reportRate:l})},c.prototype.getReportRate=function(){return d.STU.send({scope:a,id:r,function:"getReportRate"})},c.prototype.setRenderingMode=function(l){return d.STU.send({scope:a,id:r,function:"setRenderingMode",renderingMode:l})},c.prototype.getRenderingMode=function(){return d.STU.send({scope:a,id:r,function:"getRenderingMode"})},c.prototype.setOperationMode=function(l){return d.STU.send({scope:a,id:r,function:"setOperationMode",operationMode:l})},c.prototype.getOperationMode=function(){return d.STU.send({scope:a,id:r,function:"getOperationMode"})},c.prototype.writeRomImage=function(l,f){return d.STU.send({scope:a,id:r,function:"writeRomImage",romStartImageData:l,imageData:f})},c.prototype.setRomImageHash=function(l,f,S){return d.STU.send({scope:a,id:r,function:"setRomImageHash",operationModeType:l,imageType:f,imageNumber:S})},c.prototype.getRomImageHash=function(){return d.STU.send({scope:a,id:r,function:"getRomImageHash"})},c.prototype.setRomImageDelete=function(l,f,S){return d.STU.send({scope:a,id:r,function:"setRomImageDelete",romImageDeleteMode:l,imageType:f,imageNumber:S})},c.prototype.getCurrentImageArea=function(){return d.STU.send({scope:a,id:r,function:"getCurrentImageArea"})},c.prototype.setRomImageDisplay=function(l,f,S){return d.STU.send({scope:a,id:r,function:"setRomImageDisplay",operationModeType:l,imageType:f,imageNumber:S})},c.prototype.getEserial=function(){return d.STU.send({scope:a,id:r,function:"getEserial"})},c}(),I.prototype.SerialInterface=function(){var a="WacomGSS.STU.SerialInterface",r="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(l){return r=l.id,l})},c.prototype.BaudRate_STU500=115200,c.prototype.BaudRate_STU430_530_prerelease=460800,c.prototype.BaudRate_STU430_530=3e6,c.prototype.connect=function(l,f,S){return d.STU.send({scope:a,id:r,function:"connect",fileName:l,baudRate:f,useCrc:S})},c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:r,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:r,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:a,id:r,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(l){return d.STU.send({scope:a,id:r,function:"queueSetPredicateAll",predicate:l})},c.prototype.get=function(l){return d.STU.send({scope:a,id:r,function:"get_",length:l})},c.prototype.set=function(l){return d.STU.send({scope:a,id:r,function:"set",base64Data:l})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:r,function:"supportsWrite"})},c.prototype.write=function(l){return d.STU.send({scope:a,id:r,function:"write",base64Data:l})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:r,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:r,function:"getProductId"})},c}(),I.prototype.TlsInterface=function(){var a="WacomGSS.STU.TlsInterface",r="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:a,function:"Constructor"}).then(function(l){return r=l.id,l})},c.prototype.ConnectOption={ConnectOption_OOB:1,ConnectOption_SSL:2},c.prototype.connect=function(l,f){return d.STU.send({scope:a,id:r,function:"connect",fileName:l,connectOption:f})},c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.disconnect=function(){return d.STU.send({scope:a,id:r,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:a,id:r,function:"isConnected"})},c.prototype.get=function(l){return d.STU.send({scope:a,id:r,function:"get_",length:l})},c.prototype.set=function(l){return d.STU.send({scope:a,id:r,function:"set",base64Data:l})},c.prototype.supportsWrite=function(){return d.STU.send({scope:a,id:r,function:"supportsWrite"})},c.prototype.write=function(l){return d.STU.send({scope:a,id:r,function:"write",base64Data:l})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:a,id:r,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:a,id:r,function:"getProductId"})},c}(),I.prototype.DataStore=function(){var a="WacomGSS.STU.DataStore",r=null;function c(){}return c.prototype.setId=function(l){r=l},c.prototype.toJSON=function(){return{id:r,scope:a}},c.prototype.Constructor=function(l){return d.STU.send({scope:a,function:"Constructor",b64Data:l})},c.prototype.getData=function(){return d.STU.send({scope:a,id:r,function:"getData"})},c.prototype.getRemove=function(){return d.STU.send({scope:a,id:r,function:"getRemove"}).then(function(l){return r=null,l})},c.prototype.remove=function(){return d.STU.send({scope:a,id:r,function:"remove"}).then(function(l){return r=null,l})},c.prototype.setData=function(l){return d.STU.send({scope:a,id:r,function:"setData",b64Data:l})},c}(),I.prototype.SerialProtocol={getHeaderLength:function(){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"getHeaderLength"})},isStartReport:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"isStartReport",byte:a})},decodeHasCrc:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeHasCrc",header1:a})},decodeEncodedDataLength:function(a,r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeEncodedDataLength",header1:a,header2:r})},calcEncodedDataLength:function(a,r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"calcEncodedDataLength",useCrc:a,length:r})},encodeHeader:function(a,r,c){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeHeader",encodedData:a,useCrc:r,encodedDataLength:c})},encodeReport:function(a,r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeReport",report:a,useCrc:r})},decodeData:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeData",data:a})},checkCrcAndRemove:function(a){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"checkCrcAndRemove",container:a})}},I.prototype.EncryptionHandler=function(){var a="WacomGSS.STU.EncryptionHandler",r=null,c=null,l=null,f=new Object;function S(g){l=g,this.stream=function(C){try{f[C.function](C)}catch(x){throw new Error("EncryptionHandler."+C.function+" : "+x+`
message was:
`+JSON.stringify(C))}}}return S.prototype.Constructor=function(){return r=d.STU.setStream(this),d.STU.send({scope:a,function:"Constructor",streamId:r}).then(function(g){return c=g.id,g})},S.prototype.toJSON=function(){return{id:c,scope:a}},f.reset=function(g){l.reset(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},f.clearKeys=function(g){l.clearKeys(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},f.requireDH=function(g){var C=l.requireDH();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},f.setDH=function(g){l.setDH(g.data.dhPrime,g.data.dhBase),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},f.generateHostPublicKey=function(g){var C=l.generateHostPublicKey();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},f.computeSharedKey=function(g){l.computeSharedKey(g.data),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},f.decrypt=function(g){var C=l.decrypt(g.data);d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},S}(),I.prototype.EncryptionHandler2=function(){var a="WacomGSS.STU.EncryptionHandler2",r=null,c=null,l=null,f=new Object;function S(g){l=g,this.stream=function(C){try{f[C.function](C)}catch(x){throw new Error("EncryptionHandler2."+C.function+" : "+x+`
message was:
`+JSON.stringify(C))}}}return S.prototype.Constructor=function(){return r=d.STU.setStream(this),d.STU.send({scope:a,function:"Constructor",streamId:r}).then(function(g){return c=g.id,g})},S.prototype.toJSON=function(){return{id:c,scope:a}},f.reset=function(g){l.reset(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},f.clearKeys=function(g){l.clearKeys(),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},f.getParameters=function(g){var C=l.getParameters(g.data.symmetricKeyType,g.data.asymmetricPaddingType,g.data.asymmetricKeyType),x=C[0],U=C[1],H=C[2];d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:{symmetricKeyType:x,asymmetricPaddingType:U,asymmetricKeyType:H}})},f.getPublicExponent=function(g){var C=l.getPublicExponent();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},f.generatePublicKey=function(g){var C=l.generatePublicKey();d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},f.computeSessionKey=function(g){l.computeSessionKey(g.data),d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},f.decrypt=function(g){var C=l.decrypt(g.data);d.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},S}(),I}();d.STU=new d.STUConstructor;var Qe={},Oo=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},bn={},_e={};let At;const Fo=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];_e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};_e.getSymbolTotalCodewords=function(t){return Fo[t]};_e.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};_e.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');At=t};_e.isKanjiModeEnabled=function(){return typeof At!="undefined"};_e.toSJIS=function(t){return At(t)};var yt={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},e.from=function(o,i){if(e.isValid(o))return o;try{return t(o)}catch{return i}}})(yt);function Tn(){this.buffer=[],this.length=0}Tn.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Lo=Tn;function nt(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}nt.prototype.set=function(e,t,n,o){const i=e*this.size+t;this.data[i]=n,o&&(this.reservedBit[i]=!0)};nt.prototype.get=function(e,t){return this.data[e*this.size+t]};nt.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};nt.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var $o=nt,Cn={};(function(e){const t=_e.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const i=Math.floor(o/7)+2,s=t(o),p=s===145?26:Math.ceil((s-13)/(2*i-2))*2,h=[s-7];for(let v=1;v<i-1;v++)h[v]=h[v-1]-p;return h.push(6),h.reverse()},e.getPositions=function(o){const i=[],s=e.getRowColCoords(o),p=s.length;for(let h=0;h<p;h++)for(let v=0;v<p;v++)h===0&&v===0||h===0&&v===p-1||h===p-1&&v===0||i.push([s[h],s[v]]);return i}})(Cn);var xn={};const Ho=_e.getSymbolSize,Qt=7;xn.getPositions=function(t){const n=Ho(t);return[[0,0],[n-Qt,0],[0,n-Qt]]};var _n={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let p=0,h=0,v=0,I=null,B=null;for(let O=0;O<s;O++){h=v=0,I=B=null;for(let a=0;a<s;a++){let r=i.get(O,a);r===I?h++:(h>=5&&(p+=t.N1+(h-5)),I=r,h=1),r=i.get(a,O),r===B?v++:(v>=5&&(p+=t.N1+(v-5)),B=r,v=1)}h>=5&&(p+=t.N1+(h-5)),v>=5&&(p+=t.N1+(v-5))}return p},e.getPenaltyN2=function(i){const s=i.size;let p=0;for(let h=0;h<s-1;h++)for(let v=0;v<s-1;v++){const I=i.get(h,v)+i.get(h,v+1)+i.get(h+1,v)+i.get(h+1,v+1);(I===4||I===0)&&p++}return p*t.N2},e.getPenaltyN3=function(i){const s=i.size;let p=0,h=0,v=0;for(let I=0;I<s;I++){h=v=0;for(let B=0;B<s;B++)h=h<<1&2047|i.get(I,B),B>=10&&(h===1488||h===93)&&p++,v=v<<1&2047|i.get(B,I),B>=10&&(v===1488||v===93)&&p++}return p*t.N3},e.getPenaltyN4=function(i){let s=0;const p=i.data.length;for(let v=0;v<p;v++)s+=i.data[v];return Math.abs(Math.ceil(s*100/p/5)-10)*t.N4};function n(o,i,s){switch(o){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(i,s){const p=s.size;for(let h=0;h<p;h++)for(let v=0;v<p;v++)s.isReserved(v,h)||s.xor(v,h,n(i,v,h))},e.getBestMask=function(i,s){const p=Object.keys(e.Patterns).length;let h=0,v=1/0;for(let I=0;I<p;I++){s(I),e.applyMask(I,i);const B=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(I,i),B<v&&(v=B,h=I)}return h}})(_n);var St={};const Le=yt,ot=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],rt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];St.getBlocksCount=function(t,n){switch(n){case Le.L:return ot[(t-1)*4+0];case Le.M:return ot[(t-1)*4+1];case Le.Q:return ot[(t-1)*4+2];case Le.H:return ot[(t-1)*4+3];default:return}};St.getTotalCodewordsCount=function(t,n){switch(n){case Le.L:return rt[(t-1)*4+0];case Le.M:return rt[(t-1)*4+1];case Le.Q:return rt[(t-1)*4+2];case Le.H:return rt[(t-1)*4+3];default:return}};var In={},vt={};const Ze=new Uint8Array(512),ct=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Ze[n]=t,ct[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Ze[n]=Ze[n-255]})();vt.log=function(t){if(t<1)throw new Error("log("+t+")");return ct[t]};vt.exp=function(t){return Ze[t]};vt.mul=function(t,n){return t===0||n===0?0:Ze[ct[t]+ct[n]]};(function(e){const t=vt;e.mul=function(o,i){const s=new Uint8Array(o.length+i.length-1);for(let p=0;p<o.length;p++)for(let h=0;h<i.length;h++)s[p+h]^=t.mul(o[p],i[h]);return s},e.mod=function(o,i){let s=new Uint8Array(o);for(;s.length-i.length>=0;){const p=s[0];for(let v=0;v<i.length;v++)s[v]^=t.mul(i[v],p);let h=0;for(;h<s.length&&s[h]===0;)h++;s=s.slice(h)}return s},e.generateECPolynomial=function(o){let i=new Uint8Array([1]);for(let s=0;s<o;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(In);const Rn=In;function Nt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Nt.prototype.initialize=function(t){this.degree=t,this.genPoly=Rn.generateECPolynomial(this.degree)};Nt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=Rn.mod(n,this.genPoly),i=this.degree-o.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(o,i),s}return o};var Vo=Nt,Pn={},$e={},Ot={};Ot.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var De={};const En="[0-9]+",zo="[A-Z $%*+\\-./:]+";let et="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";et=et.replace(/u/g,"\\u");const jo="(?:(?![A-Z0-9 $%*+\\-./:]|"+et+`)(?:.|[\r
]))+`;De.KANJI=new RegExp(et,"g");De.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");De.BYTE=new RegExp(jo,"g");De.NUMERIC=new RegExp(En,"g");De.ALPHANUMERIC=new RegExp(zo,"g");const qo=new RegExp("^"+et+"$"),Ko=new RegExp("^"+En+"$"),Wo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");De.testKanji=function(t){return qo.test(t)};De.testNumeric=function(t){return Ko.test(t)};De.testAlphanumeric=function(t){return Wo.test(t)};(function(e){const t=Ot,n=De;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,p){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?s.ccBits[0]:p<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function o(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,p){if(e.isValid(s))return s;try{return o(s)}catch{return p}}})($e);(function(e){const t=_e,n=St,o=yt,i=$e,s=Ot,p=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,h=t.getBCHDigit(p);function v(a,r,c){for(let l=1;l<=40;l++)if(r<=e.getCapacity(l,c,a))return l}function I(a,r){return i.getCharCountIndicator(a,r)+4}function B(a,r){let c=0;return a.forEach(function(l){c+=I(l.mode,r)+l.getBitsLength()}),c}function O(a,r){for(let c=1;c<=40;c++)if(B(a,c)<=e.getCapacity(c,r,i.MIXED))return c}e.from=function(r,c){return s.isValid(r)?parseInt(r,10):c},e.getCapacity=function(r,c,l){if(!s.isValid(r))throw new Error("Invalid QR Code version");typeof l=="undefined"&&(l=i.BYTE);const f=t.getSymbolTotalCodewords(r),S=n.getTotalCodewordsCount(r,c),g=(f-S)*8;if(l===i.MIXED)return g;const C=g-I(l,r);switch(l){case i.NUMERIC:return Math.floor(C/10*3);case i.ALPHANUMERIC:return Math.floor(C/11*2);case i.KANJI:return Math.floor(C/13);case i.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(r,c){let l;const f=o.from(c,o.M);if(Array.isArray(r)){if(r.length>1)return O(r,f);if(r.length===0)return 1;l=r[0]}else l=r;return v(l.mode,l.getLength(),f)},e.getEncodedBits=function(r){if(!s.isValid(r)||r<7)throw new Error("Invalid QR Code version");let c=r<<12;for(;t.getBCHDigit(c)-h>=0;)c^=p<<t.getBCHDigit(c)-h;return r<<12|c}})(Pn);var kn={};const Et=_e,Dn=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Jo=1<<14|1<<12|1<<10|1<<4|1<<1,Xt=Et.getBCHDigit(Dn);kn.getEncodedBits=function(t,n){const o=t.bit<<3|n;let i=o<<10;for(;Et.getBCHDigit(i)-Xt>=0;)i^=Dn<<Et.getBCHDigit(i)-Xt;return(o<<10|i)^Jo};var Un={};const Go=$e;function qe(e){this.mode=Go.NUMERIC,this.data=e.toString()}qe.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};qe.prototype.getLength=function(){return this.data.length};qe.prototype.getBitsLength=function(){return qe.getBitsLength(this.data.length)};qe.prototype.write=function(t){let n,o,i;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),i=parseInt(o,10),t.put(i,10);const s=this.data.length-n;s>0&&(o=this.data.substr(n),i=parseInt(o,10),t.put(i,s*3+1))};var Qo=qe;const Xo=$e,Tt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ke(e){this.mode=Xo.ALPHANUMERIC,this.data=e}Ke.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ke.prototype.getLength=function(){return this.data.length};Ke.prototype.getBitsLength=function(){return Ke.getBitsLength(this.data.length)};Ke.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=Tt.indexOf(this.data[n])*45;o+=Tt.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(Tt.indexOf(this.data[n]),6)};var Yo=Ke;const Zo=$e;function We(e){this.mode=Zo.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}We.getBitsLength=function(t){return t*8};We.prototype.getLength=function(){return this.data.length};We.prototype.getBitsLength=function(){return We.getBitsLength(this.data.length)};We.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var er=We;const tr=$e,nr=_e;function Je(e){this.mode=tr.KANJI,this.data=e}Je.getBitsLength=function(t){return t*13};Je.prototype.getLength=function(){return this.data.length};Je.prototype.getBitsLength=function(){return Je.getBitsLength(this.data.length)};Je.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=nr.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var or=Je,Mn={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,o,i){var s={},p={};p[o]=0;var h=t.PriorityQueue.make();h.push(o,0);for(var v,I,B,O,a,r,c,l,f;!h.empty();){v=h.pop(),I=v.value,O=v.cost,a=n[I]||{};for(B in a)a.hasOwnProperty(B)&&(r=a[B],c=O+r,l=p[B],f=typeof p[B]=="undefined",(f||l>c)&&(p[B]=c,h.push(B,c),s[B]=I))}if(typeof i!="undefined"&&typeof p[i]=="undefined"){var S=["Could not find a path from ",o," to ",i,"."].join("");throw new Error(S)}return s},extract_shortest_path_from_predecessor_list:function(n,o){for(var i=[],s=o;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,o,i){var s=t.single_source_shortest_paths(n,o,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,i={},s;n=n||{};for(s in o)o.hasOwnProperty(s)&&(i[s]=o[s]);return i.queue=[],i.sorter=n.sorter||o.default_sorter,i},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var i={value:n,cost:o};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Mn);(function(e){const t=$e,n=Qo,o=Yo,i=er,s=or,p=De,h=_e,v=Mn.exports;function I(S){return unescape(encodeURIComponent(S)).length}function B(S,g,C){const x=[];let U;for(;(U=S.exec(C))!==null;)x.push({data:U[0],index:U.index,mode:g,length:U[0].length});return x}function O(S){const g=B(p.NUMERIC,t.NUMERIC,S),C=B(p.ALPHANUMERIC,t.ALPHANUMERIC,S);let x,U;return h.isKanjiModeEnabled()?(x=B(p.BYTE,t.BYTE,S),U=B(p.KANJI,t.KANJI,S)):(x=B(p.BYTE_KANJI,t.BYTE,S),U=[]),g.concat(C,x,U).sort(function(V,W){return V.index-W.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function a(S,g){switch(g){case t.NUMERIC:return n.getBitsLength(S);case t.ALPHANUMERIC:return o.getBitsLength(S);case t.KANJI:return s.getBitsLength(S);case t.BYTE:return i.getBitsLength(S)}}function r(S){return S.reduce(function(g,C){const x=g.length-1>=0?g[g.length-1]:null;return x&&x.mode===C.mode?(g[g.length-1].data+=C.data,g):(g.push(C),g)},[])}function c(S){const g=[];for(let C=0;C<S.length;C++){const x=S[C];switch(x.mode){case t.NUMERIC:g.push([x,{data:x.data,mode:t.ALPHANUMERIC,length:x.length},{data:x.data,mode:t.BYTE,length:x.length}]);break;case t.ALPHANUMERIC:g.push([x,{data:x.data,mode:t.BYTE,length:x.length}]);break;case t.KANJI:g.push([x,{data:x.data,mode:t.BYTE,length:I(x.data)}]);break;case t.BYTE:g.push([{data:x.data,mode:t.BYTE,length:I(x.data)}])}}return g}function l(S,g){const C={},x={start:{}};let U=["start"];for(let H=0;H<S.length;H++){const V=S[H],W=[];for(let k=0;k<V.length;k++){const m=V[k],R=""+H+k;W.push(R),C[R]={node:m,lastCount:0},x[R]={};for(let N=0;N<U.length;N++){const z=U[N];C[z]&&C[z].node.mode===m.mode?(x[z][R]=a(C[z].lastCount+m.length,m.mode)-a(C[z].lastCount,m.mode),C[z].lastCount+=m.length):(C[z]&&(C[z].lastCount=m.length),x[z][R]=a(m.length,m.mode)+4+t.getCharCountIndicator(m.mode,g))}}U=W}for(let H=0;H<U.length;H++)x[U[H]].end=0;return{map:x,table:C}}function f(S,g){let C;const x=t.getBestModeForData(S);if(C=t.from(g,x),C!==t.BYTE&&C.bit<x.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(x));switch(C===t.KANJI&&!h.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new n(S);case t.ALPHANUMERIC:return new o(S);case t.KANJI:return new s(S);case t.BYTE:return new i(S)}}e.fromArray=function(g){return g.reduce(function(C,x){return typeof x=="string"?C.push(f(x,null)):x.data&&C.push(f(x.data,x.mode)),C},[])},e.fromString=function(g,C){const x=O(g,h.isKanjiModeEnabled()),U=c(x),H=l(U,C),V=v.find_path(H.map,"start","end"),W=[];for(let k=1;k<V.length-1;k++)W.push(H.table[V[k]].node);return e.fromArray(r(W))},e.rawSplit=function(g){return e.fromArray(O(g,h.isKanjiModeEnabled()))}})(Un);const wt=_e,Ct=yt,rr=Lo,ir=$o,ar=Cn,sr=xn,kt=_n,Dt=St,lr=Vo,ft=Pn,dr=kn,ur=$e,xt=Un;function cr(e,t){const n=e.size,o=sr.getPositions(t);for(let i=0;i<o.length;i++){const s=o[i][0],p=o[i][1];for(let h=-1;h<=7;h++)if(!(s+h<=-1||n<=s+h))for(let v=-1;v<=7;v++)p+v<=-1||n<=p+v||(h>=0&&h<=6&&(v===0||v===6)||v>=0&&v<=6&&(h===0||h===6)||h>=2&&h<=4&&v>=2&&v<=4?e.set(s+h,p+v,!0,!0):e.set(s+h,p+v,!1,!0))}}function fr(e){const t=e.size;for(let n=8;n<t-8;n++){const o=n%2===0;e.set(n,6,o,!0),e.set(6,n,o,!0)}}function pr(e,t){const n=ar.getPositions(t);for(let o=0;o<n.length;o++){const i=n[o][0],s=n[o][1];for(let p=-2;p<=2;p++)for(let h=-2;h<=2;h++)p===-2||p===2||h===-2||h===2||p===0&&h===0?e.set(i+p,s+h,!0,!0):e.set(i+p,s+h,!1,!0)}}function hr(e,t){const n=e.size,o=ft.getEncodedBits(t);let i,s,p;for(let h=0;h<18;h++)i=Math.floor(h/3),s=h%3+n-8-3,p=(o>>h&1)===1,e.set(i,s,p,!0),e.set(s,i,p,!0)}function _t(e,t,n){const o=e.size,i=dr.getEncodedBits(t,n);let s,p;for(s=0;s<15;s++)p=(i>>s&1)===1,s<6?e.set(s,8,p,!0):s<8?e.set(s+1,8,p,!0):e.set(o-15+s,8,p,!0),s<8?e.set(8,o-s-1,p,!0):s<9?e.set(8,15-s-1+1,p,!0):e.set(8,15-s-1,p,!0);e.set(o-8,8,1,!0)}function gr(e,t){const n=e.size;let o=-1,i=n-1,s=7,p=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let v=0;v<2;v++)if(!e.isReserved(i,h-v)){let I=!1;p<t.length&&(I=(t[p]>>>s&1)===1),e.set(i,h-v,I),s--,s===-1&&(p++,s=7)}if(i+=o,i<0||n<=i){i-=o,o=-o;break}}}function mr(e,t,n){const o=new rr;n.forEach(function(v){o.put(v.mode.bit,4),o.put(v.getLength(),ur.getCharCountIndicator(v.mode,e)),v.write(o)});const i=wt.getSymbolTotalCodewords(e),s=Dt.getTotalCodewordsCount(e,t),p=(i-s)*8;for(o.getLengthInBits()+4<=p&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const h=(p-o.getLengthInBits())/8;for(let v=0;v<h;v++)o.put(v%2?17:236,8);return yr(o,e,t)}function yr(e,t,n){const o=wt.getSymbolTotalCodewords(t),i=Dt.getTotalCodewordsCount(t,n),s=o-i,p=Dt.getBlocksCount(t,n),h=o%p,v=p-h,I=Math.floor(o/p),B=Math.floor(s/p),O=B+1,a=I-B,r=new lr(a);let c=0;const l=new Array(p),f=new Array(p);let S=0;const g=new Uint8Array(e.buffer);for(let V=0;V<p;V++){const W=V<v?B:O;l[V]=g.slice(c,c+W),f[V]=r.encode(l[V]),c+=W,S=Math.max(S,W)}const C=new Uint8Array(o);let x=0,U,H;for(U=0;U<S;U++)for(H=0;H<p;H++)U<l[H].length&&(C[x++]=l[H][U]);for(U=0;U<a;U++)for(H=0;H<p;H++)C[x++]=f[H][U];return C}function Sr(e,t,n,o){let i;if(Array.isArray(e))i=xt.fromArray(e);else if(typeof e=="string"){let I=t;if(!I){const B=xt.rawSplit(e);I=ft.getBestVersionForData(B,n)}i=xt.fromString(e,I||40)}else throw new Error("Invalid data");const s=ft.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const p=mr(t,n,i),h=wt.getSymbolSize(t),v=new ir(h);return cr(v,t),fr(v),pr(v,t),_t(v,n,0),t>=7&&hr(v,t),gr(v,p),isNaN(o)&&(o=kt.getBestMask(v,_t.bind(null,v,n))),kt.applyMask(o,v),_t(v,n,o),{modules:v,version:t,errorCorrectionLevel:n,maskPattern:o,segments:i}}bn.create=function(t,n){if(typeof t=="undefined"||t==="")throw new Error("No input text");let o=Ct.M,i,s;return typeof n!="undefined"&&(o=Ct.from(n.errorCorrectionLevel,Ct.M),i=ft.from(n.version),s=kt.from(n.maskPattern),n.toSJISFunc&&wt.setToSJISFunction(n.toSJISFunc)),Sr(t,i,o,s)};var Bn={},Ft={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(s){return[s,s]}))),o.length===6&&o.push("F","F");const i=parseInt(o.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const i=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,s=o.width&&o.width>=21?o.width:void 0,p=o.scale||4;return{width:s,scale:s?4:p,margin:i,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,i){return i.width&&i.width>=o+i.margin*2?i.width/(o+i.margin*2):i.scale},e.getImageWidth=function(o,i){const s=e.getScale(o,i);return Math.floor((o+i.margin*2)*s)},e.qrToImageData=function(o,i,s){const p=i.modules.size,h=i.modules.data,v=e.getScale(p,s),I=Math.floor((p+s.margin*2)*v),B=s.margin*v,O=[s.color.light,s.color.dark];for(let a=0;a<I;a++)for(let r=0;r<I;r++){let c=(a*I+r)*4,l=s.color.light;if(a>=B&&r>=B&&a<I-B&&r<I-B){const f=Math.floor((a-B)/v),S=Math.floor((r-B)/v);l=O[h[f*p+S]?1:0]}o[c++]=l.r,o[c++]=l.g,o[c++]=l.b,o[c]=l.a}}})(Ft);(function(e){const t=Ft;function n(i,s,p){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=p,s.width=p,s.style.height=p+"px",s.style.width=p+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,p,h){let v=h,I=p;typeof v=="undefined"&&(!p||!p.getContext)&&(v=p,p=void 0),p||(I=o()),v=t.getOptions(v);const B=t.getImageWidth(s.modules.size,v),O=I.getContext("2d"),a=O.createImageData(B,B);return t.qrToImageData(a.data,s,v),n(O,I,B),O.putImageData(a,0,0),I},e.renderToDataURL=function(s,p,h){let v=h;typeof v=="undefined"&&(!p||!p.getContext)&&(v=p,p=void 0),v||(v={});const I=e.render(s,p,v),B=v.type||"image/png",O=v.rendererOpts||{};return I.toDataURL(B,O.quality)}})(Bn);var An={};const vr=Ft;function Yt(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function It(e,t,n){let o=e+t;return typeof n!="undefined"&&(o+=" "+n),o}function wr(e,t,n){let o="",i=0,s=!1,p=0;for(let h=0;h<e.length;h++){const v=Math.floor(h%t),I=Math.floor(h/t);!v&&!s&&(s=!0),e[h]?(p++,h>0&&v>0&&e[h-1]||(o+=s?It("M",v+n,.5+I+n):It("m",i,0),i=0,s=!1),v+1<t&&e[h+1]||(o+=It("h",p),p=0)):i++}return o}An.render=function(t,n,o){const i=vr.getOptions(n),s=t.modules.size,p=t.modules.data,h=s+i.margin*2,v=i.color.light.a?"<path "+Yt(i.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",I="<path "+Yt(i.color.dark,"stroke")+' d="'+wr(p,s,i.margin)+'"/>',B='viewBox="0 0 '+h+" "+h+'"',O=i.width?'width="'+i.width+'" height="'+i.width+'" ':"",a='<svg xmlns="http://www.w3.org/2000/svg" '+O+B+' shape-rendering="crispEdges">'+v+I+`</svg>
`;return typeof o=="function"&&o(null,a),a};const br=Oo,Ut=bn,Nn=Bn,Tr=An;function Lt(e,t,n,o,i){const s=[].slice.call(arguments,1),p=s.length,h=typeof s[p-1]=="function";if(!h&&!br())throw new Error("Callback required as last argument");if(h){if(p<2)throw new Error("Too few arguments provided");p===2?(i=n,n=t,t=o=void 0):p===3&&(t.getContext&&typeof i=="undefined"?(i=o,o=void 0):(i=o,o=n,n=t,t=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(n=t,t=o=void 0):p===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(v,I){try{const B=Ut.create(n,o);v(e(B,t,o))}catch(B){I(B)}})}try{const v=Ut.create(n,o);i(null,e(v,t,o))}catch(v){i(v)}}Qe.create=Ut.create;Qe.toCanvas=Lt.bind(null,Nn.render);Qe.toDataURL=Lt.bind(null,Nn.renderToDataURL);Qe.toString=Lt.bind(null,function(e,t,n){return Tr.render(e,n)});const Cr={id:"IdCardBack",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif",transform:"scale(0.5)",top:"-200px",left:"185px"}},xr={class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"57px","font-size":"22pt","line-height":"23pt"}},_r=M("div",{style:{position:"absolute",top:"242px",left:"347px"}},[M("img",{id:"qr-img",style:{height:"300px",width:"300px"},alt:""})],-1),Ir={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},Rr={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},Pr={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},Er={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},kr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},Dr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},Ur={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},Mr={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},Br=M("img",{id:"signatureImage",class:"signatureImage",src:wn,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,-1),Ar=[Br],Nr=M("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1),Zt=Object.assign({name:"IdCardBack"},{__name:"IdCardBack",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async b=>{try{var _=document.getElementById("qr-img");_.src=await Qe.toDataURL(b)}catch(E){console.error(E)}},o=e,i=t;function s(){i("onPenDataSave",W)}var p=ze(!1),h="Cancel",v="Clear",I="OK",B=20,O=1e3,a=500,r,c,l,f,S,g,C=-1,x,U,H,V,W,k,m=0,R;Ee(()=>o.details,(b,_)=>{b.sig_src&&(W=b.sig_src,x={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},V={offPressureMark:16,onPressureMark:21},Oe()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function N(){m=m+1,d.STU.isServiceReady()?(m=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),m<B?setTimeout(N,O):alert("Unable to establish connection to SigCaptX"))}setTimeout(N,a);function z(){console.log("DCA disconnected"),setTimeout(Pe,0)}function P(b,_,E,L){this.x=b,this.y=_,this.width=E,this.height=L,this.Contains=function(T){return T.x>=this.x&&T.x<=this.x+this.width&&T.y>=this.y&&T.y<=this.y+this.height}}function J(){this.Bounds,this.Text,this.Click}function Y(b,_){this.x=b,this.y=_}function G(b,_){l=document.createElement("div"),l.id="signatureWindow",l.className="active",l.style.position="relative",l.style.top=0+"px",l.style.left=0+"px",l.style.width=b+"px",l.style.height=_+"px",document.getElementById("sigPreviewContainer").appendChild(l),r=document.createElement("canvas"),r.id="myCanvas",r.height=l.offsetHeight,r.width=l.offsetWidth,r.style.zIndex=999,l.appendChild(r),c=r.getContext("2d"),console.log("canvas.addEventListener:",r.addEventListener),r.addEventListener?(r.addEventListener("click",Me,!1),console.log("onCanvasClick 0")):r.attachEvent?(r.attachEvent("onClick",Me),console.log("onCanvasClick 1")):(r.onClick=Me,console.log("onCanvasClick 2"))}function Se(){var b=Q.defer();if(R!=null){var _=new d.STU.Protocol;R.setInkingMode(_.InkingMode.InkingMode_Off).then(function(E){return console.log("received: "+JSON.stringify(E)),R.endCapture()}).then(function(E){return console.log("received: "+JSON.stringify(E)),H!==null?H.remove():E}).then(function(E){return console.log("received: "+JSON.stringify(E)),H=null,R.setClearScreen()}).then(function(E){return console.log("received: "+JSON.stringify(E)),R.disconnect()}).then(function(E){console.log("received: "+JSON.stringify(E)),R=null,pe(r,c)}).then(function(E){b.resolve()}).fail(function(E){console.log("disconnect error: "+E),b.resolve()})}else b.resolve();return b.promise}window.addEventListener("beforeunload",function(b){var _="";return d.STU.close(),(b||window.event).returnValue=_,_});function fe(){}fe.prototype=new Error;function ne(){p.value=!0,re()}function re(){var b=new d.STU.Protocol,_,E,L;d.STU.isDCAReady().then(function(T){if(!T)throw new fe;return d.STU.onDCAtimeout=z,d.STU.getUsbDevices()}).then(function(T){if(T==null||T.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(T)),k=T,d.STU.isSupportedUsbDevice(k[0].idVendor,k[0].idProduct)}).then(function(T){return console.log("received: "+JSON.stringify(T)),_=new d.STU.UsbInterface,_.Constructor()}).then(function(T){return console.log("received: "+JSON.stringify(T)),_.connect(k[0],!0)}).then(function(T){return console.log("received: "+JSON.stringify(T)),R=new d.STU.Tablet,R.Constructor(_,E,L)}).then(function(T){return console.log("received: "+JSON.stringify(T)),_=null,R.getInkThreshold()}).then(function(T){return console.log("m_inkThreshold received: "+JSON.stringify(T)),V=T,R.getCapability()}).then(function(T){return console.log("m_capability received: "+JSON.stringify(T)),x=T,G(x.screenWidth,x.screenHeight),R.getInformation()}).then(function(T){return console.log("received: "+JSON.stringify(T)),R.getInkThreshold()}).then(function(T){return console.log("received: "+JSON.stringify(T)),R.getProductId()}).then(function(T){return console.log("received: "+JSON.stringify(T)),d.STU.ProtocolHelper.simulateEncodingFlag(T,x.encodingFlag)}).then(function(T){console.log("received: "+JSON.stringify(T));var $=T;if(($&b.EncodingFlag.EncodingFlag_24bit)!=0)return R.supportsWrite().then(function(Z){U=Z?b.EncodingMode.EncodingMode_24bit_Bulk:b.EncodingMode.EncodingMode_24bit});if(($&b.EncodingFlag.EncodingFlag_16bit)!=0)return R.supportsWrite().then(function(Z){U=Z?b.EncodingMode.EncodingMode_16bit_Bulk:b.EncodingMode.EncodingMode_16bit});U=b.EncodingMode.EncodingMode_1bit}).then(function(T){return R.setClearScreen()}).then(function(T){return console.log("received from setClearScreen: "+JSON.stringify(T)),T}).then(function(T){return console.log("received: "+JSON.stringify(T)),R.isSupported(b.ReportId.ReportId_PenDataOptionMode)}).then(function(T){return console.log("received: "+JSON.stringify(T)),T?R.getProductId().then(function($){var Z=b.PenDataOptionMode.PenDataOptionMode_None;switch($){case d.STU.ProductId.ProductId_520A:Z=b.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case d.STU.ProductId.ProductId_430:case d.STU.ProductId.ProductId_530:case d.STU.ProductId.ProductId_540:Z=b.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return R.setPenDataOptionMode(Z)}):(U=b.EncodingMode.EncodingMode_1bit,U)}).then(function(T){console.log("received: "+JSON.stringify(T)),A();var $=r.toDataURL("image/png");return d.STU.ProtocolHelper.resizeAndFlatten($,0,0,0,0,x.screenWidth,x.screenHeight,U,1,!1,0,!0)}).then(function(T){return H=T,console.log("received: "+JSON.stringify(T)),R.writeImage(U,T)}).then(function(T){return console.log("received: "+JSON.stringify(T)),R.setInkingMode(b.InkingMode.InkingMode_On)}).then(function(T){console.log("received: "+JSON.stringify(T));var $=new d.STU.ProtocolHelper.ReportHandler;S={x:0,y:0},f=!1,c.lineWidth=1;var Z=function(u){Ue(u,r),Re(u,r,c),W.push(u)},ge=function(u){Ue(u.penData[0],r),Re(u.penData[0],r,c),Ue(u.penData[1],r),Re(u.penData[1],r,c),W.push(u.penData[0],u.penData[1])},Te=function(u){},Ce=function(u){};return W=new Array,$.onReportPenData=Z,$.onReportPenDataOption=Z,$.onReportPenDataTimeCountSequence=Z,$.onReportPenDataEncrypted=ge,$.onReportPenDataEncryptedOption=ge,$.onReportPenDataTimeCountSequenceEncrypted=Z,$.onReportDevicePublicKey=Te,$.onReportEncryptionStatus=Te,$.decrypt=Ce,$.startReporting(R,!0)}).fail(function(T){console.log(T),T instanceof fe?(d.STU.Reinitialize(),setTimeout(re,O)):(alert(`promptSigDialog failed:
`+T),setTimeout(Pe(),0))})}function A(){if(g=new Array(3),g[0]=new J,g[1]=new J,g[2]=new J,k[0].idProduct!=d.STU.ProductId.ProductId_300){var b=x.screenWidth/3,_=x.screenWidth/3,E=x.screenWidth-b-_,L=x.screenHeight*6/7,T=x.screenHeight-L;g[0].Bounds=new P(0,L,E,T),g[1].Bounds=new P(E,L,b,T),g[2].Bounds=new P(E+b,L,_,T)}else{var $=x.screenWidth*3/4,Z=x.screenWidth-$,ge=x.screenHeight/3,Te=x.screenHeight/3,Ce=x.screenHeight-ge-Te;g[0].Bounds=new P($,0,Z,Ce),g[1].Bounds=new P($,Ce,Z,ge),g[2].Bounds=new P($,Ce+ge,Z,Te)}g[0].Text=I,g[1].Text=v,g[2].Text=h,g[0].Click=se,g[1].Click=ve,g[2].Click=ie,pe(r,c),ee()}function ee(){c.save(),c.setTransform(1,0,0,1,0,0),c.beginPath(),c.lineWidth=1,c.strokeStyle="black",c.font="30px Arial";for(var b=0;b<g.length;++b){c.fillStyle="lightgrey",c.fillRect(g[b].Bounds.x,g[b].Bounds.y,g[b].Bounds.width,g[b].Bounds.height),c.fillStyle="black",c.rect(g[b].Bounds.x,g[b].Bounds.y,g[b].Bounds.width,g[b].Bounds.height);var _=g[b].Bounds.x+(g[b].Bounds.width/2-c.measureText(g[b].Text).width/2),E;k[0].idProduct==d.STU.ProductId.ProductId_300?E=28:k[0].idProduct==d.STU.ProductId.ProductId_430?E=26:E=40,c.fillText(g[b].Text,_,g[b].Bounds.y+E)}c.stroke(),c.closePath(),c.restore()}function he(){pe(r,c),ee(),W=new Array,R.writeImage(U,H)}function se(){console.log("btnOk_Click: ",this),Oe(),setTimeout(Pe,0)}function ie(){setTimeout(Pe,0)}function ve(){console.log("clear!"),he()}function Xe(b,_){return Math.pow(b.x-_.x,2)+Math.pow(b.y-_.y,2)}function pe(b,_){_.save(),_.setTransform(1,0,0,1,0,0),_.fillStyle="white",_.fillRect(0,0,b.width,b.height),_.restore()}function He(b,_){_.save(),_.setTransform(1,0,0,1,0,0),_.fillStyle="#ffffff00",_.fillRect(0,0,b.width,b.height),_.restore()}function Ue(b,_){var E={};E.x=Math.round(_.width*b.x/x.tabletMaxX),E.y=Math.round(_.height*b.y/x.tabletMaxY);for(var L=f?!(b.pressure<=V.offPressureMark):b.pressure>V.onPressureMark,T=-1,$=0;$<g.length;++$)if(g[$].Bounds.Contains(E)){T=$;break}return f&&!L?(T!=-1&&C===T&&g[T].Click(),C=-1):T!=-1&&!f&&L&&(C=T),T==-1}function Re(b,_,E){var L={};L.x=Math.round(_.width*b.x/x.tabletMaxX),L.y=Math.round(_.height*b.y/x.tabletMaxY);var T=f?!(b.pressure<=V.offPressureMark):b.pressure>V.onPressureMark;!f&&T&&(S=L),(T&&10<Xe(S,L)||f&&!T)&&(E.beginPath(),E.moveTo(S.x,S.y),E.lineTo(L.x,L.y),E.stroke(),E.closePath(),S=L),f=T}function Oe(){var b=document.getElementById("signatureImage"),_=document.createElement("canvas");_.id="signatureCanvas",_.height=b.height,_.width=b.width;var E=_.getContext("2d");He(_,E),E.lineWidth="2.5",E.strokeStyle="black",S={x:0,y:0},f=!1;for(var L=0;L<W.length;L++)Re(W[L],_,E);s(),b.src=_.toDataURL("image/png")}function Pe(){p.value=!1,d.STU.onDCAtimeout=null,Se(),document.getElementById("sigPreviewContainer").removeChild(l)}function Me(b){for(var _=b.pageX-l.offsetLeft,E=b.pageY-l.offsetTop,L=0;L<g.length;L++)if(g[L].Bounds.Contains(new Y(_,E))){g[L].Click();break}}return(b,_)=>(ke(),Ne(mt,null,[M("div",Cr,[M("div",xr,K(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+K(e.details.address_res_city)+", "+K(e.details.address_res_zip_code)+", "+K(e.details.address_res_province),1),_r,M("div",Ir,K(e.details.gender),1),M("div",Rr,K(e.details.date_of_birth),1),M("div",Pr,K(e.details.blood_type),1),M("div",Er,K(e.details.contact_number),1),M("div",kr,K(e.details.emergency_name),1),M("div",Dr,K(e.details.emergency_number),1),M("div",Ur,K(e.details.date_issued_formatted),1),M("div",Mr,K(e.details.date_expire_formatted),1),M("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:_[0]||(_[0]=E=>ne())},Ar)]),F(lt,{modelValue:mn(p),"onUpdate:modelValue":_[2]||(_[2]=E=>yn(p)?p.value=E:p=E),"backdrop-filter":"sepia(90%)",persistent:""},{default:te(()=>[F(ut,null,{default:te(()=>[F(je,{class:"row items-center q-pb-none text-h6"},{default:te(()=>[Ie(" Signature ")]),_:1}),F(je,null,{default:te(()=>[Nr,M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:_[1]||(_[1]=E=>se())}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:ve}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:ie})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});const Or={id:"IdCardBackV2",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif"}},Fr={class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"57px","font-size":"22pt","line-height":"23pt"}},Lr=M("div",{style:{position:"absolute",top:"242px",left:"347px"}},[M("img",{id:"qr-img-v2",style:{height:"300px",width:"300px"},alt:""})],-1),$r={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},Hr={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},Vr={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},zr={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},jr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},qr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},Kr={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},Wr={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},Jr=M("img",{id:"signatureImageV2",class:"signatureImage",src:wn,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,-1),Gr=[Jr],Qr=M("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1),en=Object.assign({name:"IdCardBack"},{__name:"IdCardBackV2",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async b=>{try{var _=document.getElementById("qr-img-v2");_.src=await Qe.toDataURL(b)}catch(E){console.error(E)}},o=e,i=t;function s(){i("onPenDataSave",W)}var p=ze(!1),h="Cancel",v="Clear",I="OK",B=20,O=1e3,a=500,r,c,l,f,S,g,C=-1,x,U,H,V,W,k,m=0,R;Ee(()=>o.details,(b,_)=>{b.sig_src&&(W=b.sig_src,x={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},V={offPressureMark:16,onPressureMark:21},Oe()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function N(){m=m+1,d.STU.isServiceReady()?(m=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),m<B?setTimeout(N,O):alert("Unable to establish connection to SigCaptX"))}setTimeout(N,a);function z(){console.log("DCA disconnected"),setTimeout(Pe,0)}function P(b,_,E,L){this.x=b,this.y=_,this.width=E,this.height=L,this.Contains=function(T){return T.x>=this.x&&T.x<=this.x+this.width&&T.y>=this.y&&T.y<=this.y+this.height}}function J(){this.Bounds,this.Text,this.Click}function Y(b,_){this.x=b,this.y=_}function G(b,_){l=document.createElement("div"),l.id="signatureWindow",l.className="active",l.style.position="relative",l.style.top=0+"px",l.style.left=0+"px",l.style.width=b+"px",l.style.height=_+"px",document.getElementById("sigPreviewContainer").appendChild(l),r=document.createElement("canvas"),r.id="myCanvas",r.height=l.offsetHeight,r.width=l.offsetWidth,r.style.zIndex=999,l.appendChild(r),c=r.getContext("2d"),console.log("canvas.addEventListener:",r.addEventListener),r.addEventListener?(r.addEventListener("click",Me,!1),console.log("onCanvasClick 0")):r.attachEvent?(r.attachEvent("onClick",Me),console.log("onCanvasClick 1")):(r.onClick=Me,console.log("onCanvasClick 2"))}function Se(){var b=Q.defer();if(R!=null){var _=new d.STU.Protocol;R.setInkingMode(_.InkingMode.InkingMode_Off).then(function(E){return console.log("received: "+JSON.stringify(E)),R.endCapture()}).then(function(E){return console.log("received: "+JSON.stringify(E)),H!==null?H.remove():E}).then(function(E){return console.log("received: "+JSON.stringify(E)),H=null,R.setClearScreen()}).then(function(E){return console.log("received: "+JSON.stringify(E)),R.disconnect()}).then(function(E){console.log("received: "+JSON.stringify(E)),R=null,pe(r,c)}).then(function(E){b.resolve()}).fail(function(E){console.log("disconnect error: "+E),b.resolve()})}else b.resolve();return b.promise}window.addEventListener("beforeunload",function(b){var _="";return d.STU.close(),(b||window.event).returnValue=_,_});function fe(){}fe.prototype=new Error;function ne(){p.value=!0,re()}function re(){var b=new d.STU.Protocol,_,E,L;d.STU.isDCAReady().then(function(T){if(!T)throw new fe;return d.STU.onDCAtimeout=z,d.STU.getUsbDevices()}).then(function(T){if(T==null||T.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(T)),k=T,d.STU.isSupportedUsbDevice(k[0].idVendor,k[0].idProduct)}).then(function(T){return console.log("received: "+JSON.stringify(T)),_=new d.STU.UsbInterface,_.Constructor()}).then(function(T){return console.log("received: "+JSON.stringify(T)),_.connect(k[0],!0)}).then(function(T){return console.log("received: "+JSON.stringify(T)),R=new d.STU.Tablet,R.Constructor(_,E,L)}).then(function(T){return console.log("received: "+JSON.stringify(T)),_=null,R.getInkThreshold()}).then(function(T){return console.log("m_inkThreshold received: "+JSON.stringify(T)),V=T,R.getCapability()}).then(function(T){return console.log("m_capability received: "+JSON.stringify(T)),x=T,G(x.screenWidth,x.screenHeight),R.getInformation()}).then(function(T){return console.log("received: "+JSON.stringify(T)),R.getInkThreshold()}).then(function(T){return console.log("received: "+JSON.stringify(T)),R.getProductId()}).then(function(T){return console.log("received: "+JSON.stringify(T)),d.STU.ProtocolHelper.simulateEncodingFlag(T,x.encodingFlag)}).then(function(T){console.log("received: "+JSON.stringify(T));var $=T;if(($&b.EncodingFlag.EncodingFlag_24bit)!=0)return R.supportsWrite().then(function(Z){U=Z?b.EncodingMode.EncodingMode_24bit_Bulk:b.EncodingMode.EncodingMode_24bit});if(($&b.EncodingFlag.EncodingFlag_16bit)!=0)return R.supportsWrite().then(function(Z){U=Z?b.EncodingMode.EncodingMode_16bit_Bulk:b.EncodingMode.EncodingMode_16bit});U=b.EncodingMode.EncodingMode_1bit}).then(function(T){return R.setClearScreen()}).then(function(T){return console.log("received from setClearScreen: "+JSON.stringify(T)),T}).then(function(T){return console.log("received: "+JSON.stringify(T)),R.isSupported(b.ReportId.ReportId_PenDataOptionMode)}).then(function(T){return console.log("received: "+JSON.stringify(T)),T?R.getProductId().then(function($){var Z=b.PenDataOptionMode.PenDataOptionMode_None;switch($){case d.STU.ProductId.ProductId_520A:Z=b.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case d.STU.ProductId.ProductId_430:case d.STU.ProductId.ProductId_530:case d.STU.ProductId.ProductId_540:Z=b.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return R.setPenDataOptionMode(Z)}):(U=b.EncodingMode.EncodingMode_1bit,U)}).then(function(T){console.log("received: "+JSON.stringify(T)),A();var $=r.toDataURL("image/png");return d.STU.ProtocolHelper.resizeAndFlatten($,0,0,0,0,x.screenWidth,x.screenHeight,U,1,!1,0,!0)}).then(function(T){return H=T,console.log("received: "+JSON.stringify(T)),R.writeImage(U,T)}).then(function(T){return console.log("received: "+JSON.stringify(T)),R.setInkingMode(b.InkingMode.InkingMode_On)}).then(function(T){console.log("received: "+JSON.stringify(T));var $=new d.STU.ProtocolHelper.ReportHandler;S={x:0,y:0},f=!1,c.lineWidth=1;var Z=function(u){Ue(u,r),Re(u,r,c),W.push(u)},ge=function(u){Ue(u.penData[0],r),Re(u.penData[0],r,c),Ue(u.penData[1],r),Re(u.penData[1],r,c),W.push(u.penData[0],u.penData[1])},Te=function(u){},Ce=function(u){};return W=new Array,$.onReportPenData=Z,$.onReportPenDataOption=Z,$.onReportPenDataTimeCountSequence=Z,$.onReportPenDataEncrypted=ge,$.onReportPenDataEncryptedOption=ge,$.onReportPenDataTimeCountSequenceEncrypted=Z,$.onReportDevicePublicKey=Te,$.onReportEncryptionStatus=Te,$.decrypt=Ce,$.startReporting(R,!0)}).fail(function(T){console.log(T),T instanceof fe?(d.STU.Reinitialize(),setTimeout(re,O)):(alert(`promptSigDialog failed:
`+T),setTimeout(Pe(),0))})}function A(){if(g=new Array(3),g[0]=new J,g[1]=new J,g[2]=new J,k[0].idProduct!=d.STU.ProductId.ProductId_300){var b=x.screenWidth/3,_=x.screenWidth/3,E=x.screenWidth-b-_,L=x.screenHeight*6/7,T=x.screenHeight-L;g[0].Bounds=new P(0,L,E,T),g[1].Bounds=new P(E,L,b,T),g[2].Bounds=new P(E+b,L,_,T)}else{var $=x.screenWidth*3/4,Z=x.screenWidth-$,ge=x.screenHeight/3,Te=x.screenHeight/3,Ce=x.screenHeight-ge-Te;g[0].Bounds=new P($,0,Z,Ce),g[1].Bounds=new P($,Ce,Z,ge),g[2].Bounds=new P($,Ce+ge,Z,Te)}g[0].Text=I,g[1].Text=v,g[2].Text=h,g[0].Click=se,g[1].Click=ve,g[2].Click=ie,pe(r,c),ee()}function ee(){c.save(),c.setTransform(1,0,0,1,0,0),c.beginPath(),c.lineWidth=1,c.strokeStyle="black",c.font="30px Arial";for(var b=0;b<g.length;++b){c.fillStyle="lightgrey",c.fillRect(g[b].Bounds.x,g[b].Bounds.y,g[b].Bounds.width,g[b].Bounds.height),c.fillStyle="black",c.rect(g[b].Bounds.x,g[b].Bounds.y,g[b].Bounds.width,g[b].Bounds.height);var _=g[b].Bounds.x+(g[b].Bounds.width/2-c.measureText(g[b].Text).width/2),E;k[0].idProduct==d.STU.ProductId.ProductId_300?E=28:k[0].idProduct==d.STU.ProductId.ProductId_430?E=26:E=40,c.fillText(g[b].Text,_,g[b].Bounds.y+E)}c.stroke(),c.closePath(),c.restore()}function he(){pe(r,c),ee(),W=new Array,R.writeImage(U,H)}function se(){console.log("btnOk_Click: ",this),Oe(),setTimeout(Pe,0)}function ie(){setTimeout(Pe,0)}function ve(){console.log("clear!"),he()}function Xe(b,_){return Math.pow(b.x-_.x,2)+Math.pow(b.y-_.y,2)}function pe(b,_){_.save(),_.setTransform(1,0,0,1,0,0),_.fillStyle="white",_.fillRect(0,0,b.width,b.height),_.restore()}function He(b,_){_.save(),_.setTransform(1,0,0,1,0,0),_.fillStyle="#ffffff00",_.fillRect(0,0,b.width,b.height),_.restore()}function Ue(b,_){var E={};E.x=Math.round(_.width*b.x/x.tabletMaxX),E.y=Math.round(_.height*b.y/x.tabletMaxY);for(var L=f?!(b.pressure<=V.offPressureMark):b.pressure>V.onPressureMark,T=-1,$=0;$<g.length;++$)if(g[$].Bounds.Contains(E)){T=$;break}return f&&!L?(T!=-1&&C===T&&g[T].Click(),C=-1):T!=-1&&!f&&L&&(C=T),T==-1}function Re(b,_,E){var L={};L.x=Math.round(_.width*b.x/x.tabletMaxX),L.y=Math.round(_.height*b.y/x.tabletMaxY);var T=f?!(b.pressure<=V.offPressureMark):b.pressure>V.onPressureMark;!f&&T&&(S=L),(T&&10<Xe(S,L)||f&&!T)&&(E.beginPath(),E.moveTo(S.x,S.y),E.lineTo(L.x,L.y),E.stroke(),E.closePath(),S=L),f=T}function Oe(){var b=document.getElementById("signatureImageV2"),_=document.createElement("canvas");_.id="signatureCanvas",_.height=b.height,_.width=b.width;var E=_.getContext("2d");He(_,E),E.lineWidth="2.5",E.strokeStyle="black",S={x:0,y:0},f=!1;for(var L=0;L<W.length;L++)Re(W[L],_,E);s(),b.src=_.toDataURL("image/png")}function Pe(){p.value=!1,d.STU.onDCAtimeout=null,Se(),document.getElementById("sigPreviewContainer").removeChild(l)}function Me(b){for(var _=b.pageX-l.offsetLeft,E=b.pageY-l.offsetTop,L=0;L<g.length;L++)if(g[L].Bounds.Contains(new Y(_,E))){g[L].Click();break}}return(b,_)=>(ke(),Ne(mt,null,[M("div",Or,[M("div",Fr,K(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+K(e.details.address_res_city)+", "+K(e.details.address_res_zip_code)+", "+K(e.details.address_res_province),1),Lr,M("div",$r,K(e.details.gender),1),M("div",Hr,K(e.details.date_of_birth),1),M("div",Vr,K(e.details.blood_type),1),M("div",zr,K(e.details.contact_number),1),M("div",jr,K(e.details.emergency_name),1),M("div",qr,K(e.details.emergency_number),1),M("div",Kr,K(e.details.date_issued_formatted),1),M("div",Wr,K(e.details.date_expire_formatted),1),M("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:_[0]||(_[0]=E=>ne())},Gr)]),F(lt,{modelValue:mn(p),"onUpdate:modelValue":_[2]||(_[2]=E=>yn(p)?p.value=E:p=E),"backdrop-filter":"sepia(90%)",persistent:""},{default:te(()=>[F(ut,null,{default:te(()=>[F(je,{class:"row items-center q-pb-none text-h6"},{default:te(()=>[Ie(" Signature ")]),_:1}),F(je,null,{default:te(()=>[Qr,M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:_[1]||(_[1]=E=>se())}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:ve}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:ie})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var tn=Ge({name:"QCardActions",props:{...uo,vertical:Boolean},setup(e,{slots:t}){const n=co(e),o=me(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>Be("div",{class:o.value},tt(t.default))}});function nn(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var on=fo({name:"close-popup",beforeMount(e,{value:t}){const n={depth:nn(t),handler(o){n.depth!==0&&setTimeout(()=>{const i=Zn(e);i!==void 0&&eo(i,o,n.depth)})},handlerKey(o){po(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=nn(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var Xr=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n};const Yr={props:{image:{type:String,default:""},accept:{type:String,default:"image/*"},placeholderSvg:{type:String,default:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let e=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},methods:{drawRoundedRect(e,t,n,o,i,s){if(s===0)e.rect(t,n,o,i);else{const p=o-s,h=i-s;e.translate(t,n),e.arc(s,s,s,Math.PI,Math.PI*1.5),e.lineTo(p,0),e.arc(p,s,s,Math.PI*1.5,Math.PI*2),e.lineTo(o,h),e.arc(p,h,s,Math.PI*2,Math.PI*.5),e.lineTo(s,i),e.arc(s,h,s,Math.PI*.5,Math.PI),e.translate(-t,-n)}},svgToImage(e){let t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),o=(self.URL||self.webkitURL||self).createObjectURL(t),i=new Image;return i.src=o,i},setState(e){var t=Math.ceil(1),n=Math.floor(1e4);this.state=e,this.state.cnt="HELLO"+Math.floor(Math.random()*(n-t))+t},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let e=this.borderRadius;const t=this.getDimensions(),n=t.border,o=t.canvas.height,i=t.canvas.width;e=Math.max(e,0),e=Math.min(e,i/2-n,o/2-n),this.context.beginPath(),this.drawRoundedRect(this.context,n,n,i-n*2,o-n*2,e),this.context.rect(i,0,-i,o),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+this.border*2,height:this.height+this.border*2}}},onDrop(e){if(e=e||window.event,e.stopPropagation(),e.preventDefault(),e.dataTransfer&&e.dataTransfer.files.length){const t=new FileReader,n=e.dataTransfer.files[0];this.changed=!0,t.onload=o=>this.loadImage(o.target.result),t.readAsDataURL(n)}},onDragStart(e){e=e||window.event,e.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let t=document,n=!1,o=s=>{this.onDragEnd(s),!n&&s.targetTouches&&e.target.click(),t.removeEventListener("mouseup",o),t.removeEventListener("mousemove",i),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",i)},i=s=>{n=!0,this.onMouseMove(s)};t.addEventListener("mouseup",o),t.addEventListener("mousemove",i),t.addEventListener("touchend",o),t.addEventListener("touchmove",i)},onDragEnd(e){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(e){if(e=e||window.event,this.state.drag===!1)return;this.dragged=!0,this.changed=!0;let t=this.state.image;const n=t.x,o=t.y,i=e.targetTouches?e.targetTouches[0].pageX:e.clientX,s=e.targetTouches?e.targetTouches[0].pageY:e.clientY,p={mx:i,my:s,image:t};if(this.state.mx&&this.state.my){const h=(this.state.mx-i)/this.scale,v=(this.state.my-s)/this.scale;t.y=this.getBoundedY(o-v,this.scale),t.x=this.getBoundedX(n-h,this.scale)}this.state.mx=p.mx,this.state.my=p.my,this.state.image=t},replaceImageInBounds(){let e=this.state.image;e.y=this.getBoundedY(e.y,this.scale),e.x=this.getBoundedX(e.x,this.scale)},loadImage(e){let t=new Image,n=this;t.onload=()=>{let o=n.getInitialSize(t.width,t.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=t,n.state.image.width=o.width,n.state.image.height=o.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,this.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},t.onerror=o=>console.log("error loading image: ",o),this.isDataURL(e)||(t.crossOrigin="anonymous"),t.src=e},getInitialSize(e,t){let n,o;const i=this.getDimensions(),s=i.height/i.width,p=t/e;return s>p?(n=this.getDimensions().height,o=e*(n/t)):(o=this.getDimensions().width,n=t*(o/e)),{height:n,width:o}},isDataURL(e){return e===null?!1:!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX(e,t){var n=this.state.image,o=this.getDimensions();let i=Math.abs(n.width*Math.cos(this.rotationRadian))+Math.abs(n.height*Math.sin(this.rotationRadian)),s=Math.floor((i-o.width/t)/2);return s=Math.max(0,s),Math.max(-s,Math.min(e,s))},getBoundedY(e,t){var n=this.state.image,o=this.getDimensions();let i=Math.abs(n.width*Math.sin(this.rotationRadian))+Math.abs(n.height*Math.cos(this.rotationRadian)),s=Math.floor((i-o.height/t)/2);return s=Math.max(0,s),Math.max(-s,Math.min(e,s))},paintImage(e,t,n){if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.globalCompositeOperation="destination-over";let i=this.getDimensions();e.translate(i.canvas.width/2,i.canvas.height/2),e.rotate(this.rotationRadian),e.translate(-i.canvas.width/2,-i.canvas.height/2),e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}},transformDataWithRotation(e,t){let n=-this.rotationRadian,o=e*Math.cos(n)-t*Math.sin(n),i=e*Math.sin(n)+t*Math.cos(n);return[o,i]},calculatePosition(e,t){e=e||this.state.image;var n=this.getDimensions();let o=e.width*this.scale,i=e.height*this.scale;var s=(o-n.width)/2,p=(i-n.height)/2,h=e.x*this.scale,v=e.y*this.scale;return[h,v]=this.transformDataWithRotation(h,v),h+=t-s,v+=t-p,{x:h,y:v,height:i,width:o}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;const n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t.resource,-e.x,-e.y),n},getImageScaled(){const{width:e,height:t}=this.getDimensions(),n=document.createElement("canvas");return n.width=e,n.height=t,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged(){return this.changed},getCroppingRect(){const e=this.getDimensions(),t={x:e.border,y:e.border,width:e.width,height:e.height},n=this.calculatePosition(this.state.image,e.border);return{x:(t.x-n.x)/n.width,y:(t.y-n.y)/n.height,width:t.width/n.width,height:t.height/n.height}},clicked(e){this.dragged===!0?this.dragged=!1:this.$refs.input.click()},fileSelected(e){var t=e.target.files||e.dataTransfer.files;if(this.$emit("select-file",t),!!t.length){var n=new FileReader;this.changed=!0,n.onload=o=>this.loadImage(o.target.result),n.readAsDataURL(t[0])}},resetImage(){let e=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),e.imageLoaded=!1,this.$emit("imageLoaded",e.imageLoaded),e.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},watch:{state:{handler(e,t){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}},Zr=["width","height"],ei=["accept"];function ti(e,t,n,o,i,s){return ke(),Ne("div",null,[M("canvas",{width:s.canvasWidth,height:s.canvasHeight,class:"cursorPointer",id:"avatarEditorCanvas",ref:"avatarEditorCanvas",onDragover:t[0]||(t[0]=Sn(()=>{},["prevent"])),onDrop:t[1]||(t[1]=(...p)=>s.onDrop&&s.onDrop(...p)),onMousedown:t[2]||(t[2]=(...p)=>s.onDragStart&&s.onDragStart(...p)),onTouchstart:t[3]||(t[3]=(...p)=>s.onDragStart&&s.onDragStart(...p)),onClick:t[4]||(t[4]=(...p)=>s.clicked&&s.clicked(...p))},null,40,Zr),M("input",{type:"file",ref:"input",accept:n.accept,onChange:t[5]||(t[5]=(...p)=>s.fileSelected&&s.fileSelected(...p)),style:{display:"none"}},null,40,ei)])}var ni=Xr(Yr,[["render",ti]]);const oi={id:"photoGetterContainer"},ri={id:"uploadedPhotoEditor",style:{width:"250px",height:"188px",overflow:"hidden",display:"relative","text-align":"center"}},ii=["hidden"],ai=M("canvas",{hidden:"",id:"canvasCapture",width:"250px",height:"188px"},null,-1),si={class:"q-mt-sm"},li=M("video",{id:"player",autoplay:"",style:{width:"1000px"}},null,-1),di=M("br",null,null,-1),ui={id:"uploadForm",enctype:"multipart/form-data"},ci=M("input",{type:"file",id:"fileInput",name:"image",accept:"image/jpeg"},null,-1),fi=Object.assign({name:"PhotoGetter",components:{VueAvatar:ni},data(){return{imageIsLoading:"loaded",uploadDialog:!1,prompt:!1,selectedCamDevice:null,camDevices:[],player:null,rotation:0,scale:1,borderRadius:0,imgSrc:null}},watch:{"selected_employee_data.employees_id"(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto().then(()=>{})}))},prompt(e,t){e||window.stream&&window.stream.getTracks().forEach(n=>{n.stop()})},selectedCamDevice(e){this.getStream()}},methods:{imageLoaded(){this.imageIsLoading="loaded"},async getPhoto(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.selected_employee_data.employees_id}).then(({data:e})=>{this.$refs.uploadedPhotoRef.src=e,e||(this.imageIsLoading="loaded")}).catch(e=>{console.error(e)})},uploadImage(){this.imageIsLoading="loading";var e=document.getElementById("uploadForm"),t=new FormData(e);t.append("employees_id",this.selected_employee_data.employees_id),this.$api.post("http://192.168.50.50:8081/id_photo_upload.php",t,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:n})=>{this.getPhoto(),this.$emit("imageCaptured",t),this.uploadDialog=!this.uploadDialog,this.imageIsLoading="loaded"}).catch(n=>{console.error(n)})},saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();const n=t.toDataURL("image/jpeg",1),o=document.getElementById("uploadedPhoto");o.src=n;const i=document.getElementById("canvasCapture");i.getContext("2d").drawImage(o,0,0,i.width,i.height),this.$emit("imageCaptured",n),this.uploadDialog=!this.uploadDialog},onImageReady:function(){this.scale=1,this.rotation=0},uploadPhoto(e){const t=document.getElementById("uploadPhotoInput");var n=document.getElementById("uploadedPhoto");t.files&&t.files[0]&&(n.onload=()=>{URL.revokeObjectURL(n.src),document.getElementById("uploadedPhotoEditor");const o=document.getElementById("canvasCapture");o.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);const s=o.toDataURL("image/jpeg",1);this.$emit("imageCaptured",s)},n.src=URL.createObjectURL(t.files[0]))},promptDialog(){this.camDevices=[],this.getDevices().then(this.gotDevices),this.prompt=!this.prompt,this.$nextTick(()=>{this.player=document.getElementById("player");const e=document.getElementById("canvasCapture"),t=e.getContext("2d");document.getElementById("capture").addEventListener("click",()=>{t.drawImage(this.player,0,0,e.width,e.height);const o=e.toDataURL("image/jpeg",1),i=document.getElementById("uploadedPhoto");i.src=o,this.prompt=!this.prompt,this.$emit("imageCaptured",o),window.stream&&window.stream.getTracks().forEach(s=>{s.stop()})}),this.getStream()})},getStream(){window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e=this.selectedCamDevice.value,t={video:{deviceId:e?{exact:e}:void 0}};return navigator.mediaDevices.getUserMedia(t).then(this.gotStream)},gotStream(e){window.stream=e,this.player.srcObject=e},async getDevices(){return await navigator.mediaDevices.enumerateDevices()},async gotDevices(e){window.deviceInfos=e;for(const t of e){const n={label:"",value:""};n.value=t.deviceId,t.kind==="videoinput"&&(n.label=t.label||`Camera ${videoSelect.length+1}`,this.camDevices.push(n))}this.selectedCamDevice==null&&(this.selectedCamDevice=this.camDevices[0])}},created(){}},{__name:"PhotoGetter",props:{selected_employee_data:{type:Object}},emits:["imageCaptured"],setup(e){return(t,n)=>(ke(),Ne(mt,null,[M("div",oi,[M("div",ri,[M("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageLoaded()),id:"uploadedPhoto",ref:"uploadedPhotoRef",style:{transform:"scale(1)",width:"250px !important"}},null,40,ii),F(Bt,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),ai]),M("div",si,[F(ye,{unelevated:"",icon:"file_upload",onClick:n[1]||(n[1]=o=>t.uploadDialog=!t.uploadDialog),disable:!e.selected_employee_data.employees_id},{default:te(()=>[Ie("Upload")]),_:1},8,["disable"]),ho(t.$slots,"buttons")]),F(lt,{modelValue:t.prompt,"onUpdate:modelValue":n[3]||(n[3]=o=>t.prompt=o),persistent:""},{default:te(()=>[F(ut,{style:{"min-width":"1500px","text-align":"center"}},{default:te(()=>[F(je,{class:"q-pt-none q-ma-lg"},{default:te(()=>[F(Pt,{modelValue:t.selectedCamDevice,"onUpdate:modelValue":n[2]||(n[2]=o=>t.selectedCamDevice=o),options:t.camDevices,label:"Device"},null,8,["modelValue","options"]),li,di,F(ye,{id:"capture"},{default:te(()=>[Ie("Capture")]),_:1})]),_:1}),F(tn,{align:"right",class:"text-primary"},{default:te(()=>[qt(F(ye,{flat:"",label:"Cancel"},null,512),[[on]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),F(lt,{modelValue:t.uploadDialog,"onUpdate:modelValue":n[5]||(n[5]=o=>t.uploadDialog=o),persistent:""},{default:te(()=>[F(ut,{style:{"_min-width":"1500px","text-align":"center"}},{default:te(()=>[F(je,{class:"q-pt-none q-ma-lg"},{default:te(()=>[M("form",ui,[ci,M("button",{type:"button",onClick:n[4]||(n[4]=o=>t.uploadImage())},"Upload")])]),_:1}),F(tn,{align:"right",class:"text-primary"},{default:te(()=>[qt(F(ye,{flat:"",label:"Cancel"},null,512),[[on]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),pi={style:{position:"relative",display:"inline"},ref:"clickBox"},hi=["hidden"],gi={style:{"font-size":"12pt"}},mi={style:{"font-size":"12pt"}},yi={style:{"font-size":"12pt"}},Si=Object.assign({name:"PhotoAdjuster",data:function(){return{displayModal:!1,photoFormat:this.photoProps,photoFormatDefault:Object.assign({},this.photoProps),interval:null,count:0,horizontalDir:null}},methods:{mousedown(e){this.horizontalDir=e,this.increment(),this.interval=setInterval(this.increment,100)},mouseup(){clearInterval(this.interval)},increment(){this.horizontalDir=="left"?this.photoFormat.left+=1:this.photoFormat.left-=1},promptDialog(){this.displayModal=!this.displayModal},reset(){this.photoFormat.top=this.photoFormatDefault.top,this.photoFormat.left=this.photoFormatDefault.left,this.photoFormat.width=this.photoFormatDefault.width}}},{__name:"PhotoAdjuster",props:{photoProps:{type:Object,required:!0},selected_employee_data:{type:Object}},setup(e){return(t,n)=>(ke(),Ne("div",pi,[F(ye,{unelevated:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.promptDialog()),disable:!e.selected_employee_data.employees_id},null,8,["disable"]),M("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 19px 60px -27px","border-radius":"5px",right:"-210px"}},[F(ye,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:te(()=>[Ie("Reset")]),_:1}),M("label",gi,"Vertical: "+K(t.photoFormat.top)+"px",1),F(de,{type:"number",dense:"",modelValue:t.photoFormat.top,"onUpdate:modelValue":n[2]||(n[2]=o=>t.photoFormat.top=o)},null,8,["modelValue"]),M("label",mi,"Horizontal: "+K(t.photoFormat.left)+"px",1),F(de,{type:"number",dense:"",modelValue:t.photoFormat.left,"onUpdate:modelValue":n[7]||(n[7]=o=>t.photoFormat.left=o),min:-6e3,max:440,step:1},{append:te(()=>[F(ye,{round:"",dense:"",flat:"",icon:"chevron_left",type:"button",onMousedown:n[3]||(n[3]=o=>t.mousedown("left")),onMouseup:n[4]||(n[4]=o=>t.mouseup())}),F(ye,{round:"",dense:"",flat:"",icon:"chevron_right",onMousedown:n[5]||(n[5]=o=>t.mousedown("right")),onMouseup:n[6]||(n[6]=o=>t.mouseup())})]),_:1},8,["modelValue"]),M("label",yi,"Scale: "+K(t.photoFormat.width)+"px",1),F(de,{type:"number",dense:"",modelValue:t.photoFormat.width,"onUpdate:modelValue":n[8]||(n[8]=o=>t.photoFormat.width=o),min:0,max:1e3,step:1},null,8,["modelValue"]),F(ye,{size:"xs",onClick:n[9]||(n[9]=o=>t.displayModal=!t.displayModal)},{default:te(()=>[Ie("Close")]),_:1})],8,hi)],512))}}),vi={style:{position:"relative"},ref:"clickBox"},wi=["hidden"],bi={for:"",style:{"font-size":"12pt"}},Ti={for:"",style:{"font-size":"12pt"}},Ci={for:"",style:{"font-size":"12pt"}},it=Object.assign({name:"TextFormatter",data:function(){return{displayModal:!1,text:this.textProps,textDefault:Object.assign({},this.textProps)}},methods:{adjustLastName(){this.displayModal=!this.displayModal,console.log(this.textProps)},reset(){this.text.font_size=this.textDefault.font_size,this.text.bottom=this.textDefault.bottom,this.text.left=this.textDefault.left}},mounted(){}},{__name:"TextFormatter",props:{textProps:{type:Object},textFor:{type:String}},setup(e){return(t,n)=>(ke(),Ne("div",vi,[F(ye,{round:"",dense:"",flat:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.adjustLastName())}),M("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 10px 20px 10px","border-radius":"5px",right:"0px"}},[F(ye,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:te(()=>[Ie("Reset")]),_:1}),M("label",bi,"Font-size: "+K(t.text.font_size)+"px",1),F(de,{type:"number",modelValue:t.text.font_size,"onUpdate:modelValue":n[2]||(n[2]=o=>t.text.font_size=o),min:8,max:60,step:1},null,8,["modelValue"]),M("label",Ti,"Vertical Position: "+K(t.text.bottom)+"px",1),F(de,{type:"number",modelValue:t.text.bottom,"onUpdate:modelValue":n[3]||(n[3]=o=>t.text.bottom=o),min:0,max:300,step:1},null,8,["modelValue"]),e.textFor=="position"?(ke(),Ne(mt,{key:0},[M("label",Ci,"Line Height: "+K(t.text.line_height)+"px",1),F(de,{type:"number",modelValue:t.text.line_height,"onUpdate:modelValue":n[4]||(n[4]=o=>t.text.line_height=o),min:0,max:238,step:1},null,8,["modelValue"])],64)):go("",!0),F(ye,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:te(()=>[Ie("Close")]),_:1})],8,wi)],512))}});function xi(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),o=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(i),t&&(o.href=t),i.href=e,i.href}const _i=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Ae(e){const t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n]);return t}function pt(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function Ii(e){const t=pt(e,"border-left-width"),n=pt(e,"border-right-width");return e.clientWidth+t+n}function Ri(e){const t=pt(e,"border-top-width"),n=pt(e,"border-bottom-width");return e.clientHeight+t+n}function On(e,t={}){const n=t.width||Ii(e),o=t.height||Ri(e);return{width:n,height:o}}function Pi(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const xe=16384;function Ei(e){(e.width>xe||e.height>xe)&&(e.width>xe&&e.height>xe?e.width>e.height?(e.height*=xe/e.width,e.width=xe):(e.width*=xe/e.height,e.height=xe):e.width>xe?(e.height*=xe/e.width,e.width=xe):(e.width*=xe/e.height,e.height=xe))}function ht(e){return new Promise((t,n)=>{const o=new Image;o.decode=()=>t(o),o.onload=()=>t(o),o.onerror=n,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function ki(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Di(e,t,n){const o="http://www.w3.org/2000/svg",i=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(e),ki(i)}const be=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||be(n,t)};function Ui(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Mi(e){return Ae(e).map(t=>{const n=e.getPropertyValue(t),o=e.getPropertyPriority(t);return`${t}: ${n}${o?" !important":""};`}).join(" ")}function Bi(e,t,n){const o=`.${e}:${t}`,i=n.cssText?Ui(n):Mi(n);return document.createTextNode(`${o}{${i}}`)}function rn(e,t,n){const o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(i===""||i==="none")return;const s=_i();try{t.className=`${t.className} ${s}`}catch{return}const p=document.createElement("style");p.appendChild(Bi(s,n,o)),t.appendChild(p)}function Ai(e,t){rn(e,t,":before"),rn(e,t,":after")}const an="application/font-woff",sn="image/jpeg",Ni={woff:an,woff2:an,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:sn,jpeg:sn,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Oi(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function $t(e){const t=Oi(e).toLowerCase();return Ni[t]||""}function Fi(e){return e.split(/,/)[1]}function Mt(e){return e.search(/^(data:)/)!==-1}function Fn(e,t){return`data:${t};base64,${e}`}async function Ln(e,t,n){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const i=await o.blob();return new Promise((s,p)=>{const h=new FileReader;h.onerror=p,h.onloadend=()=>{try{s(n({res:o,result:h.result}))}catch(v){p(v)}},h.readAsDataURL(i)})}const Rt={};function Li(e,t,n){let o=e.replace(/\?.*/,"");return n&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function Ht(e,t,n){const o=Li(e,t,n.includeQueryParams);if(Rt[o]!=null)return Rt[o];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const s=await Ln(e,n.fetchRequestInit,({res:p,result:h})=>(t||(t=p.headers.get("Content-Type")||""),Fi(h)));i=Fn(s,t)}catch(s){i=n.imagePlaceholder||"";let p=`Failed to fetch resource: ${e}`;s&&(p=typeof s=="string"?s:s.message),p&&console.warn(p)}return Rt[o]=i,i}async function $i(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):ht(t)}async function Hi(e,t){if(e.currentSrc){const s=document.createElement("canvas"),p=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,p==null||p.drawImage(e,0,0,s.width,s.height);const h=s.toDataURL();return ht(h)}const n=e.poster,o=$t(n),i=await Ht(n,o,t);return ht(i)}async function Vi(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await bt(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function zi(e,t){return be(e,HTMLCanvasElement)?$i(e):be(e,HTMLVideoElement)?Hi(e,t):be(e,HTMLIFrameElement)?Vi(e):e.cloneNode(!1)}const ji=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function qi(e,t,n){var o,i;let s=[];return ji(e)&&e.assignedNodes?s=Ae(e.assignedNodes()):be(e,HTMLIFrameElement)&&((o=e.contentDocument)===null||o===void 0?void 0:o.body)?s=Ae(e.contentDocument.body.childNodes):s=Ae(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),s.length===0||be(e,HTMLVideoElement)||await s.reduce((p,h)=>p.then(()=>bt(h,n)).then(v=>{v&&t.appendChild(v)}),Promise.resolve()),t}function Ki(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Ae(o).forEach(i=>{let s=o.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),be(e,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),n.setProperty(i,s,o.getPropertyPriority(i))})}function Wi(e,t){be(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),be(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Ji(e,t){if(be(e,HTMLSelectElement)){const n=t,o=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));o&&o.setAttribute("selected","")}}function Gi(e,t){return be(t,Element)&&(Ki(e,t),Ai(e,t),Wi(e,t),Ji(e,t)),t}async function Qi(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const o={};for(let s=0;s<n.length;s++){const h=n[s].getAttribute("xlink:href");if(h){const v=e.querySelector(h),I=document.querySelector(h);!v&&I&&!o[h]&&(o[h]=await bt(I,t,!0))}}const i=Object.values(o);if(i.length){const s="http://www.w3.org/1999/xhtml",p=document.createElementNS(s,"svg");p.setAttribute("xmlns",s),p.style.position="absolute",p.style.width="0",p.style.height="0",p.style.overflow="hidden",p.style.display="none";const h=document.createElementNS(s,"defs");p.appendChild(h);for(let v=0;v<i.length;v++)h.appendChild(i[v]);e.appendChild(p)}return e}async function bt(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>zi(o,t)).then(o=>qi(e,o,t)).then(o=>Gi(e,o)).then(o=>Qi(o,t))}const $n=/url\((['"]?)([^'"]+?)\1\)/g,Xi=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Yi=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Zi(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function ea(e){const t=[];return e.replace($n,(n,o,i)=>(t.push(i),n)),t.filter(n=>!Mt(n))}async function ta(e,t,n,o,i){try{const s=n?xi(t,n):t,p=$t(t);let h;if(i){const v=await i(s);h=Fn(v,p)}else h=await Ht(s,p,o);return e.replace(Zi(t),`$1${h}$3`)}catch{}return e}function na(e,{preferredFontFormat:t}){return t?e.replace(Yi,n=>{for(;;){const[o,,i]=Xi.exec(n)||[];if(!i)return"";if(i===t)return`src: ${o};`}}):e}function Hn(e){return e.search($n)!==-1}async function Vn(e,t,n){if(!Hn(e))return e;const o=na(e,n);return ea(o).reduce((s,p)=>s.then(h=>ta(h,p,t,n)),Promise.resolve(o))}async function at(e,t,n){var o;const i=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(i){const s=await Vn(i,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function oa(e,t){await at("background",e,t)||await at("background-image",e,t),await at("mask",e,t)||await at("mask-image",e,t)}async function ra(e,t){const n=be(e,HTMLImageElement);if(!(n&&!Mt(e.src))&&!(be(e,SVGImageElement)&&!Mt(e.href.baseVal)))return;const o=n?e.src:e.href.baseVal,i=await Ht(o,$t(o),t);await new Promise((s,p)=>{e.onload=s,e.onerror=p;const h=e;h.decode&&(h.decode=s),h.loading==="lazy"&&(h.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function ia(e,t){const o=Ae(e.childNodes).map(i=>zn(i,t));await Promise.all(o).then(()=>e)}async function zn(e,t){be(e,Element)&&(await oa(e,t),await ra(e,t),await ia(e,t))}function aa(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(i=>{n[i]=o[i]}),e}const ln={};async function dn(e){let t=ln[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},ln[e]=t,t}async function un(e,t){let n=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async p=>{let h=p.replace(o,"$1");return h.startsWith("https://")||(h=new URL(h,e.url).href),Ln(h,t.fetchRequestInit,({result:v})=>(n=n.replace(p,`url(${v})`),[p,v]))});return Promise.all(s).then(()=>n)}function cn(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const v=i.exec(o);if(v===null)break;t.push(v[0])}o=o.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,p="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(p,"gi");for(;;){let v=s.exec(o);if(v===null){if(v=h.exec(o),v===null)break;s.lastIndex=h.lastIndex}else h.lastIndex=s.lastIndex;t.push(v[0])}return t}async function sa(e,t){const n=[],o=[];return e.forEach(i=>{if("cssRules"in i)try{Ae(i.cssRules||[]).forEach((s,p)=>{if(s.type===CSSRule.IMPORT_RULE){let h=p+1;const v=s.href,I=dn(v).then(B=>un(B,t)).then(B=>cn(B).forEach(O=>{try{i.insertRule(O,O.startsWith("@import")?h+=1:i.cssRules.length)}catch(a){console.error("Error inserting rule from remote css",{rule:O,error:a})}})).catch(B=>{console.error("Error loading remote css",B.toString())});o.push(I)}})}catch(s){const p=e.find(h=>h.href==null)||document.styleSheets[0];i.href!=null&&o.push(dn(i.href).then(h=>un(h,t)).then(h=>cn(h).forEach(v=>{p.insertRule(v,i.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",s)}}),Promise.all(o).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Ae(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))}function la(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Hn(t.style.getPropertyValue("src")))}async function da(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Ae(e.ownerDocument.styleSheets),o=await sa(n,t);return la(o)}async function ua(e,t){const n=await da(e,t);return(await Promise.all(n.map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return Vn(i.cssText,s,t)}))).join(`
`)}async function ca(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ua(e,t);if(n){const o=document.createElement("style"),i=document.createTextNode(n);o.appendChild(i),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function fa(e,t={}){const{width:n,height:o}=On(e,t),i=await bt(e,t,!0);return await ca(i,t),await zn(i,t),aa(i,t),await Di(i,n,o)}async function pa(e,t={}){const{width:n,height:o}=On(e,t),i=await fa(e,t),s=await ht(i),p=document.createElement("canvas"),h=p.getContext("2d"),v=t.pixelRatio||Pi(),I=t.canvasWidth||n,B=t.canvasHeight||o;return p.width=I*v,p.height=B*v,t.skipAutoScale||Ei(p),p.style.width=`${I}`,p.style.height=`${B}`,t.backgroundColor&&(h.fillStyle=t.backgroundColor,h.fillRect(0,0,p.width,p.height)),h.drawImage(s,0,0,p.width,p.height),p}async function st(e,t={}){return(await pa(e,t)).toDataURL("image/jpeg",t.quality||1)}const ha={class:"row",style:{position:"inherit"}},ga={class:"col-6",style:{}},ma={class:"row"},ya={class:"col"},Sa={style:{"margin-left":"30px"}},va={class:"col-7"},wa={class:"row"},ba={class:"row"},Ta={class:"col"},Ca={class:"col q-ml-sm"},xa={class:"row"},_a={class:"row"},Ia={class:"row"},Ra={class:"row"},Pa={class:"col"},Ea={class:"col q-ml-sm"},ka=M("div",{class:"q-mt-sm"},null,-1),Da={id:"cardFrontAndBack",class:"flex",style:{position:"relative"}},Ua=M("div",{style:{"margin-bottom":"10px",width:"100%",height:"100px","background-color":"green",color:"wheat","text-align":"center"}},[M("h1",null,"PRE-RENDERED")],-1),Ma={class:"flex flex-center"},Fa=Object.assign({name:"IndexPage",components:{IdCardFront:Jt,IdCardFrontV2:Gt,IdCardBack:Zt,IdCardBackV2:en,TextFormatter:it},data:function(){return{photoFormat:{top:27,left:117,width:401},textFormat:{position:{font_size:17,bottom:83,left:40,line_height:20},lastName:{font_size:43,bottom:119,left:40},firstName:{font_size:28,bottom:97,left:40}},selected_employee_input:null,selected_employee_data:{empno:null,lastName:null,firstName:null,middleName:null,extName:null,position:null,position_function:null,address:null},employees:[],selections:this.employees,timestamp:0}},methods:{saveImageCaptured(e){this.timestamp=new Date().valueOf()},savePendata(e){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{savePendata:!0,m_penData:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{}).catch(t=>{console.error(t)})},adjustLastName(){},downloadAsPdf(){var e=document.getElementById("IdCardFront"),t=document.getElementById("IdCardBack");st(e,{quality:1}).then(n=>{this.$api.post("http://192.168.50.50:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"front",image:n},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{st(t,{quality:1}).then(o=>{this.$api.post("http://192.168.50.50:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"back",image:o},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{var i=document.createElement("a");i.href="http://192.168.50.50:8081/id_card_print_pdf.php?employee_id="+this.selected_employee_data.employees_id,i.click()})})})})},downloadImage(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2");st(e,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_FRONT.jpeg",o.href=n,o.click()}),st(t,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_BACK.jpeg",o.href=n,o.click()}),this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{tagAsPrinted:!0,selected_employee_data:this.selected_employee_data}).catch(n=>{console.error(n)})},onClearForm(){window.location.reload()},onSubmit(){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{saveEmployeeData:!0,selected_employee_data:this.selected_employee_data,textFormat:this.textFormat,photoFormat:this.photoFormat}).then(({data:e})=>{this.getEmployeeData()}).catch(e=>{console.error(e)})},onReset(){},getEmployeeData(){!this.selected_employee_input||this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeData:!0,employeeId:this.selected_employee_input.value}).then(({data:e})=>{this.selected_employee_data=e,e.text_formatting&&(this.textFormat.position.font_size=e.text_formatting.position.font_size,this.textFormat.position.bottom=e.text_formatting.position.bottom,this.textFormat.position.line_height=e.text_formatting.position.line_height,this.textFormat.lastName.font_size=e.text_formatting.lastName.font_size,this.textFormat.lastName.bottom=e.text_formatting.lastName.bottom,this.textFormat.firstName.font_size=e.text_formatting.firstName.font_size,this.textFormat.firstName.bottom=e.text_formatting.firstName.bottom),e.photo_formatting&&(this.photoFormat.top=e.photo_formatting.top,this.photoFormat.left=e.photo_formatting.left,this.photoFormat.scale=e.photo_formatting.scale)}).catch(e=>{console.error(e)})},filterFn(e,t){if(e===""){t(()=>{this.selections=this.employees});return}t(()=>{const n=e.toLowerCase();this.selections=this.employees.filter(o=>o.label.toLowerCase().indexOf(n)>-1)})}},created(){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeList:"true"}).then(({data:e})=>{console.log(e),this.employees=e}).catch(e=>{console.error(e)})},mounted(){}},{__name:"IndexPage",setup(e){return(t,n)=>(ke(),mo(yo,{class:"q-pa-md",style:{position:"relative"}},{default:te(()=>[M("div",null,[M("div",ha,[M("div",ga,[F(Pt,{clearable:"",class:"q-mb-md",filled:"",modelValue:t.selected_employee_input,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.selected_employee_input=o),n[2]||(n[2]=o=>t.getEmployeeData())],"use-input":"","input-debounce":"0",label:"Select Employee",options:t.selections,onFilter:t.filterFn,onClear:n[1]||(n[1]=o=>t.onClearForm()),behavior:"menu"},{"no-option":te(()=>[F(jn,null,{default:te(()=>[F(qn,{class:"text-grey"},{default:te(()=>[Ie(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter"]),F(ye,{label:"Dashboard",to:"dashboard"}),M("div",ma,[M("div",ya,[M("div",Sa,[F(fi,{onImageCaptured:t.saveImageCaptured,selected_employee_data:t.selected_employee_data},{buttons:te(()=>[F(Si,{photoProps:t.photoFormat,selected_employee_data:t.selected_employee_data},null,8,["photoProps","selected_employee_data"])]),_:1},8,["onImageCaptured","selected_employee_data"])])]),M("div",va,[F(To,{onSubmit:Sn(t.onSubmit,["prevent"]),onReset:t.onReset,class:"q-gutter-sm_"},{default:te(()=>[F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.empno,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_employee_data.empno=o),label:"ID Number *",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"Please enter the ID number"]},null,8,["disable","modelValue","rules"]),F(de,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.position,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_employee_data.position=o),label:"Position",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Position should not be empty!"]},{append:te(()=>[F(it,{textProps:t.textFormat.position,textFor:"position"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),M("div",wa,[F(de,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.lastName,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_employee_data.lastName=o),label:"Last Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Last Name should not be empty!"]},{append:te(()=>[F(it,{textProps:t.textFormat.lastName,textFor:"lastName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),F(de,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.firstName,"onUpdate:modelValue":n[6]||(n[6]=o=>t.selected_employee_data.firstName=o),label:"First Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* First Name should not be empty!"]},{append:te(()=>[F(it,{textProps:t.textFormat.firstName,textFor:"firstName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"])]),M("div",ba,[M("div",Ta,[F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.middleName,"onUpdate:modelValue":n[7]||(n[7]=o=>t.selected_employee_data.middleName=o),label:"Middle Name",hint:""},null,8,["disable","modelValue"])]),M("div",Ca,[F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.extName,"onUpdate:modelValue":n[8]||(n[8]=o=>t.selected_employee_data.extName=o),label:"Name Extension"},null,8,["disable","modelValue"])])]),F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_barangay,"onUpdate:modelValue":n[9]||(n[9]=o=>t.selected_employee_data.address_res_barangay=o),label:"Barangay",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),M("div",xa,[F(de,{class:"col q-mr-sm",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_city,"onUpdate:modelValue":n[10]||(n[10]=o=>t.selected_employee_data.address_res_city=o),label:"City/Municipality",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),F(de,{class:"col",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_zip_code,"onUpdate:modelValue":n[11]||(n[11]=o=>t.selected_employee_data.address_res_zip_code=o),label:"Zipcode",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"])]),F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_province,"onUpdate:modelValue":n[12]||(n[12]=o=>t.selected_employee_data.address_res_province=o),label:"Province",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),M("div",_a,[F(Pt,{disable:!t.selected_employee_input,class:"col",dense:"",outlined:"",modelValue:t.selected_employee_data.gender,"onUpdate:modelValue":n[13]||(n[13]=o=>t.selected_employee_data.gender=o),options:["MALE","FEMALE"],label:"Gender"},null,8,["disable","modelValue"]),F(de,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.birthdate,"onUpdate:modelValue":n[14]||(n[14]=o=>t.selected_employee_data.birthdate=o),label:"Birthdate",type:"date"},null,8,["disable","modelValue"])]),M("div",Ia,[F(de,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.blood_type,"onUpdate:modelValue":n[15]||(n[15]=o=>t.selected_employee_data.blood_type=o),label:"Blood Type",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),F(de,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.contact_number,"onUpdate:modelValue":n[16]||(n[16]=o=>t.selected_employee_data.contact_number=o),label:"Contact Number",hint:""},null,8,["disable","modelValue"])]),F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_name,"onUpdate:modelValue":n[17]||(n[17]=o=>t.selected_employee_data.emergency_name=o),label:"Emergency Contact Person",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_number,"onUpdate:modelValue":n[18]||(n[18]=o=>t.selected_employee_data.emergency_number=o),label:"Emergency Contact Number",hint:""},null,8,["disable","modelValue"]),M("div",Ra,[M("div",Pa,[F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_issued,"onUpdate:modelValue":n[19]||(n[19]=o=>t.selected_employee_data.date_issued=o),label:"Date Issued",type:"date"},null,8,["disable","modelValue"])]),M("div",Ea,[F(de,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_expire,"onUpdate:modelValue":n[20]||(n[20]=o=>t.selected_employee_data.date_expire=o),label:"Valid Until",type:"date"},null,8,["disable","modelValue"])])]),ka,F(ye,{disable:!t.selected_employee_input,class:"q-mr-sm",type:"submit"},{default:te(()=>[Ie("Save")]),_:1},8,["disable"]),F(ye,{disable:!t.selected_employee_input,label:"Download",onClick:n[21]||(n[21]=o=>t.downloadImage())},null,8,["disable"])]),_:1},8,["onSubmit","onReset"])])])]),M("div",Da,[F(Jt,{style:{transform:"scale(0.5)",position:"absolute"},details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),F(Zt,{style:{transform:"scale(0.5)",position:"absolute"},details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])]),Ua,M("div",Ma,[F(Gt,{details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),F(en,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])])]),_:1}))}});export{Fa as default};
