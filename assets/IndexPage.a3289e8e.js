import{u as Pt,f as Dt,c as bi,g as wi,b as xi,a as Ti,h as Ci,d as _o,e as _i,Q as ko}from"./QItem.7a01ddfc.js";import{i as ki,r as ue,o as ft,w as he,j as V,e as pn,a as $e,M as Io,g as Me,N as Ro,O as bn,P as Po,L as je,d as Ee,R as Et,S as wn,h as $,T as Ye,Q as yt,U as Ii,q as We,V as zt,c as ze,W as Ri,X as Pi,Y as Di,Z as Ei,_ as Mi,$ as Ui,K as Zt,a0 as Bn,a1 as Ai,l as Xe,a2 as Oi,a3 as $t,u as Vi,a4 as Fi,a5 as Bi,a6 as qi,a7 as xn,a8 as Ze,a9 as Hi,aa as Do,ab as qn,ac as Li,n as $i,ad as zi,ae as Ni,af as Tt,ag as ot,ah as Eo,v as ji,p as Wi,f as vt,m as Ki,s as Qi,x as it,ai as dt,F as J,D as Ce,aj as At,A as X,z as we,ak as Gi,al as Ji,am as Tn,C as tt,an as Xi,ao as Yi,ap as Zi,aq as Mo,ar as Ke,as as er,at as Hn,B as tr,y as nr}from"./index.ce33e143.js";let rn,Ot=0;const Fe=new Array(256);for(let e=0;e<256;e++)Fe[e]=(e+256).toString(16).substring(1);const or=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),Ln=4096;function mn(){(rn===void 0||Ot+16>Ln)&&(Ot=0,rn=or(Ln));const e=Array.prototype.slice.call(rn,Ot,Ot+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Fe[e[0]]+Fe[e[1]]+Fe[e[2]]+Fe[e[3]]+"-"+Fe[e[4]]+Fe[e[5]]+"-"+Fe[e[6]]+Fe[e[7]]+"-"+Fe[e[8]]+Fe[e[9]]+"-"+Fe[e[10]]+Fe[e[11]]+Fe[e[12]]+Fe[e[13]]+Fe[e[14]]+Fe[e[15]]}function ir(e){return e==null?null:e}function $n(e,t){return e==null?t===!0?`f_${mn()}`:null:e}function rr({getValue:e,required:t=!0}={}){if(ki.value===!0){const n=e!==void 0?ue(ir(e())):ue(null);return t===!0&&n.value===null&&ft(()=>{n.value=`f_${mn()}`}),e!==void 0&&he(e,o=>{n.value=$n(o,t)}),n}return e!==void 0?V(()=>$n(e(),t)):ue(`f_${mn()}`)}function ar({validate:e,resetValidation:t,requiresQForm:n}){const o=pn(Io,!1);if(o!==!1){const{props:s,proxy:u}=Me();Object.assign(u,{validate:e,resetValidation:t}),he(()=>s.disable,m=>{m===!0?(typeof t=="function"&&t(),o.unbindComponent(u)):o.bindComponent(u)}),ft(()=>{s.disable!==!0&&o.bindComponent(u)}),$e(()=>{s.disable!==!0&&o.unbindComponent(u)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const zn=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Nn=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,jn=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Vt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ft=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,an={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>zn.test(e),hexaColor:e=>Nn.test(e),hexOrHexaColor:e=>jn.test(e),rgbColor:e=>Vt.test(e),rgbaColor:e=>Ft.test(e),rgbOrRgbaColor:e=>Vt.test(e)||Ft.test(e),hexOrRgbColor:e=>zn.test(e)||Vt.test(e),hexaOrRgbaColor:e=>Nn.test(e)||Ft.test(e),anyColor:e=>jn.test(e)||Vt.test(e)||Ft.test(e)},lr=[!0,!1,"ondemand"],sr={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>lr.includes(e)}};function ur(e,t){const{props:n,proxy:o}=Me(),s=ue(!1),u=ue(null),m=ue(!1);ar({validate:a,resetValidation:c});let v=0,T;const C=V(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),k=V(()=>n.disable!==!0&&C.value===!0&&t.value===!1),R=V(()=>n.error===!0||s.value===!0),r=V(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:u.value);he(()=>n.modelValue,()=>{m.value=!0,k.value===!0&&n.lazyRules===!1&&l()});function i(){n.lazyRules!=="ondemand"&&k.value===!0&&m.value===!0&&l()}he(()=>n.reactiveRules,g=>{g===!0?T===void 0&&(T=he(()=>n.rules,i,{immediate:!0,deep:!0})):T!==void 0&&(T(),T=void 0)},{immediate:!0}),he(()=>n.lazyRules,i),he(e,g=>{g===!0?m.value=!0:k.value===!0&&n.lazyRules!=="ondemand"&&l()});function c(){v++,t.value=!1,m.value=!1,s.value=!1,u.value=null,l.cancel()}function a(g=n.modelValue){if(n.disable===!0||C.value===!1)return!0;const S=++v,w=t.value!==!0?()=>{m.value=!0}:()=>{},M=(L,G)=>{L===!0&&w(),s.value=L,u.value=G||null,t.value=!1},O=[];for(let L=0;L<n.rules.length;L++){const G=n.rules[L];let Y;if(typeof G=="function"?Y=G(g,an):typeof G=="string"&&an[G]!==void 0&&(Y=an[G](g)),Y===!1||typeof Y=="string")return M(!0,Y),!1;Y!==!0&&Y!==void 0&&O.push(Y)}return O.length===0?(M(!1),!0):(t.value=!0,Promise.all(O).then(L=>{if(L===void 0||Array.isArray(L)===!1||L.length===0)return S===v&&M(!1),!0;const G=L.find(Y=>Y===!1||typeof Y=="string");return S===v&&M(G!==void 0,G),G===void 0},L=>(S===v&&(console.error(L),M(!0)),!1)))}const l=Ro(a,0);return $e(()=>{T!==void 0&&T(),l.cancel()}),Object.assign(o,{resetValidation:c,validate:a}),bn(o,"hasError",()=>R.value),{isDirtyModel:m,hasRules:C,hasError:R,errorMessage:r,validate:a,resetValidation:c}}const Wn=/^on[A-Z]/;function cr(){const{attrs:e,vnode:t}=Me(),n={listeners:ue({}),attributes:ue({})};function o(){const s={},u={};for(const m in e)m!=="class"&&m!=="style"&&Wn.test(m)===!1&&(s[m]=e[m]);for(const m in t.props)Wn.test(m)===!0&&(u[m]=t.props[m]);n.attributes.value=s,n.listeners.value=u}return Po(o),o(),n}let lt=[],It=[];function Uo(e){It=It.filter(t=>t!==e)}function dr(e){Uo(e),It.push(e)}function Kn(e){Uo(e),It.length===0&&lt.length!==0&&(lt[lt.length-1](),lt=[])}function Mt(e){It.length===0?e():lt.push(e)}function fr(e){lt=lt.filter(t=>t!==e)}function Rt(e){return e!=null&&(""+e).length!==0}const en={...Pt,...sr,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Cn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function _n({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,proxy:o}=Me(),s=Dt(n,o.$q),u=rr({required:e,getValue:()=>n.for});return{requiredForAttr:e,tag:t===!0?V(()=>n.tag):{value:"label"},isDark:s,editable:V(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:ue(!1),focused:ue(!1),hasPopupOpen:!1,splitAttrs:cr(),targetUid:u,rootRef:ue(null),targetRef:ue(null),controlRef:ue(null)}}function kn(e){const{props:t,emit:n,slots:o,attrs:s,proxy:u}=Me(),{$q:m}=u;let v=null;e.hasValue===void 0&&(e.hasValue=V(()=>Rt(t.modelValue))),e.emitValue===void 0&&(e.emitValue=U=>{n("update:modelValue",U)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:E,onFocusout:p}),Object.assign(e,{clearValue:H,onControlFocusin:E,onControlFocusout:p,focus:G}),e.computedCounter===void 0&&(e.computedCounter=V(()=>{if(t.counter!==!1){const U=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,ee=t.maxlength!==void 0?t.maxlength:t.maxValues;return U+(ee!==void 0?" / "+ee:"")}}));const{isDirtyModel:T,hasRules:C,hasError:k,errorMessage:R,resetValidation:r}=ur(e.focused,e.innerLoading),i=e.floatingLabel!==void 0?V(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):V(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),c=V(()=>t.bottomSlots===!0||t.hint!==void 0||C.value===!0||t.counter===!0||t.error!==null),a=V(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),l=V(()=>`q-field row no-wrap items-start q-field--${a.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(i.value===!0?" q-field--float":"")+(S.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(k.value===!0?" q-field--error":"")+(k.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&c.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),g=V(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(k.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),S=V(()=>t.labelSlot===!0||t.label!==void 0),w=V(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&k.value!==!0?` text-${t.labelColor}`:"")),M=V(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:i.value,modelValue:t.modelValue,emitValue:e.emitValue})),O=V(()=>{const U={};return e.targetUid.value&&(U.for=e.targetUid.value),t.disable===!0&&(U["aria-disabled"]="true"),U});function L(){const U=document.activeElement;let ee=e.targetRef!==void 0&&e.targetRef.value;ee&&(U===null||U.id!==e.targetUid.value)&&(ee.hasAttribute("tabindex")===!0||(ee=ee.querySelector("[tabindex]")),ee&&ee!==U&&ee.focus({preventScroll:!0}))}function G(){Mt(L)}function Y(){fr(L);const U=document.activeElement;U!==null&&e.rootRef.value.contains(U)&&U.blur()}function E(U){v!==null&&(clearTimeout(v),v=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",U))}function p(U,ee){v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",U)),ee!==void 0&&ee())})}function H(U){je(U),m.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),Ee(()=>{const ee=T.value;r(),T.value=ee})}function P(){const U=[];return o.prepend!==void 0&&U.push($("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ye},o.prepend())),U.push($("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},Z())),k.value===!0&&t.noErrorIcon===!1&&U.push(re("error",[$(yt,{name:m.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?U.push(re("inner-loading-append",o.loading!==void 0?o.loading():[$(Ii,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&U.push(re("inner-clearable-append",[$(yt,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||m.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:H})])),o.append!==void 0&&U.push($("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ye},o.append())),e.getInnerAppend!==void 0&&U.push(re("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&U.push(e.getControlChild()),U}function Z(){const U=[];return t.prefix!==void 0&&t.prefix!==null&&U.push($("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&U.push(e.getShadowControl()),e.getControl!==void 0?U.push(e.getControl()):o.rawControl!==void 0?U.push(o.rawControl()):o.control!==void 0&&U.push($("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(M.value))),S.value===!0&&U.push($("div",{class:w.value},We(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&U.push($("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),U.concat(We(o.default))}function I(){let U,ee;k.value===!0?R.value!==null?(U=[$("div",{role:"alert"},R.value)],ee=`q--slot-error-${R.value}`):(U=We(o.error),ee="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(U=[$("div",t.hint)],ee=`q--slot-hint-${t.hint}`):(U=We(o.hint),ee="q--slot-hint"));const ve=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&ve===!1&&U===void 0)return;const ce=$("div",{key:ee,class:"q-field__messages col"},U);return $("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Ye},[t.hideBottomSpace===!0?ce:$(zt,{name:"q-transition--field-message"},()=>ce),ve===!0?$("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function re(U,ee){return ee===null?null:$("div",{key:U,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},ee)}let ne=!1;return Et(()=>{ne=!0}),wn(()=>{ne===!0&&t.autofocus===!0&&u.focus()}),t.autofocus===!0&&ft(()=>{u.focus()}),$e(()=>{v!==null&&clearTimeout(v)}),Object.assign(u,{focus:G,blur:Y}),function(){const ee=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...O.value}:O.value;return $(e.tag.value,{ref:e.rootRef,class:[l.value,s.class],style:s.style,...ee},[o.before!==void 0?$("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ye},o.before()):null,$("div",{class:"q-field__inner relative-position col self-stretch"},[$("div",{ref:e.controlRef,class:g.value,tabindex:-1,...e.controlEvents},P()),c.value===!0?I():null]),o.after!==void 0?$("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ye},o.after()):null])}}var pr=ze({name:"QField",inheritAttrs:!1,props:{...en,tag:{type:String,default:"label"}},emits:Cn,setup(){return kn(_n({requiredForAttr:!1,tagProp:!0}))}});const mr={xs:8,sm:10,md:14,lg:20,xl:24};var hr=ze({name:"QChip",props:{...Pt,...Ri,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=Me(),s=Dt(e,o),u=Pi(e,mr),m=V(()=>e.selected===!0||e.icon!==void 0),v=V(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),T=V(()=>e.iconRemove||o.iconSet.chip.remove),C=V(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),k=V(()=>{const l=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(l?` text-${l} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(C.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),R=V(()=>{const l=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},g={...l,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:l,remove:g}});function r(l){l.keyCode===13&&i(l)}function i(l){e.disable||(n("update:selected",!e.selected),n("click",l))}function c(l){(l.keyCode===void 0||l.keyCode===13)&&(je(l),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function a(){const l=[];C.value===!0&&l.push($("div",{class:"q-focus-helper"})),m.value===!0&&l.push($(yt,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const g=e.label!==void 0?[$("div",{class:"ellipsis"},[e.label])]:void 0;return l.push($("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ei(t.default,g))),e.iconRight&&l.push($(yt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&l.push($(yt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:T.value,...R.value.remove,onClick:c,onKeyup:c})),l}return()=>{if(e.modelValue===!1)return;const l={class:k.value,style:u.value};return C.value===!0&&Object.assign(l,R.value.chip,{onClick:i,onKeyup:r}),Di("div",l,a(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Mi,e.ripple]])}}});function gr(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Ui.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const vr={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function yr({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:s,emit:u}=Me(),m=ue(null);let v=null;function T(i){return m.value===null?!1:i===void 0||i.touches===void 0||i.touches.length<=1}const C={};n===void 0&&(Object.assign(C,{hide(i){s.hide(i)},toggle(i){s.toggle(i),i.qAnchorHandled=!0},toggleKey(i){Zt(i,13)===!0&&C.toggle(i)},contextClick(i){s.hide(i),Ye(i),Ee(()=>{s.show(i),i.qAnchorHandled=!0})},prevent:Ye,mobileTouch(i){if(C.mobileCleanup(i),T(i)!==!0)return;s.hide(i),m.value.classList.add("non-selectable");const c=i.target;Bn(C,"anchor",[[c,"touchmove","mobileCleanup","passive"],[c,"touchend","mobileCleanup","passive"],[c,"touchcancel","mobileCleanup","passive"],[m.value,"contextmenu","prevent","notPassive"]]),v=setTimeout(()=>{v=null,s.show(i),i.qAnchorHandled=!0},300)},mobileCleanup(i){m.value.classList.remove("non-selectable"),v!==null&&(clearTimeout(v),v=null),e.value===!0&&i!==void 0&&gr()}}),n=function(i=o.contextMenu){if(o.noParentEvent===!0||m.value===null)return;let c;i===!0?s.$q.platform.is.mobile===!0?c=[[m.value,"touchstart","mobileTouch","passive"]]:c=[[m.value,"mousedown","hide","passive"],[m.value,"contextmenu","contextClick","notPassive"]]:c=[[m.value,"click","toggle","passive"],[m.value,"keyup","toggleKey","passive"]],Bn(C,"anchor",c)});function k(){Ai(C,"anchor")}function R(i){for(m.value=i;m.value.classList.contains("q-anchor--skip");)m.value=m.value.parentNode;n()}function r(){if(o.target===!1||o.target===""||s.$el.parentNode===null)m.value=null;else if(o.target===!0)R(s.$el.parentNode);else{let i=o.target;if(typeof o.target=="string")try{i=document.querySelector(o.target)}catch{i=void 0}i!=null?(m.value=i.$el||i,n()):(m.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return he(()=>o.contextMenu,i=>{m.value!==null&&(k(),n(i))}),he(()=>o.target,()=>{m.value!==null&&k(),r()}),he(()=>o.noParentEvent,i=>{m.value!==null&&(i===!0?k():n())}),ft(()=>{r(),t!==!0&&o.modelValue===!0&&m.value===null&&u("update:modelValue",!1)}),$e(()=>{v!==null&&clearTimeout(v),k()}),{anchorEl:m,canShow:T,anchorEvents:C}}function Sr(e,t){const n=ue(null);let o;function s(v,T){const C=`${T!==void 0?"add":"remove"}EventListener`,k=T!==void 0?T:o;v!==window&&v[C]("scroll",k,Xe.passive),window[C]("scroll",k,Xe.passive),o=T}function u(){n.value!==null&&(s(n.value),n.value=null)}const m=he(()=>e.noParentEvent,()=>{n.value!==null&&(u(),t())});return $e(m),{localScrollTarget:n,unconfigureScrollTarget:u,changeScrollEvent:s}}const Ao={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Oo=["beforeShow","show","beforeHide","hide"];function Vo({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:s,processOnMount:u}){const m=Me(),{props:v,emit:T,proxy:C}=m;let k;function R(S){e.value===!0?c(S):r(S)}function r(S){if(v.disable===!0||S!==void 0&&S.qAnchorHandled===!0||t!==void 0&&t(S)!==!0)return;const w=v["onUpdate:modelValue"]!==void 0;w===!0&&(T("update:modelValue",!0),k=S,Ee(()=>{k===S&&(k=void 0)})),(v.modelValue===null||w===!1)&&i(S)}function i(S){e.value!==!0&&(e.value=!0,T("beforeShow",S),o!==void 0?o(S):T("show",S))}function c(S){if(v.disable===!0)return;const w=v["onUpdate:modelValue"]!==void 0;w===!0&&(T("update:modelValue",!1),k=S,Ee(()=>{k===S&&(k=void 0)})),(v.modelValue===null||w===!1)&&a(S)}function a(S){e.value!==!1&&(e.value=!1,T("beforeHide",S),s!==void 0?s(S):T("hide",S))}function l(S){v.disable===!0&&S===!0?v["onUpdate:modelValue"]!==void 0&&T("update:modelValue",!1):S===!0!==e.value&&(S===!0?i:a)(k)}he(()=>v.modelValue,l),n!==void 0&&Oi(m)===!0&&he(()=>C.$route.fullPath,()=>{n.value===!0&&e.value===!0&&c()}),u===!0&&ft(()=>{l(v.modelValue)});const g={show:r,hide:c,toggle:R};return Object.assign(C,g),g}const St=[];function br(e){return St.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Fo(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return $t(e)}else if(e.__qPortal===!0){const n=$t(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=$t(e)}while(e!=null)}function wr(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Fo(e,t);continue}e.hide(t)}e=$t(e)}}const xr=ze({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Tr(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Bo(e,t,n,o){const s=ue(!1),u=ue(!1);let m=null;const v={},T=o==="dialog"&&Tr(e);function C(R){if(R===!0){Kn(v),u.value=!0;return}u.value=!1,s.value===!1&&(T===!1&&m===null&&(m=Bi(!1,o)),s.value=!0,St.push(e.proxy),dr(v))}function k(R){if(u.value=!1,R!==!0)return;Kn(v),s.value=!1;const r=St.indexOf(e.proxy);r!==-1&&St.splice(r,1),m!==null&&(qi(m),m=null)}return Vi(()=>{k(!0)}),e.proxy.__qPortal=!0,bn(e.proxy,"contentEl",()=>t.value),{showPortal:C,hidePortal:k,portalIsActive:s,portalIsAccessible:u,renderPortal:()=>T===!0?n():s.value===!0?[$(Fi,{to:m},$(xr,n))]:void 0}}const qo={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Ho(e,t=()=>{},n=()=>{}){return{transitionProps:V(()=>{const o=`q-transition--${e.transitionShow||t()}`,s=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${s}-leave-from`,leaveActiveClass:`${s}-leave-active`,leaveToClass:`${s}-leave-to`}}),transitionStyle:V(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Lo(){let e;const t=Me();function n(){e=void 0}return Et(n),$e(n),{removeTick:n,registerTick(o){e=o,Ee(()=>{e===o&&(xn(t)===!1&&e(),e=void 0)})}}}function $o(){let e=null;const t=Me();function n(){e!==null&&(clearTimeout(e),e=null)}return Et(n),$e(n),{removeTimeout:n,registerTimeout(o,s){n(),xn(t)===!1&&(e=setTimeout(()=>{e=null,o()},s))}}}const st=[];let wt;function Cr(e){wt=e.keyCode===27}function _r(){wt===!0&&(wt=!1)}function kr(e){wt===!0&&(wt=!1,Zt(e,27)===!0&&st[st.length-1](e))}function zo(e){window[e]("keydown",Cr),window[e]("blur",_r),window[e]("keyup",kr),wt=!1}function No(e){Ze.is.desktop===!0&&(st.push(e),st.length===1&&zo("addEventListener"))}function Nt(e){const t=st.indexOf(e);t!==-1&&(st.splice(t,1),st.length===0&&zo("removeEventListener"))}const ut=[];function jo(e){ut[ut.length-1](e)}function Wo(e){Ze.is.desktop===!0&&(ut.push(e),ut.length===1&&document.body.addEventListener("focusin",jo))}function hn(e){const t=ut.indexOf(e);t!==-1&&(ut.splice(t,1),ut.length===0&&document.body.removeEventListener("focusin",jo))}const{notPassiveCapture:jt}=Xe,ct=[];function Wt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=St.length-1;for(;n>=0;){const o=St[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=ct.length-1;o>=0;o--){const s=ct[o];if((s.anchorEl.value===null||s.anchorEl.value.contains(t)===!1)&&(t===document.body||s.innerRef.value!==null&&s.innerRef.value.contains(t)===!1))e.qClickOutside=!0,s.onClickOutside(e);else return}}function Ir(e){ct.push(e),ct.length===1&&(document.addEventListener("mousedown",Wt,jt),document.addEventListener("touchstart",Wt,jt))}function Qn(e){const t=ct.findIndex(n=>n===e);t!==-1&&(ct.splice(t,1),ct.length===0&&(document.removeEventListener("mousedown",Wt,jt),document.removeEventListener("touchstart",Wt,jt)))}let Gn,Jn;function Xn(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Rr(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const gn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{gn[`${e}#ltr`]=e,gn[`${e}#rtl`]=e});function Yn(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:gn[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Pr(e,t){let{top:n,left:o,right:s,bottom:u,width:m,height:v}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],u+=t[1],s+=t[0],m+=t[0],v+=t[1]),{top:n,bottom:u,height:v,left:o,right:s,width:m,middle:o+(s-o)/2,center:n+(u-n)/2}}function Dr(e,t,n){let{top:o,left:s}=e.getBoundingClientRect();return o+=t.top,s+=t.left,n!==void 0&&(o+=n[1],s+=n[0]),{top:o,bottom:o+1,height:1,left:s,right:s+1,width:1,middle:s,center:o}}function Er(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Zn(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function Ko(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Ko(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:s,anchorOrigin:u,selfOrigin:m,absoluteOffset:v,fit:T,cover:C,maxHeight:k,maxWidth:R}=e;if(Ze.is.ios===!0&&window.visualViewport!==void 0){const L=document.body.style,{offsetLeft:G,offsetTop:Y}=window.visualViewport;G!==Gn&&(L.setProperty("--q-pe-left",G+"px"),Gn=G),Y!==Jn&&(L.setProperty("--q-pe-top",Y+"px"),Jn=Y)}const{scrollLeft:r,scrollTop:i}=n,c=v===void 0?Pr(s,C===!0?[0,0]:o):Dr(s,v,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:R||"100vw",maxHeight:k||"100vh",visibility:"visible"});const{offsetWidth:a,offsetHeight:l}=n,{elWidth:g,elHeight:S}=T===!0||C===!0?{elWidth:Math.max(c.width,a),elHeight:C===!0?Math.max(c.height,l):l}:{elWidth:a,elHeight:l};let w={maxWidth:R,maxHeight:k};(T===!0||C===!0)&&(w.minWidth=c.width+"px",C===!0&&(w.minHeight=c.height+"px")),Object.assign(n.style,w);const M=Er(g,S);let O=Zn(c,M,u,m);if(v===void 0||o===void 0)ln(O,c,M,u,m);else{const{top:L,left:G}=O;ln(O,c,M,u,m);let Y=!1;if(O.top!==L){Y=!0;const E=2*o[1];c.center=c.top-=E,c.bottom-=E+2}if(O.left!==G){Y=!0;const E=2*o[0];c.middle=c.left-=E,c.right-=E+2}Y===!0&&(O=Zn(c,M,u,m),ln(O,c,M,u,m))}w={top:O.top+"px",left:O.left+"px"},O.maxHeight!==void 0&&(w.maxHeight=O.maxHeight+"px",c.height>O.maxHeight&&(w.minHeight=w.maxHeight)),O.maxWidth!==void 0&&(w.maxWidth=O.maxWidth+"px",c.width>O.maxWidth&&(w.minWidth=w.maxWidth)),Object.assign(n.style,w),n.scrollTop!==i&&(n.scrollTop=i),n.scrollLeft!==r&&(n.scrollLeft=r)}function ln(e,t,n,o,s){const u=n.bottom,m=n.right,v=bi(),T=window.innerHeight-v,C=document.body.clientWidth;if(e.top<0||e.top+u>T)if(s.vertical==="center")e.top=t[o.vertical]>T/2?Math.max(0,T-u):0,e.maxHeight=Math.min(u,T);else if(t[o.vertical]>T/2){const k=Math.min(T,o.vertical==="center"?t.center:o.vertical===s.vertical?t.bottom:t.top);e.maxHeight=Math.min(u,k),e.top=Math.max(0,k-u)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===s.vertical?t.top:t.bottom),e.maxHeight=Math.min(u,T-e.top);if(e.left<0||e.left+m>C)if(e.maxWidth=Math.min(m,C),s.horizontal==="middle")e.left=t[o.horizontal]>C/2?Math.max(0,C-m):0;else if(t[o.horizontal]>C/2){const k=Math.min(C,o.horizontal==="middle"?t.middle:o.horizontal===s.horizontal?t.right:t.left);e.maxWidth=Math.min(m,k),e.left=Math.max(0,k-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===s.horizontal?t.left:t.right),e.maxWidth=Math.min(m,C-e.left)}var Mr=ze({name:"QMenu",inheritAttrs:!1,props:{...vr,...Ao,...Pt,...qo,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Xn},self:{type:String,validator:Xn},offset:{type:Array,validator:Rr},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Oo,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let s=null,u,m,v;const T=Me(),{proxy:C}=T,{$q:k}=C,R=ue(null),r=ue(!1),i=V(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),c=Dt(e,k),{registerTick:a,removeTick:l}=Lo(),{registerTimeout:g}=$o(),{transitionProps:S,transitionStyle:w}=Ho(e),{localScrollTarget:M,changeScrollEvent:O,unconfigureScrollTarget:L}=Sr(e,z),{anchorEl:G,canShow:Y}=yr({showing:r}),{hide:E}=Vo({showing:r,canShow:Y,handleShow:ce,handleHide:_,hideOnRouteChange:i,processOnMount:!0}),{showPortal:p,hidePortal:H,renderPortal:P}=Bo(T,R,ge,"menu"),Z={anchorEl:G,innerRef:R,onClickOutside(F){if(e.persistent!==!0&&r.value===!0)return E(F),(F.type==="touchstart"||F.target.classList.contains("q-dialog__backdrop"))&&je(F),!0}},I=V(()=>Yn(e.anchor||(e.cover===!0?"center middle":"bottom start"),k.lang.rtl)),re=V(()=>e.cover===!0?I.value:Yn(e.self||"top start",k.lang.rtl)),ne=V(()=>(e.square===!0?" q-menu--square":"")+(c.value===!0?" q-menu--dark q-dark":"")),U=V(()=>e.autoClose===!0?{onClick:ae}:{}),ee=V(()=>r.value===!0&&e.persistent!==!0);he(ee,F=>{F===!0?(No(A),Ir(Z)):(Nt(A),Qn(Z))});function ve(){Mt(()=>{let F=R.value;F&&F.contains(document.activeElement)!==!0&&(F=F.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||F.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||F.querySelector("[autofocus], [data-autofocus]")||F,F.focus({preventScroll:!0}))})}function ce(F){if(s=e.noRefocus===!1?document.activeElement:null,Wo(se),p(),z(),u=void 0,F!==void 0&&(e.touchPosition||e.contextMenu)){const Se=Hi(F);if(Se.left!==void 0){const{top:Ae,left:Qe}=G.value.getBoundingClientRect();u={left:Se.left-Qe,top:Se.top-Ae}}}m===void 0&&(m=he(()=>k.screen.width+"|"+k.screen.height+"|"+e.self+"|"+e.anchor+"|"+k.lang.rtl,W)),e.noFocus!==!0&&document.activeElement.blur(),a(()=>{W(),e.noFocus!==!0&&ve()}),g(()=>{k.platform.is.ios===!0&&(v=e.autoClose,R.value.click()),W(),p(!0),n("show",F)},e.transitionDuration)}function _(F){l(),H(),x(!0),s!==null&&(F===void 0||F.qClickOutside!==!0)&&(((F&&F.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),g(()=>{H(!0),n("hide",F)},e.transitionDuration)}function x(F){u=void 0,m!==void 0&&(m(),m=void 0),(F===!0||r.value===!0)&&(hn(se),L(),Qn(Z),Nt(A)),F!==!0&&(s=null)}function z(){(G.value!==null||e.scrollTarget!==void 0)&&(M.value=wi(G.value,e.scrollTarget),O(M.value,W))}function ae(F){v!==!0?(Fo(C,F),n("click",F)):v=!1}function se(F){ee.value===!0&&e.noFocus!==!0&&Do(R.value,F.target)!==!0&&ve()}function A(F){n("escapeKey"),E(F)}function W(){Ko({targetEl:R.value,offset:e.offset,anchorEl:G.value,anchorOrigin:I.value,selfOrigin:re.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ge(){return $(zt,S.value,()=>r.value===!0?$("div",{role:"menu",...o,ref:R,tabindex:-1,class:["q-menu q-position-engine scroll"+ne.value,o.class],style:[o.style,w.value],...U.value},We(t.default)):null)}return $e(x),Object.assign(C,{focus:ve,updatePosition:W}),P}});function Ur(e,t,n){let o;function s(){o!==void 0&&(qn.remove(o),o=void 0)}return $e(()=>{e.value===!0&&s()}),{removeFromHistory:s,addToHistory(){o={condition:()=>n.value===!0,handler:t},qn.add(o)}}}let Ct=0,sn,un,kt,cn=!1,eo,to,no,at=null;function Ar(e){Or(e)&&je(e)}function Or(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Li(e),n=e.shiftKey&&!e.deltaX,o=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),s=n||o?e.deltaY:e.deltaX;for(let u=0;u<t.length;u++){const m=t[u];if(Ci(m,o))return o?s<0&&m.scrollTop===0?!0:s>0&&m.scrollTop+m.clientHeight===m.scrollHeight:s<0&&m.scrollLeft===0?!0:s>0&&m.scrollLeft+m.clientWidth===m.scrollWidth}return!0}function oo(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Bt(e){cn!==!0&&(cn=!0,requestAnimationFrame(()=>{cn=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:o}=document.scrollingElement;(kt===void 0||t!==window.innerHeight)&&(kt=n-t,document.scrollingElement.scrollTop=o),o>kt&&(document.scrollingElement.scrollTop-=Math.ceil((o-kt)/8))}))}function io(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:s}=window.getComputedStyle(t);sn=xi(window),un=Ti(window),eo=t.style.left,to=t.style.top,no=window.location.href,t.style.left=`-${sn}px`,t.style.top=`-${un}px`,s!=="hidden"&&(s==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Ze.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Bt,Xe.passiveCapture),window.visualViewport.addEventListener("scroll",Bt,Xe.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",oo,Xe.passiveCapture))}Ze.is.desktop===!0&&Ze.is.mac===!0&&window[`${e}EventListener`]("wheel",Ar,Xe.notPassive),e==="remove"&&(Ze.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",Bt,Xe.passiveCapture),window.visualViewport.removeEventListener("scroll",Bt,Xe.passiveCapture)):window.removeEventListener("scroll",oo,Xe.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=eo,t.style.top=to,window.location.href===no&&window.scrollTo(sn,un),kt=void 0)}function Vr(e){let t="add";if(e===!0){if(Ct++,at!==null){clearTimeout(at),at=null;return}if(Ct>1)return}else{if(Ct===0||(Ct--,Ct>0))return;if(t="remove",Ze.is.ios===!0&&Ze.is.nativeMobile===!0){at!==null&&clearTimeout(at),at=setTimeout(()=>{io(t),at=null},100);return}}io(t)}function Fr(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Vr(t))}}}let qt=0;const Br={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ro={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Kt=ze({name:"QDialog",inheritAttrs:!1,props:{...Ao,...qo,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Oo,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const s=Me(),u=ue(null),m=ue(!1),v=ue(!1);let T=null,C=null,k,R;const r=V(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:i}=Fr(),{registerTimeout:c}=$o(),{registerTick:a,removeTick:l}=Lo(),{transitionProps:g,transitionStyle:S}=Ho(e,()=>ro[e.position][0],()=>ro[e.position][1]),w=V(()=>S.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:M,hidePortal:O,portalIsAccessible:L,renderPortal:G}=Bo(s,u,se,"dialog"),{hide:Y}=Vo({showing:m,hideOnRouteChange:r,handleShow:re,handleHide:ne,processOnMount:!0}),{addToHistory:E,removeFromHistory:p}=Ur(m,Y,r),H=V(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Br[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),P=V(()=>m.value===!0&&e.seamless!==!0),Z=V(()=>e.autoClose===!0?{onClick:x}:{}),I=V(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${P.value===!0?"modal":"seamless"}`,o.class]);he(()=>e.maximized,A=>{m.value===!0&&_(A)}),he(P,A=>{i(A),A===!0?(Wo(ae),No(ve)):(hn(ae),Nt(ve))});function re(A){E(),C=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,_(e.maximized),M(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),a(U)):l(),c(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:W,bottom:ge}=document.activeElement.getBoundingClientRect(),{innerHeight:F}=window,Se=window.visualViewport!==void 0?window.visualViewport.height:F;W>0&&ge>Se/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Se,ge>=F?1/0:Math.ceil(document.scrollingElement.scrollTop+ge-Se/2))),document.activeElement.scrollIntoView()}R=!0,u.value.click(),R=!1}M(!0),v.value=!1,n("show",A)},e.transitionDuration)}function ne(A){l(),p(),ce(!0),v.value=!0,O(),C!==null&&(((A&&A.type.indexOf("key")===0?C.closest('[tabindex]:not([tabindex^="-"])'):void 0)||C).focus(),C=null),c(()=>{O(!0),v.value=!1,n("hide",A)},e.transitionDuration)}function U(A){Mt(()=>{let W=u.value;W===null||W.contains(document.activeElement)===!0||(W=(A!==""?W.querySelector(A):null)||W.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||W.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||W.querySelector("[autofocus], [data-autofocus]")||W,W.focus({preventScroll:!0}))})}function ee(A){A&&typeof A.focus=="function"?A.focus({preventScroll:!0}):U(),n("shake");const W=u.value;W!==null&&(W.classList.remove("q-animate--scale"),W.classList.add("q-animate--scale"),T!==null&&clearTimeout(T),T=setTimeout(()=>{T=null,u.value!==null&&(W.classList.remove("q-animate--scale"),U())},170))}function ve(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ee():(n("escapeKey"),Y()))}function ce(A){T!==null&&(clearTimeout(T),T=null),(A===!0||m.value===!0)&&(_(!1),e.seamless!==!0&&(i(!1),hn(ae),Nt(ve))),A!==!0&&(C=null)}function _(A){A===!0?k!==!0&&(qt<1&&document.body.classList.add("q-body--dialog"),qt++,k=!0):k===!0&&(qt<2&&document.body.classList.remove("q-body--dialog"),qt--,k=!1)}function x(A){R!==!0&&(Y(A),n("click",A))}function z(A){e.persistent!==!0&&e.noBackdropDismiss!==!0?Y(A):e.noShake!==!0&&ee()}function ae(A){e.allowFocusOutside!==!0&&L.value===!0&&Do(u.value,A.target)!==!0&&U('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:U,shake:ee,__updateRefocusTarget(A){C=A||null}}),$e(ce);function se(){return $("div",{role:"dialog","aria-modal":P.value===!0?"true":"false",...o,class:I.value},[$(zt,{name:"q-transition--fade",appear:!0},()=>P.value===!0?$("div",{class:"q-dialog__backdrop fixed-full",style:w.value,"aria-hidden":"true",tabindex:-1,onClick:z}):null),$(zt,g.value,()=>m.value===!0?$("div",{ref:u,class:H.value,style:S.value,tabindex:-1,...Z.value},We(t.default)):null)])}return G}});let Qt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Qt=e.scrollLeft>=0,e.remove()}const Ge=1e3,qr=["start","center","end","start-force","center-force","end-force"],Qo=Array.prototype.filter,Hr=window.getComputedStyle(document.body).overflowAnchor===void 0?$i:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Qo.call(n,s=>s.dataset&&s.dataset.qVsAnchor!==void 0).forEach(s=>{delete s.dataset.qVsAnchor});const o=n[t];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function bt(e,t){return e+t}function dn(e,t,n,o,s,u,m,v){const T=e===window?document.scrollingElement||document.documentElement:e,C=s===!0?"offsetWidth":"offsetHeight",k={scrollStart:0,scrollViewSize:-m-v,scrollMaxSize:0,offsetStart:-m,offsetEnd:-v};if(s===!0?(e===window?(k.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,k.scrollViewSize+=document.documentElement.clientWidth):(k.scrollStart=T.scrollLeft,k.scrollViewSize+=T.clientWidth),k.scrollMaxSize=T.scrollWidth,u===!0&&(k.scrollStart=(Qt===!0?k.scrollMaxSize-k.scrollViewSize:0)-k.scrollStart)):(e===window?(k.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,k.scrollViewSize+=document.documentElement.clientHeight):(k.scrollStart=T.scrollTop,k.scrollViewSize+=T.clientHeight),k.scrollMaxSize=T.scrollHeight),n!==null)for(let R=n.previousElementSibling;R!==null;R=R.previousElementSibling)R.classList.contains("q-virtual-scroll--skip")===!1&&(k.offsetStart+=R[C]);if(o!==null)for(let R=o.nextElementSibling;R!==null;R=R.nextElementSibling)R.classList.contains("q-virtual-scroll--skip")===!1&&(k.offsetEnd+=R[C]);if(t!==e){const R=T.getBoundingClientRect(),r=t.getBoundingClientRect();s===!0?(k.offsetStart+=r.left-R.left,k.offsetEnd-=r.width):(k.offsetStart+=r.top-R.top,k.offsetEnd-=r.height),e!==window&&(k.offsetStart+=k.scrollStart),k.offsetEnd+=k.scrollMaxSize-k.offsetStart}return k}function ao(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(Qt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(Qt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function _t(e,t,n,o){if(n>=o)return 0;const s=t.length,u=Math.floor(n/Ge),m=Math.floor((o-1)/Ge)+1;let v=e.slice(u,m).reduce(bt,0);return n%Ge!==0&&(v-=t.slice(u*Ge,n).reduce(bt,0)),o%Ge!==0&&o!==s&&(v-=t.slice(o,m*Ge).reduce(bt,0)),v}const Lr={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},$r={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Lr};function zr({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const s=Me(),{props:u,emit:m,proxy:v}=s,{$q:T}=v;let C,k,R,r=[],i;const c=ue(0),a=ue(0),l=ue({}),g=ue(null),S=ue(null),w=ue(null),M=ue({from:0,to:0}),O=V(()=>u.tableColspan!==void 0?u.tableColspan:100);o===void 0&&(o=V(()=>u.virtualScrollItemSize));const L=V(()=>o.value+";"+u.virtualScrollHorizontal),G=V(()=>L.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);he(G,()=>{ne()}),he(L,Y);function Y(){re(k,!0)}function E(_){re(_===void 0?k:_)}function p(_,x){const z=t();if(z==null||z.nodeType===8)return;const ae=dn(z,n(),g.value,S.value,u.virtualScrollHorizontal,T.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);R!==ae.scrollViewSize&&ne(ae.scrollViewSize),P(z,ae,Math.min(e.value-1,Math.max(0,parseInt(_,10)||0)),0,qr.indexOf(x)!==-1?x:k!==-1&&_>k?"end":"start")}function H(){const _=t();if(_==null||_.nodeType===8)return;const x=dn(_,n(),g.value,S.value,u.virtualScrollHorizontal,T.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),z=e.value-1,ae=x.scrollMaxSize-x.offsetStart-x.offsetEnd-a.value;if(C===x.scrollStart)return;if(x.scrollMaxSize<=0){P(_,x,0,0);return}R!==x.scrollViewSize&&ne(x.scrollViewSize),Z(M.value.from);const se=Math.floor(x.scrollMaxSize-Math.max(x.scrollViewSize,x.offsetEnd)-Math.min(i[z],x.scrollViewSize/2));if(se>0&&Math.ceil(x.scrollStart)>=se){P(_,x,z,x.scrollMaxSize-x.offsetEnd-r.reduce(bt,0));return}let A=0,W=x.scrollStart-x.offsetStart,ge=W;if(W<=ae&&W+x.scrollViewSize>=c.value)W-=c.value,A=M.value.from,ge=W;else for(let F=0;W>=r[F]&&A<z;F++)W-=r[F],A+=Ge;for(;W>0&&A<z;)W-=i[A],W>-x.scrollViewSize?(A++,ge=W):ge=i[A]+W;P(_,x,A,ge)}function P(_,x,z,ae,se){const A=typeof se=="string"&&se.indexOf("-force")!==-1,W=A===!0?se.replace("-force",""):se,ge=W!==void 0?W:"start";let F=Math.max(0,z-l.value[ge]),Se=F+l.value.total;Se>e.value&&(Se=e.value,F=Math.max(0,Se-l.value.total)),C=x.scrollStart;const Ae=F!==M.value.from||Se!==M.value.to;if(Ae===!1&&W===void 0){ee(z);return}const{activeElement:Qe}=document,Ue=w.value;Ae===!0&&Ue!==null&&Ue!==Qe&&Ue.contains(Qe)===!0&&(Ue.addEventListener("focusout",I),setTimeout(()=>{Ue!==null&&Ue.removeEventListener("focusout",I)})),Hr(Ue,z-F);const Je=W!==void 0?i.slice(F,z).reduce(bt,0):0;if(Ae===!0){const B=Se>=M.value.from&&F<=M.value.to?M.value.to:Se;M.value={from:F,to:B},c.value=_t(r,i,0,F),a.value=_t(r,i,Se,e.value),requestAnimationFrame(()=>{M.value.to!==Se&&C===x.scrollStart&&(M.value={from:M.value.from,to:Se},a.value=_t(r,i,Se,e.value))})}requestAnimationFrame(()=>{if(C!==x.scrollStart)return;Ae===!0&&Z(F);const B=i.slice(F,z).reduce(bt,0),j=B+x.offsetStart+c.value,te=j+i[z];let fe=j+ae;if(W!==void 0){const q=B-Je,pe=x.scrollStart+q;fe=A!==!0&&pe<j&&te<pe+x.scrollViewSize?pe:W==="end"?te-x.scrollViewSize:j-(W==="start"?0:Math.round((x.scrollViewSize-i[z])/2))}C=fe,ao(_,fe,u.virtualScrollHorizontal,T.lang.rtl),ee(z)})}function Z(_){const x=w.value;if(x){const z=Qo.call(x.children,F=>F.classList&&F.classList.contains("q-virtual-scroll--skip")===!1),ae=z.length,se=u.virtualScrollHorizontal===!0?F=>F.getBoundingClientRect().width:F=>F.offsetHeight;let A=_,W,ge;for(let F=0;F<ae;){for(W=se(z[F]),F++;F<ae&&z[F].classList.contains("q-virtual-scroll--with-prev")===!0;)W+=se(z[F]),F++;ge=W-i[A],ge!==0&&(i[A]+=ge,r[Math.floor(A/Ge)]+=ge),A++}}}function I(){w.value!==null&&w.value!==void 0&&w.value.focus()}function re(_,x){const z=1*o.value;(x===!0||Array.isArray(i)===!1)&&(i=[]);const ae=i.length;i.length=e.value;for(let A=e.value-1;A>=ae;A--)i[A]=z;const se=Math.floor((e.value-1)/Ge);r=[];for(let A=0;A<=se;A++){let W=0;const ge=Math.min((A+1)*Ge,e.value);for(let F=A*Ge;F<ge;F++)W+=i[F];r.push(W)}k=-1,C=void 0,c.value=_t(r,i,0,M.value.from),a.value=_t(r,i,M.value.to,e.value),_>=0?(Z(M.value.from),Ee(()=>{p(_)})):ve()}function ne(_){if(_===void 0&&typeof window!="undefined"){const W=t();W!=null&&W.nodeType!==8&&(_=dn(W,n(),g.value,S.value,u.virtualScrollHorizontal,T.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}R=_;const x=parseFloat(u.virtualScrollSliceRatioBefore)||0,z=parseFloat(u.virtualScrollSliceRatioAfter)||0,ae=1+x+z,se=_===void 0||_<=0?1:Math.ceil(_/o.value),A=Math.max(1,se,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/ae));l.value={total:Math.ceil(A*ae),start:Math.ceil(A*x),center:Math.ceil(A*(.5+x)),end:Math.ceil(A*(1+x)),view:se}}function U(_,x){const z=u.virtualScrollHorizontal===!0?"width":"height",ae={["--q-virtual-scroll-item-"+z]:o.value+"px"};return[_==="tbody"?$(_,{class:"q-virtual-scroll__padding",key:"before",ref:g},[$("tr",[$("td",{style:{[z]:`${c.value}px`,...ae},colspan:O.value})])]):$(_,{class:"q-virtual-scroll__padding",key:"before",ref:g,style:{[z]:`${c.value}px`,...ae}}),$(_,{class:"q-virtual-scroll__content",key:"content",ref:w,tabindex:-1},x.flat()),_==="tbody"?$(_,{class:"q-virtual-scroll__padding",key:"after",ref:S},[$("tr",[$("td",{style:{[z]:`${a.value}px`,...ae},colspan:O.value})])]):$(_,{class:"q-virtual-scroll__padding",key:"after",ref:S,style:{[z]:`${a.value}px`,...ae}})]}function ee(_){k!==_&&(u.onVirtualScroll!==void 0&&m("virtualScroll",{index:_,from:M.value.from,to:M.value.to-1,direction:_<k?"decrease":"increase",ref:v}),k=_)}ne();const ve=Ro(H,T.platform.is.ios===!0?120:35);zi(()=>{ne()});let ce=!1;return Et(()=>{ce=!0}),wn(()=>{if(ce!==!0)return;const _=t();C!==void 0&&_!==void 0&&_!==null&&_.nodeType!==8?ao(_,C,u.virtualScrollHorizontal,T.lang.rtl):p(k)}),$e(()=>{ve.cancel()}),Object.assign(v,{scrollTo:p,reset:Y,refresh:E}),{virtualScrollSliceRange:M,virtualScrollSliceSizeComputed:l,setVirtualScrollSize:ne,onVirtualScrollEvt:ve,localResetVirtualScroll:re,padVirtualScroll:U,scrollTo:p,reset:Y,refresh:E}}const Go={name:String};function Jo(e){return V(()=>e.name||e.for)}const Nr=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,jr=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Wr=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Kr=/[a-z0-9_ -]$/i;function Xo(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Ze.is.firefox===!0?Kr.test(n.data)===!1:Nr.test(n.data)===!0||jr.test(n.data)===!0||Wr.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}function lo(e,t,n){if(n<=t)return t;const o=n-t+1;let s=t+(e-t)%o;return s<t&&(s=o+s),s===0?0:s}const so=e=>["add","add-unique","toggle"].includes(e),Qr=".*+?^${}()|[]\\",Gr=Object.keys(en);var vn=ze({name:"QSelect",inheritAttrs:!1,props:{...$r,...Go,...en,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:so},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Cn,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:o}=Me(),{$q:s}=o,u=ue(!1),m=ue(!1),v=ue(-1),T=ue(""),C=ue(!1),k=ue(!1);let R=null,r=null,i,c,a,l=null,g,S,w,M;const O=ue(null),L=ue(null),G=ue(null),Y=ue(null),E=ue(null),p=Jo(e),H=Xo(Un),P=V(()=>Array.isArray(e.options)?e.options.length:0),Z=V(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:I,virtualScrollSliceSizeComputed:re,localResetVirtualScroll:ne,padVirtualScroll:U,onVirtualScrollEvt:ee,scrollTo:ve,setVirtualScrollSize:ce}=zr({virtualScrollLength:P,getVirtualScrollTarget:li,getVirtualScrollEl:En,virtualScrollItemSizeComputed:Z}),_=_n(),x=V(()=>{const y=e.mapOptions===!0&&e.multiple!==!0,K=e.modelValue!==void 0&&(e.modelValue!==null||y===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const N=e.mapOptions===!0&&i!==void 0?i:[],de=K.map(Te=>_e(Te,N));return e.modelValue===null&&y===!0?de.filter(Te=>Te!==null):de}return K}),z=V(()=>{const y={};return Gr.forEach(K=>{const N=e[K];N!==void 0&&(y[K]=N)}),y}),ae=V(()=>e.optionsDark===null?_.isDark.value:e.optionsDark),se=V(()=>Rt(x.value)),A=V(()=>{let y="q-field__input q-placeholder col";return e.hideSelected===!0||x.value.length===0?[y,e.inputClass]:(y+=" q-field__input--padding",e.inputClass===void 0?y:[y,e.inputClass])}),W=V(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ge=V(()=>P.value===0),F=V(()=>x.value.map(y=>Re.value(y)).join(", ")),Se=V(()=>e.displayValue!==void 0?e.displayValue:F.value),Ae=V(()=>e.optionsHtml===!0?()=>!0:y=>y!=null&&y.html===!0),Qe=V(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||x.value.some(Ae.value))),Ue=V(()=>_.focused.value===!0?e.tabindex:-1),Je=V(()=>{const y={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${_.targetUid.value}_lb`};return v.value>=0&&(y["aria-activedescendant"]=`${_.targetUid.value}_${v.value}`),y}),B=V(()=>({id:`${_.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),j=V(()=>x.value.map((y,K)=>({index:K,opt:y,html:Ae.value(y),selected:!0,removeAtIndex:b,toggleOption:oe,tabindex:Ue.value}))),te=V(()=>{if(P.value===0)return[];const{from:y,to:K}=I.value;return e.options.slice(y,K).map((N,de)=>{const Te=qe.value(N)===!0,xe=be(N)===!0,Ve=y+de,Pe={clickable:!0,active:xe,activeClass:pe.value,manualFocus:!0,focused:!1,disable:Te,tabindex:-1,dense:e.optionsDense,dark:ae.value,role:"option","aria-selected":xe===!0?"true":"false",id:`${_.targetUid.value}_${Ve}`,onClick:()=>{oe(N)}};return Te!==!0&&(v.value===Ve&&(Pe.focused=!0),s.platform.is.desktop===!0&&(Pe.onMousemove=()=>{u.value===!0&&le(Ve)})),{index:Ve,opt:N,html:Ae.value(N),label:Re.value(N),selected:Pe.active,focused:Pe.focused,toggleOption:oe,setOptionIndex:le,itemProps:Pe}})}),fe=V(()=>e.dropdownIcon!==void 0?e.dropdownIcon:s.iconSet.arrow.dropdown),q=V(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),pe=V(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ye=V(()=>me(e.optionValue,"value")),Re=V(()=>me(e.optionLabel,"label")),qe=V(()=>me(e.optionDisable,"disable")),Ne=V(()=>x.value.map(y=>ye.value(y))),Be=V(()=>{const y={onInput:Un,onChange:H,onKeydown:Dn,onKeyup:nt,onKeypress:Pn,onFocus:ke,onClick(K){c===!0&&ot(K)}};return y.onCompositionstart=y.onCompositionupdate=y.onCompositionend=H,y});he(x,y=>{i=y,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&_.innerLoading.value!==!0&&(m.value!==!0&&u.value!==!0||se.value!==!0)&&(a!==!0&&gt(),(m.value===!0||u.value===!0)&&pt(""))},{immediate:!0}),he(()=>e.fillInput,gt),he(u,nn),he(P,Si);function f(y){return e.emitValue===!0?ye.value(y):y}function h(y){if(y!==-1&&y<x.value.length)if(e.multiple===!0){const K=e.modelValue.slice();n("remove",{index:y,value:K.splice(y,1)[0]}),n("update:modelValue",K)}else n("update:modelValue",null)}function b(y){h(y),_.focus()}function D(y,K){const N=f(y);if(e.multiple!==!0){e.fillInput===!0&&xt(Re.value(y),!0,!0),n("update:modelValue",N);return}if(x.value.length===0){n("add",{index:0,value:N}),n("update:modelValue",e.multiple===!0?[N]:N);return}if(K===!0&&be(y)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const de=e.modelValue.slice();n("add",{index:de.length,value:N}),de.push(N),n("update:modelValue",de)}function oe(y,K){if(_.editable.value!==!0||y===void 0||qe.value(y)===!0)return;const N=ye.value(y);if(e.multiple!==!0){K!==!0&&(xt(e.fillInput===!0?Re.value(y):"",!0,!0),rt()),L.value!==null&&L.value.focus(),(x.value.length===0||Tt(ye.value(x.value[0]),N)!==!0)&&n("update:modelValue",e.emitValue===!0?N:y);return}if((c!==!0||C.value===!0)&&_.focus(),ke(),x.value.length===0){const xe=e.emitValue===!0?N:y;n("add",{index:0,value:xe}),n("update:modelValue",e.multiple===!0?[xe]:xe);return}const de=e.modelValue.slice(),Te=Ne.value.findIndex(xe=>Tt(xe,N));if(Te!==-1)n("remove",{index:Te,value:de.splice(Te,1)[0]});else{if(e.maxValues!==void 0&&de.length>=e.maxValues)return;const xe=e.emitValue===!0?N:y;n("add",{index:de.length,value:xe}),de.push(xe)}n("update:modelValue",de)}function le(y){if(s.platform.is.desktop!==!0)return;const K=y!==-1&&y<P.value?y:-1;v.value!==K&&(v.value=K)}function ie(y=1,K){if(u.value===!0){let N=v.value;do N=lo(N+y,-1,P.value-1);while(N!==-1&&N!==v.value&&qe.value(e.options[N])===!0);v.value!==N&&(le(N),ve(N),K!==!0&&e.useInput===!0&&e.fillInput===!0&&Ut(N>=0?Re.value(e.options[N]):g,!0))}}function _e(y,K){const N=de=>Tt(ye.value(de),y);return e.options.find(N)||K.find(N)||y}function me(y,K){const N=y!==void 0?y:K;return typeof N=="function"?N:de=>de!==null&&typeof de=="object"&&N in de?de[N]:de}function be(y){const K=ye.value(y);return Ne.value.find(N=>Tt(N,K))!==void 0}function ke(y){e.useInput===!0&&L.value!==null&&(y===void 0||L.value===y.target&&y.target.value===F.value)&&L.value.select()}function Oe(y){Zt(y,27)===!0&&u.value===!0&&(ot(y),rt(),gt()),n("keyup",y)}function nt(y){const{value:K}=y.target;if(y.keyCode!==void 0){Oe(y);return}if(y.target.value="",R!==null&&(clearTimeout(R),R=null),r!==null&&(clearTimeout(r),r=null),gt(),typeof K=="string"&&K.length!==0){const N=K.toLocaleLowerCase(),de=xe=>{const Ve=e.options.find(Pe=>xe.value(Pe).toLocaleLowerCase()===N);return Ve===void 0?!1:(x.value.indexOf(Ve)===-1?oe(Ve):rt(),!0)},Te=xe=>{de(ye)!==!0&&(de(Re)===!0||xe===!0||pt(K,!0,()=>Te(!0)))};Te()}else _.clearValue(y)}function Pn(y){n("keypress",y)}function Dn(y){if(n("keydown",y),Eo(y)===!0)return;const K=T.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),N=y.shiftKey!==!0&&e.multiple!==!0&&(v.value!==-1||K===!0);if(y.keyCode===27){Ye(y);return}if(y.keyCode===9&&N===!1){mt();return}if(y.target===void 0||y.target.id!==_.targetUid.value||_.editable.value!==!0)return;if(y.keyCode===40&&_.innerLoading.value!==!0&&u.value===!1){je(y),ht();return}if(y.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&T.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?h(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(y.keyCode===35||y.keyCode===36)&&(typeof T.value!="string"||T.value.length===0)&&(je(y),v.value=-1,ie(y.keyCode===36?1:-1,e.multiple)),(y.keyCode===33||y.keyCode===34)&&re.value!==void 0&&(je(y),v.value=Math.max(-1,Math.min(P.value,v.value+(y.keyCode===33?-1:1)*re.value.view)),ie(y.keyCode===33?1:-1,e.multiple)),(y.keyCode===38||y.keyCode===40)&&(je(y),ie(y.keyCode===38?-1:1,e.multiple));const de=P.value;if((w===void 0||M<Date.now())&&(w=""),de>0&&e.useInput!==!0&&y.key!==void 0&&y.key.length===1&&y.altKey===!1&&y.ctrlKey===!1&&y.metaKey===!1&&(y.keyCode!==32||w.length!==0)){u.value!==!0&&ht(y);const Te=y.key.toLocaleLowerCase(),xe=w.length===1&&w[0]===Te;M=Date.now()+1500,xe===!1&&(je(y),w+=Te);const Ve=new RegExp("^"+w.split("").map(on=>Qr.indexOf(on)!==-1?"\\"+on:on).join(".*"),"i");let Pe=v.value;if(xe===!0||Pe<0||Ve.test(Re.value(e.options[Pe]))!==!0)do Pe=lo(Pe+1,-1,de-1);while(Pe!==v.value&&(qe.value(e.options[Pe])===!0||Ve.test(Re.value(e.options[Pe]))!==!0));v.value!==Pe&&Ee(()=>{le(Pe),ve(Pe),Pe>=0&&e.useInput===!0&&e.fillInput===!0&&Ut(Re.value(e.options[Pe]),!0)});return}if(!(y.keyCode!==13&&(y.keyCode!==32||e.useInput===!0||w!=="")&&(y.keyCode!==9||N===!1))){if(y.keyCode!==9&&je(y),v.value!==-1&&v.value<de){oe(e.options[v.value]);return}if(K===!0){const Te=(xe,Ve)=>{if(Ve){if(so(Ve)!==!0)return}else Ve=e.newValueMode;if(xt("",e.multiple!==!0,!0),xe==null)return;(Ve==="toggle"?oe:D)(xe,Ve==="add-unique"),e.multiple!==!0&&(L.value!==null&&L.value.focus(),rt())};if(e.onNewValue!==void 0?n("newValue",T.value,Te):Te(T.value),e.multiple!==!0)return}u.value===!0?mt():_.innerLoading.value!==!0&&ht()}}function En(){return c===!0?E.value:G.value!==null&&G.value.contentEl!==null?G.value.contentEl:void 0}function li(){return En()}function si(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?j.value.map(y=>t["selected-item"](y)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?j.value.map((y,K)=>$(hr,{key:"option-"+K,removable:_.editable.value===!0&&qe.value(y.opt)!==!0,dense:!0,textColor:e.color,tabindex:Ue.value,onRemove(){y.removeAtIndex(K)}},()=>$("span",{class:"ellipsis",[y.html===!0?"innerHTML":"textContent"]:Re.value(y.opt)}))):[$("span",{[Qe.value===!0?"innerHTML":"textContent"]:Se.value})]}function Mn(){if(ge.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:T.value}):void 0;const y=t.option!==void 0?t.option:N=>$(ko,{key:N.index,...N.itemProps},()=>$(_o,()=>$(_i,()=>$("span",{[N.html===!0?"innerHTML":"textContent"]:N.label}))));let K=U("div",te.value.map(y));return t["before-options"]!==void 0&&(K=t["before-options"]().concat(K)),ji(t["after-options"],K)}function ui(y,K){const N=K===!0?{...Je.value,..._.splitAttrs.attributes.value}:void 0,de={ref:K===!0?L:void 0,key:"i_t",class:A.value,style:e.inputStyle,value:T.value!==void 0?T.value:"",type:"search",...N,id:K===!0?_.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":y===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Be.value};return y!==!0&&c===!0&&(Array.isArray(de.class)===!0?de.class=[...de.class,"no-pointer-events"]:de.class+=" no-pointer-events"),$("input",de)}function Un(y){R!==null&&(clearTimeout(R),R=null),r!==null&&(clearTimeout(r),r=null),!(y&&y.target&&y.target.qComposing===!0)&&(Ut(y.target.value||""),a=!0,g=T.value,_.focused.value!==!0&&(c!==!0||C.value===!0)&&_.focus(),e.onFilter!==void 0&&(R=setTimeout(()=>{R=null,pt(T.value)},e.inputDebounce)))}function Ut(y,K){T.value!==y&&(T.value=y,K===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",y):r=setTimeout(()=>{r=null,n("inputValue",y)},e.inputDebounce))}function xt(y,K,N){a=N!==!0,e.useInput===!0&&(Ut(y,!0),(K===!0||N!==!0)&&(g=y),K!==!0&&pt(y))}function pt(y,K,N){if(e.onFilter===void 0||K!==!0&&_.focused.value!==!0)return;_.innerLoading.value===!0?n("filterAbort"):(_.innerLoading.value=!0,k.value=!0),y!==""&&e.multiple!==!0&&x.value.length!==0&&a!==!0&&y===Re.value(x.value[0])&&(y="");const de=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);l!==null&&clearTimeout(l),l=de,n("filter",y,(Te,xe)=>{(K===!0||_.focused.value===!0)&&l===de&&(clearTimeout(l),typeof Te=="function"&&Te(),k.value=!1,Ee(()=>{_.innerLoading.value=!1,_.editable.value===!0&&(K===!0?u.value===!0&&rt():u.value===!0?nn(!0):u.value=!0),typeof xe=="function"&&Ee(()=>{xe(o)}),typeof N=="function"&&Ee(()=>{N(o)})}))},()=>{_.focused.value===!0&&l===de&&(clearTimeout(l),_.innerLoading.value=!1,k.value=!1),u.value===!0&&(u.value=!1)})}function ci(){return $(Mr,{ref:G,class:W.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ge.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ae.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:q.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...B.value,onScrollPassive:ee,onBeforeShow:On,onBeforeHide:di,onShow:fi},Mn)}function di(y){Vn(y),mt()}function fi(){ce()}function pi(y){ot(y),L.value!==null&&L.value.focus(),C.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function mi(y){ot(y),Ee(()=>{C.value=!1})}function hi(){const y=[$(pr,{class:`col-auto ${_.fieldClass.value}`,...z.value,for:_.targetUid.value,dark:ae.value,square:!0,loading:k.value,itemAligned:!1,filled:!0,stackLabel:T.value.length!==0,..._.splitAttrs.listeners.value,onFocus:pi,onBlur:mi},{...t,rawControl:()=>_.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&y.push($("div",{ref:E,class:W.value+" scroll",style:e.popupContentStyle,...B.value,onClick:Ye,onScrollPassive:ee},Mn())),$(Kt,{ref:Y,modelValue:m.value,position:e.useInput===!0?"top":void 0,transitionShow:S,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:On,onBeforeHide:gi,onHide:vi,onShow:yi},()=>$("div",{class:"q-select__dialog"+(ae.value===!0?" q-select__dialog--dark q-dark":"")+(C.value===!0?" q-select__dialog--focused":"")},y))}function gi(y){Vn(y),Y.value!==null&&Y.value.__updateRefocusTarget(_.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),_.focused.value=!1}function vi(y){rt(),_.focused.value===!1&&n("blur",y),gt()}function yi(){const y=document.activeElement;(y===null||y.id!==_.targetUid.value)&&L.value!==null&&L.value!==y&&L.value.focus(),ce()}function mt(){m.value!==!0&&(v.value=-1,u.value===!0&&(u.value=!1),_.focused.value===!1&&(l!==null&&(clearTimeout(l),l=null),_.innerLoading.value===!0&&(n("filterAbort"),_.innerLoading.value=!1,k.value=!1)))}function ht(y){_.editable.value===!0&&(c===!0?(_.onControlFocusin(y),m.value=!0,Ee(()=>{_.focus()})):_.focus(),e.onFilter!==void 0?pt(T.value):(ge.value!==!0||t["no-option"]!==void 0)&&(u.value=!0))}function rt(){m.value=!1,mt()}function gt(){e.useInput===!0&&xt(e.multiple!==!0&&e.fillInput===!0&&x.value.length!==0&&Re.value(x.value[0])||"",!0,!0)}function nn(y){let K=-1;if(y===!0){if(x.value.length!==0){const N=ye.value(x.value[0]);K=e.options.findIndex(de=>Tt(ye.value(de),N))}ne(K)}le(K)}function Si(y,K){u.value===!0&&_.innerLoading.value===!1&&(ne(-1,!0),Ee(()=>{u.value===!0&&_.innerLoading.value===!1&&(y>K?ne():nn(!0))}))}function An(){m.value===!1&&G.value!==null&&G.value.updatePosition()}function On(y){y!==void 0&&ot(y),n("popupShow",y),_.hasPopupOpen=!0,_.onControlFocusin(y)}function Vn(y){y!==void 0&&ot(y),n("popupHide",y),_.hasPopupOpen=!1,_.onControlFocusout(y)}function Fn(){c=s.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||ge.value===!1:!0),S=s.platform.is.ios===!0&&c===!0&&e.useInput===!0?"fade":e.transitionShow}return Po(Fn),Ni(An),Fn(),$e(()=>{R!==null&&clearTimeout(R),r!==null&&clearTimeout(r)}),Object.assign(o,{showPopup:ht,hidePopup:rt,removeAtIndex:h,add:D,toggleOption:oe,getOptionIndex:()=>v.value,setOptionIndex:le,moveOptionSelection:ie,filter:pt,updateMenuPosition:An,updateInputValue:xt,isOptionSelected:be,getEmittingOptionValue:f,isOptionDisabled:(...y)=>qe.value.apply(null,y)===!0,getOptionValue:(...y)=>ye.value.apply(null,y),getOptionLabel:(...y)=>Re.value.apply(null,y)}),Object.assign(_,{innerValue:x,fieldClass:V(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:O,targetRef:L,hasValue:se,showPopup:ht,floatingLabel:V(()=>e.hideSelected!==!0&&se.value===!0||typeof T.value=="number"||T.value.length!==0||Rt(e.displayValue)),getControlChild:()=>{if(_.editable.value!==!1&&(m.value===!0||ge.value!==!0||t["no-option"]!==void 0))return c===!0?hi():ci();_.hasPopupOpen===!0&&(_.hasPopupOpen=!1)},controlEvents:{onFocusin(y){_.onControlFocusin(y)},onFocusout(y){_.onControlFocusout(y,()=>{gt(),mt()})},onClick(y){if(Ye(y),c!==!0&&u.value===!0){mt(),L.value!==null&&L.value.focus();return}ht(y)}},getControl:y=>{const K=si(),N=y===!0||m.value!==!0||c!==!0;if(e.useInput===!0)K.push(ui(y,N));else if(_.editable.value===!0){const Te=N===!0?Je.value:void 0;K.push($("input",{ref:N===!0?L:void 0,key:"d_t",class:"q-select__focus-target",id:N===!0?_.targetUid.value:void 0,value:Se.value,readonly:!0,"data-autofocus":y===!0||e.autofocus===!0||void 0,...Te,onKeydown:Dn,onKeyup:Oe,onKeypress:Pn})),N===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&K.push($("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:nt}))}if(p.value!==void 0&&e.disable!==!0&&Ne.value.length!==0){const Te=Ne.value.map(xe=>$("option",{value:xe,selected:!0}));K.push($("select",{class:"hidden",name:p.value,multiple:e.multiple},Te))}const de=e.useInput===!0||N!==!0?void 0:_.splitAttrs.attributes.value;return $("div",{class:"q-field__native row items-center",...de,..._.splitAttrs.listeners.value},K)},getInnerAppend:()=>e.loading!==!0&&k.value!==!0&&e.hideDropdownIcon!==!0?[$(yt,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:fe.value})]:null}),kn(_)}});const uo={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Gt={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Yo=Object.keys(Gt);Yo.forEach(e=>{Gt[e].regex=new RegExp(Gt[e].pattern)});const Jr=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Yo.join("")+"])|(.)","g"),co=/[.*+?^${}()|[\]\\]/g,De=String.fromCharCode(1),Xr={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Yr(e,t,n,o){let s,u,m,v,T,C;const k=ue(null),R=ue(i());function r(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}he(()=>e.type+e.autogrow,a),he(()=>e.mask,E=>{if(E!==void 0)l(R.value,!0);else{const p=G(R.value);a(),e.modelValue!==p&&t("update:modelValue",p)}}),he(()=>e.fillMask+e.reverseFillMask,()=>{k.value===!0&&l(R.value,!0)}),he(()=>e.unmaskedValue,()=>{k.value===!0&&l(R.value)});function i(){if(a(),k.value===!0){const E=O(G(e.modelValue));return e.fillMask!==!1?Y(E):E}return e.modelValue}function c(E){if(E<s.length)return s.slice(-E);let p="",H=s;const P=H.indexOf(De);if(P!==-1){for(let Z=E-H.length;Z>0;Z--)p+=De;H=H.slice(0,P)+p+H.slice(P)}return H}function a(){if(k.value=e.mask!==void 0&&e.mask.length!==0&&r(),k.value===!1){v=void 0,s="",u="";return}const E=uo[e.mask]===void 0?e.mask:uo[e.mask],p=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",H=p.replace(co,"\\$&"),P=[],Z=[],I=[];let re=e.reverseFillMask===!0,ne="",U="";E.replace(Jr,(_,x,z,ae,se)=>{if(ae!==void 0){const A=Gt[ae];I.push(A),U=A.negate,re===!0&&(Z.push("(?:"+U+"+)?("+A.pattern+"+)?(?:"+U+"+)?("+A.pattern+"+)?"),re=!1),Z.push("(?:"+U+"+)?("+A.pattern+")?")}else if(z!==void 0)ne="\\"+(z==="\\"?"":z),I.push(z),P.push("([^"+ne+"]+)?"+ne+"?");else{const A=x!==void 0?x:se;ne=A==="\\"?"\\\\\\\\":A.replace(co,"\\\\$&"),I.push(A),P.push("([^"+ne+"]+)?"+ne+"?")}});const ee=new RegExp("^"+P.join("")+"("+(ne===""?".":"[^"+ne+"]")+"+)?"+(ne===""?"":"["+ne+"]*")+"$"),ve=Z.length-1,ce=Z.map((_,x)=>x===0&&e.reverseFillMask===!0?new RegExp("^"+H+"*"+_):x===ve?new RegExp("^"+_+"("+(U===""?".":U)+"+)?"+(e.reverseFillMask===!0?"$":H+"*")):new RegExp("^"+_));m=I,v=_=>{const x=ee.exec(e.reverseFillMask===!0?_:_.slice(0,I.length+1));x!==null&&(_=x.slice(1).join(""));const z=[],ae=ce.length;for(let se=0,A=_;se<ae;se++){const W=ce[se].exec(A);if(W===null)break;A=A.slice(W.shift().length),z.push(...W)}return z.length!==0?z.join(""):_},s=I.map(_=>typeof _=="string"?_:De).join(""),u=s.split(De).join(p)}function l(E,p,H){const P=o.value,Z=P.selectionEnd,I=P.value.length-Z,re=G(E);p===!0&&a();const ne=O(re),U=e.fillMask!==!1?Y(ne):ne,ee=R.value!==U;P.value!==U&&(P.value=U),ee===!0&&(R.value=U),document.activeElement===P&&Ee(()=>{if(U===u){const ce=e.reverseFillMask===!0?u.length:0;P.setSelectionRange(ce,ce,"forward");return}if(H==="insertFromPaste"&&e.reverseFillMask!==!0){const ce=P.selectionEnd;let _=Z-1;for(let x=T;x<=_&&x<ce;x++)s[x]!==De&&_++;S.right(P,_);return}if(["deleteContentBackward","deleteContentForward"].indexOf(H)!==-1){const ce=e.reverseFillMask===!0?Z===0?U.length>ne.length?1:0:Math.max(0,U.length-(U===u?0:Math.min(ne.length,I)+1))+1:Z;P.setSelectionRange(ce,ce,"forward");return}if(e.reverseFillMask===!0)if(ee===!0){const ce=Math.max(0,U.length-(U===u?0:Math.min(ne.length,I+1)));ce===1&&Z===1?P.setSelectionRange(ce,ce,"forward"):S.rightReverse(P,ce)}else{const ce=U.length-I;P.setSelectionRange(ce,ce,"backward")}else if(ee===!0){const ce=Math.max(0,s.indexOf(De),Math.min(ne.length,Z)-1);S.right(P,ce)}else{const ce=Z-1;S.right(P,ce)}});const ve=e.unmaskedValue===!0?G(U):U;String(e.modelValue)!==ve&&(e.modelValue!==null||ve!=="")&&n(ve,!0)}function g(E,p,H){const P=O(G(E.value));p=Math.max(0,s.indexOf(De),Math.min(P.length,p)),T=p,E.setSelectionRange(p,H,"forward")}const S={left(E,p){const H=s.slice(p-1).indexOf(De)===-1;let P=Math.max(0,p-1);for(;P>=0;P--)if(s[P]===De){p=P,H===!0&&p++;break}if(P<0&&s[p]!==void 0&&s[p]!==De)return S.right(E,0);p>=0&&E.setSelectionRange(p,p,"backward")},right(E,p){const H=E.value.length;let P=Math.min(H,p+1);for(;P<=H;P++)if(s[P]===De){p=P;break}else s[P-1]===De&&(p=P);if(P>H&&s[p-1]!==void 0&&s[p-1]!==De)return S.left(E,H);E.setSelectionRange(p,p,"forward")},leftReverse(E,p){const H=c(E.value.length);let P=Math.max(0,p-1);for(;P>=0;P--)if(H[P-1]===De){p=P;break}else if(H[P]===De&&(p=P,P===0))break;if(P<0&&H[p]!==void 0&&H[p]!==De)return S.rightReverse(E,0);p>=0&&E.setSelectionRange(p,p,"backward")},rightReverse(E,p){const H=E.value.length,P=c(H),Z=P.slice(0,p+1).indexOf(De)===-1;let I=Math.min(H,p+1);for(;I<=H;I++)if(P[I-1]===De){p=I,p>0&&Z===!0&&p--;break}if(I>H&&P[p-1]!==void 0&&P[p-1]!==De)return S.leftReverse(E,H);E.setSelectionRange(p,p,"forward")}};function w(E){t("click",E),C=void 0}function M(E){if(t("keydown",E),Eo(E)===!0||E.altKey===!0)return;const p=o.value,H=p.selectionStart,P=p.selectionEnd;if(E.shiftKey||(C=void 0),E.keyCode===37||E.keyCode===39){E.shiftKey&&C===void 0&&(C=p.selectionDirection==="forward"?H:P);const Z=S[(E.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(E.preventDefault(),Z(p,C===H?P:H),E.shiftKey){const I=p.selectionStart;p.setSelectionRange(Math.min(C,I),Math.max(C,I),"forward")}}else E.keyCode===8&&e.reverseFillMask!==!0&&H===P?(S.left(p,H),p.setSelectionRange(p.selectionStart,P,"backward")):E.keyCode===46&&e.reverseFillMask===!0&&H===P&&(S.rightReverse(p,P),p.setSelectionRange(H,p.selectionEnd,"forward"))}function O(E){if(E==null||E==="")return"";if(e.reverseFillMask===!0)return L(E);const p=m;let H=0,P="";for(let Z=0;Z<p.length;Z++){const I=E[H],re=p[Z];if(typeof re=="string")P+=re,I===re&&H++;else if(I!==void 0&&re.regex.test(I))P+=re.transform!==void 0?re.transform(I):I,H++;else return P}return P}function L(E){const p=m,H=s.indexOf(De);let P=E.length-1,Z="";for(let I=p.length-1;I>=0&&P!==-1;I--){const re=p[I];let ne=E[P];if(typeof re=="string")Z=re+Z,ne===re&&P--;else if(ne!==void 0&&re.regex.test(ne))do Z=(re.transform!==void 0?re.transform(ne):ne)+Z,P--,ne=E[P];while(H===I&&ne!==void 0&&re.regex.test(ne));else return Z}return Z}function G(E){return typeof E!="string"||v===void 0?typeof E=="number"?v(""+E):E:v(E)}function Y(E){return u.length-E.length<=0?E:e.reverseFillMask===!0&&E.length!==0?u.slice(0,-E.length)+E:E+u.slice(E.length)}return{innerValue:R,hasMask:k,moveCursorForPaste:g,updateMaskValue:l,onMaskedKeydown:M,onMaskedClick:w}}function Zr(e,t){function n(){const o=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(u=>{s.items.add(u)}),{files:s.files}}catch{return{files:void 0}}}return t===!0?V(()=>{if(e.type==="file")return n()}):V(n)}var Ie=ze({name:"QInput",inheritAttrs:!1,props:{...en,...Xr,...Go,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Cn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=Me(),{$q:s}=o,u={};let m=NaN,v,T,C=null,k;const R=ue(null),r=Jo(e),{innerValue:i,hasMask:c,moveCursorForPaste:a,updateMaskValue:l,onMaskedKeydown:g,onMaskedClick:S}=Yr(e,t,ne,R),w=Zr(e,!0),M=V(()=>Rt(i.value)),O=Xo(I),L=_n(),G=V(()=>e.type==="textarea"||e.autogrow===!0),Y=V(()=>G.value===!0||["text","search","url","tel","password"].includes(e.type)),E=V(()=>{const x={...L.splitAttrs.listeners.value,onInput:I,onPaste:Z,onChange:ee,onBlur:ve,onFocus:ot};return x.onCompositionstart=x.onCompositionupdate=x.onCompositionend=O,c.value===!0&&(x.onKeydown=g,x.onClick=S),e.autogrow===!0&&(x.onAnimationend=re),x}),p=V(()=>{const x={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:r.value,...L.splitAttrs.attributes.value,id:L.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return G.value===!1&&(x.type=e.type),e.autogrow===!0&&(x.rows=1),x});he(()=>e.type,()=>{R.value&&(R.value.value=e.modelValue)}),he(()=>e.modelValue,x=>{if(c.value===!0){if(T===!0&&(T=!1,String(x)===m))return;l(x)}else i.value!==x&&(i.value=x,e.type==="number"&&u.hasOwnProperty("value")===!0&&(v===!0?v=!1:delete u.value));e.autogrow===!0&&Ee(U)}),he(()=>e.autogrow,x=>{x===!0?Ee(U):R.value!==null&&n.rows>0&&(R.value.style.height="auto")}),he(()=>e.dense,()=>{e.autogrow===!0&&Ee(U)});function H(){Mt(()=>{const x=document.activeElement;R.value!==null&&R.value!==x&&(x===null||x.id!==L.targetUid.value)&&R.value.focus({preventScroll:!0})})}function P(){R.value!==null&&R.value.select()}function Z(x){if(c.value===!0&&e.reverseFillMask!==!0){const z=x.target;a(z,z.selectionStart,z.selectionEnd)}t("paste",x)}function I(x){if(!x||!x.target)return;if(e.type==="file"){t("update:modelValue",x.target.files);return}const z=x.target.value;if(x.target.qComposing===!0){u.value=z;return}if(c.value===!0)l(z,!1,x.inputType);else if(ne(z),Y.value===!0&&x.target===document.activeElement){const{selectionStart:ae,selectionEnd:se}=x.target;ae!==void 0&&se!==void 0&&Ee(()=>{x.target===document.activeElement&&z.indexOf(x.target.value)===0&&x.target.setSelectionRange(ae,se)})}e.autogrow===!0&&U()}function re(x){t("animationend",x),U()}function ne(x,z){k=()=>{C=null,e.type!=="number"&&u.hasOwnProperty("value")===!0&&delete u.value,e.modelValue!==x&&m!==x&&(m=x,z===!0&&(T=!0),t("update:modelValue",x),Ee(()=>{m===x&&(m=NaN)})),k=void 0},e.type==="number"&&(v=!0,u.value=x),e.debounce!==void 0?(C!==null&&clearTimeout(C),u.value=x,C=setTimeout(k,e.debounce)):k()}function U(){requestAnimationFrame(()=>{const x=R.value;if(x!==null){const z=x.parentNode.style,{scrollTop:ae}=x,{overflowY:se,maxHeight:A}=s.platform.is.firefox===!0?{}:window.getComputedStyle(x),W=se!==void 0&&se!=="scroll";W===!0&&(x.style.overflowY="hidden"),z.marginBottom=x.scrollHeight-1+"px",x.style.height="1px",x.style.height=x.scrollHeight+"px",W===!0&&(x.style.overflowY=parseInt(A,10)<x.scrollHeight?"auto":"hidden"),z.marginBottom="",x.scrollTop=ae}})}function ee(x){O(x),C!==null&&(clearTimeout(C),C=null),k!==void 0&&k(),t("change",x.target.value)}function ve(x){x!==void 0&&ot(x),C!==null&&(clearTimeout(C),C=null),k!==void 0&&k(),v=!1,T=!1,delete u.value,e.type!=="file"&&setTimeout(()=>{R.value!==null&&(R.value.value=i.value!==void 0?i.value:"")})}function ce(){return u.hasOwnProperty("value")===!0?u.value:i.value!==void 0?i.value:""}$e(()=>{ve()}),ft(()=>{e.autogrow===!0&&U()}),Object.assign(L,{innerValue:i,fieldClass:V(()=>`q-${G.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:V(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:R,emitValue:ne,hasValue:M,floatingLabel:V(()=>M.value===!0&&(e.type!=="number"||isNaN(i.value)===!1)||Rt(e.displayValue)),getControl:()=>$(G.value===!0?"textarea":"input",{ref:R,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...p.value,...E.value,...e.type!=="file"?{value:ce()}:w.value}),getShadowControl:()=>$("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(G.value===!0?"":" text-no-wrap")},[$("span",{class:"invisible"},ce()),$("span",e.shadowText)])});const _=kn(L);return Object.assign(o,{focus:H,select:P,getNativeElement:()=>R.value}),bn(o,"nativeEl",()=>R.value),_}}),ea=ze({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const o=Me(),s=ue(null);let u=0;const m=[];function v(i){const c=typeof i=="boolean"?i:e.noErrorFocus!==!0,a=++u,l=(w,M)=>{n("validation"+(w===!0?"Success":"Error"),M)},g=w=>{const M=w.validate();return typeof M.then=="function"?M.then(O=>({valid:O,comp:w}),O=>({valid:!1,comp:w,err:O})):Promise.resolve({valid:M,comp:w})};return(e.greedy===!0?Promise.all(m.map(g)).then(w=>w.filter(M=>M.valid!==!0)):m.reduce((w,M)=>w.then(()=>g(M).then(O=>{if(O.valid===!1)return Promise.reject(O)})),Promise.resolve()).catch(w=>[w])).then(w=>{if(w===void 0||w.length===0)return a===u&&l(!0),!0;if(a===u){const{comp:M,err:O}=w[0];if(O!==void 0&&console.error(O),l(!1,M),c===!0){const L=w.find(({comp:G})=>typeof G.focus=="function"&&xn(G.$)===!1);L!==void 0&&L.comp.focus()}}return!1})}function T(){u++,m.forEach(i=>{typeof i.resetValidation=="function"&&i.resetValidation()})}function C(i){i!==void 0&&je(i);const c=u+1;v().then(a=>{c===u&&a===!0&&(e.onSubmit!==void 0?n("submit",i):i!==void 0&&i.target!==void 0&&typeof i.target.submit=="function"&&i.target.submit())})}function k(i){i!==void 0&&je(i),n("reset"),Ee(()=>{T(),e.autofocus===!0&&e.noResetFocus!==!0&&R()})}function R(){Mt(()=>{if(s.value===null)return;const i=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),c=>c.tabIndex!==-1);i!=null&&i.focus({preventScroll:!0})})}Wi(Io,{bindComponent(i){m.push(i)},unbindComponent(i){const c=m.indexOf(i);c!==-1&&m.splice(c,1)}});let r=!1;return Et(()=>{r=!0}),wn(()=>{r===!0&&e.autofocus===!0&&R()}),ft(()=>{e.autofocus===!0&&R()}),Object.assign(o.proxy,{validate:v,resetValidation:T,submit:C,reset:k,focus:R,getValidationComponents:()=>m}),()=>$("form",{class:"q-form",ref:s,onSubmit:C,onReset:k},We(t.default))}}),ta=ze({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Me(),o=pn(Ki,vt);if(o===vt)return console.error("QPage needs to be a deep child of QLayout"),vt;if(pn(Qi,vt)===vt)return console.error("QPage needs to be child of QPageContainer"),vt;const u=V(()=>{const v=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const T=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(v,T)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-v+"px":n.screen.height===0?v!==0?`calc(100vh - ${v}px)`:"100vh":n.screen.height-v+"px"}}),m=V(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>$("main",{class:m.value,style:u.value},We(t.default))}});const na=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],oa=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var Zo=ze({name:"QSkeleton",props:{...Pt,tag:{type:String,default:"div"},type:{type:String,validator:e=>na.includes(e),default:"rect"},animation:{type:String,validator:e=>oa.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=Me(),o=Dt(e,n.proxy.$q),s=V(()=>{const m=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:m[0],height:m[1]}}),u=V(()=>`q-skeleton q-skeleton--${o.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>$(e.tag,{class:u.value,style:s.value},We(t.default))}});const ia={id:"IdCardFront",class:"front-id",style:{"background-color":"aqua",height:"12.75cm",width:"8.1cm","font-size":"7pt",position:"relative","background-image":"url('/images/lgu_id_front.png')","background-position":"center","background-size":"contain"}},ra={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"75px",left:"5px","font-size":"12pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},aa={style:{width:"169px",height:"168px","border-radius":"100%",position:"absolute",top:"80px",left:"81px",border:"1px solid #058040",overflow:"hidden"}},la=["hidden","src"],sa={style:{"text-align":"left",position:"absolute",top:"260px",left:"172px","font-size":"13pt","font-weight":"500"}},fo=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFront",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(it(),dt("div",ia,[J("div",ra,Ce(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),J("div",aa,[J("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:At([{position:"relative"},`bottom:${e.photoFormat.top}px; right: ${e.photoFormat.left}px; transform: scale(${e.photoFormat.scale})`])},null,44,la),X(Zo,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),J("div",sa,Ce(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1),J("div",{style:At([`font-size:${e.textFormat.lastName.font_size}px; bottom: ${e.textFormat.lastName.bottom}px;
        left: ${e.textFormat.lastName.left}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},Ce(e.details.lastName)+Ce(e.details.extName?", "+e.details.extName:""),5),J("div",{style:At([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size}px; bottom: ${e.textFormat.firstName.bottom}px;
        left: ${e.textFormat.firstName.left}px; `])},Ce(e.details.firstName)+" "+Ce(e.details.middleName?e.details.middleName[0]+". ":""),5),J("div",{style:At([{width:"258px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size}px; bottom: ${e.textFormat.position.bottom}px;
        left: ${e.textFormat.position.left}px; line-height: ${e.textFormat.position.line_height}px;`])},Ce(e.details.position),5)]))}});var Jt=ze({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=V(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>$(e.tag,{class:n.value},We(t.default))}}),yn=ze({name:"QCard",props:{...Pt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Me(),o=Dt(e,n),s=V(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>$(e.tag,{class:s.value},We(t.default))}}),ua="/assets/get_sig.0d2f964a.png";/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){var e=!1;try{throw new Error}catch(f){e=!!f.stack}var t=Y(),n,o=function(){},s=function(){var f={task:void 0,next:null},h=f,b=!1,D=void 0,oe=!1,le=[];function ie(){for(var ke,Oe;f.next;)f=f.next,ke=f.task,f.task=void 0,Oe=f.domain,Oe&&(f.domain=void 0,Oe.enter()),_e(ke,Oe);for(;le.length;)ke=le.pop(),_e(ke);b=!1}function _e(ke,Oe){try{ke()}catch(nt){if(oe)throw Oe&&Oe.exit(),setTimeout(ie,0),Oe&&Oe.enter(),nt;setTimeout(function(){throw nt},0)}Oe&&Oe.exit()}if(s=function(ke){h=h.next={task:ke,domain:oe&&process.domain,next:null},b||(b=!0,D())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)oe=!0,D=function(){process.nextTick(ie)};else if(typeof setImmediate=="function")typeof window!="undefined"?D=setImmediate.bind(window,ie):D=function(){setImmediate(ie)};else if(typeof MessageChannel!="undefined"){var me=new MessageChannel;me.port1.onmessage=function(){D=be,me.port1.onmessage=ie,ie()};var be=function(){me.port2.postMessage(0)};D=function(){setTimeout(ie,0),be()}}else D=function(){setTimeout(ie,0)};return s.runAfter=function(ke){le.push(ke),b||(b=!0,D())},s}(),u=Function.call;function m(f){return function(){return u.apply(f,arguments)}}var v=m(Array.prototype.slice),T=m(Array.prototype.reduce||function(f,h){var b=0,D=this.length;if(arguments.length===1)do{if(b in this){h=this[b++];break}if(++b>=D)throw new TypeError}while(1);for(;b<D;b++)b in this&&(h=f(h,this[b],b));return h}),C=m(Array.prototype.indexOf||function(f){for(var h=0;h<this.length;h++)if(this[h]===f)return h;return-1}),k=m(Array.prototype.map||function(f,h){var b=this,D=[];return T(b,function(oe,le,ie){D.push(f.call(h,le,ie,b))},void 0),D}),R=Object.create||function(f){function h(){}return h.prototype=f,new h},r=m(Object.prototype.hasOwnProperty),i=Object.keys||function(f){var h=[];for(var b in f)r(f,b)&&h.push(b);return h},c=m(Object.prototype.toString);function a(f){return f===Object(f)}function l(f){return c(f)==="[object StopIteration]"||f instanceof g}var g;typeof ReturnValue!="undefined"?g=ReturnValue:g=function(f){this.value=f};var S="From previous event:";function w(f,h){if(e&&h.stack&&typeof f=="object"&&f!==null&&f.stack&&f.stack.indexOf(S)===-1){for(var b=[],D=h;D;D=D.source)D.stack&&b.unshift(D.stack);b.unshift(f.stack);var oe=b.join(`
`+S+`
`);f.stack=M(oe)}}function M(f){for(var h=f.split(`
`),b=[],D=0;D<h.length;++D){var oe=h[D];!G(oe)&&!O(oe)&&oe&&b.push(oe)}return b.join(`
`)}function O(f){return f.indexOf("(module.js:")!==-1||f.indexOf("(node.js:")!==-1}function L(f){var h=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(f);if(h)return[h[1],Number(h[2])];var b=/at ([^ ]+):(\d+):(?:\d+)$/.exec(f);if(b)return[b[1],Number(b[2])];var D=/.*@(.+):(\d+)$/.exec(f);if(D)return[D[1],Number(D[2])]}function G(f){var h=L(f);if(!h)return!1;var b=h[0],D=h[1];return b===n&&D>=t&&D<=Be}function Y(){if(!!e)try{throw new Error}catch(D){var f=D.stack.split(`
`),h=f[0].indexOf("@")>0?f[1]:f[2],b=L(h);return b?(n=b[0],b[1]):void 0}}function E(f,h,b){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(h+" is deprecated, use "+b+" instead.",new Error("").stack),f.apply(f,arguments)}}function p(f){return f instanceof I?f:ee(f)?Ae(f):Se(f)}p.resolve=p,p.nextTick=s,p.longStackSupport=!1,typeof process=="object"&&process&&process.env&&{}.Q_DEBUG&&(p.longStackSupport=!0),p.defer=H;function H(){var f=[],h=[],b,D=R(H.prototype),oe=R(I.prototype);if(oe.promiseDispatch=function(ie,_e,me){var be=v(arguments);f?(f.push(be),_e==="when"&&me[1]&&h.push(me[1])):p.nextTick(function(){b.promiseDispatch.apply(b,be)})},oe.valueOf=function(){if(f)return oe;var ie=ne(b);return U(ie)&&(b=ie),ie},oe.inspect=function(){return b?b.inspect():{state:"pending"}},p.longStackSupport&&e)try{throw new Error}catch(ie){oe.stack=ie.stack.substring(ie.stack.indexOf(`
`)+1)}function le(ie){b=ie,oe.source=ie,T(f,function(_e,me){p.nextTick(function(){ie.promiseDispatch.apply(ie,me)})},void 0),f=void 0,h=void 0}return D.promise=oe,D.resolve=function(ie){b||le(p(ie))},D.fulfill=function(ie){b||le(Se(ie))},D.reject=function(ie){b||le(F(ie))},D.notify=function(ie){b||T(h,function(_e,me){p.nextTick(function(){me(ie)})},void 0)},D}H.prototype.makeNodeResolver=function(){var f=this;return function(h,b){h?f.reject(h):arguments.length>2?f.resolve(v(arguments,1)):f.resolve(b)}},p.Promise=P,p.promise=P;function P(f){if(typeof f!="function")throw new TypeError("resolver must be a function.");var h=H();try{f(h.resolve,h.reject,h.notify)}catch(b){h.reject(b)}return h.promise}P.race=Z,P.all=q,P.reject=F,P.resolve=p,p.passByCopy=function(f){return f},I.prototype.passByCopy=function(){return this},p.join=function(f,h){return p(f).join(h)},I.prototype.join=function(f){return p([this,f]).spread(function(h,b){if(h===b)return h;throw new Error("Q can't join: not the same: "+h+" "+b)})},p.race=Z;function Z(f){return P(function(h,b){for(var D=0,oe=f.length;D<oe;D++)p(f[D]).then(h,b)})}I.prototype.race=function(){return this.then(p.race)},p.makePromise=I;function I(f,h,b){h===void 0&&(h=function(le){return F(new Error("Promise does not support operation: "+le))}),b===void 0&&(b=function(){return{state:"unknown"}});var D=R(I.prototype);if(D.promiseDispatch=function(le,ie,_e){var me;try{f[ie]?me=f[ie].apply(D,_e):me=h.call(D,ie,_e)}catch(be){me=F(be)}le&&le(me)},D.inspect=b,b){var oe=b();oe.state==="rejected"&&(D.exception=oe.reason),D.valueOf=function(){var le=b();return le.state==="pending"||le.state==="rejected"?D:le.value}}return D}I.prototype.toString=function(){return"[object Promise]"},I.prototype.then=function(f,h,b){var D=this,oe=H(),le=!1;function ie(be){try{return typeof f=="function"?f(be):be}catch(ke){return F(ke)}}function _e(be){if(typeof h=="function"){w(be,D);try{return h(be)}catch(ke){return F(ke)}}return F(be)}function me(be){return typeof b=="function"?b(be):be}return p.nextTick(function(){D.promiseDispatch(function(be){le||(le=!0,oe.resolve(ie(be)))},"when",[function(be){le||(le=!0,oe.resolve(_e(be)))}])}),D.promiseDispatch(void 0,"when",[void 0,function(be){var ke,Oe=!1;try{ke=me(be)}catch(nt){if(Oe=!0,p.onerror)p.onerror(nt);else throw nt}Oe||oe.notify(ke)}]),oe.promise},p.tap=function(f,h){return p(f).tap(h)},I.prototype.tap=function(f){return f=p(f),this.then(function(h){return f.fcall(h).thenResolve(h)})},p.when=re;function re(f,h,b,D){return p(f).then(h,b,D)}I.prototype.thenResolve=function(f){return this.then(function(){return f})},p.thenResolve=function(f,h){return p(f).thenResolve(h)},I.prototype.thenReject=function(f){return this.then(function(){throw f})},p.thenReject=function(f,h){return p(f).thenReject(h)},p.nearer=ne;function ne(f){if(U(f)){var h=f.inspect();if(h.state==="fulfilled")return h.value}return f}p.isPromise=U;function U(f){return f instanceof I}p.isPromiseAlike=ee;function ee(f){return a(f)&&typeof f.then=="function"}p.isPending=ve;function ve(f){return U(f)&&f.inspect().state==="pending"}I.prototype.isPending=function(){return this.inspect().state==="pending"},p.isFulfilled=ce;function ce(f){return!U(f)||f.inspect().state==="fulfilled"}I.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},p.isRejected=_;function _(f){return U(f)&&f.inspect().state==="rejected"}I.prototype.isRejected=function(){return this.inspect().state==="rejected"};var x=[],z=[],ae=[],se=!0;function A(){x.length=0,z.length=0,se||(se=!0)}function W(f,h){!se||(typeof process=="object"&&typeof process.emit=="function"&&p.nextTick.runAfter(function(){C(z,f)!==-1&&(process.emit("unhandledRejection",h,f),ae.push(f))}),z.push(f),h&&typeof h.stack!="undefined"?x.push(h.stack):x.push("(no stack) "+h))}function ge(f){if(!!se){var h=C(z,f);h!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&p.nextTick.runAfter(function(){var b=C(ae,f);b!==-1&&(process.emit("rejectionHandled",x[h],f),ae.splice(b,1))}),z.splice(h,1),x.splice(h,1))}}p.resetUnhandledRejections=A,p.getUnhandledReasons=function(){return x.slice()},p.stopUnhandledRejectionTracking=function(){A(),se=!1},A(),p.reject=F;function F(f){var h=I({when:function(b){return b&&ge(this),b?b(f):this}},function(){return this},function(){return{state:"rejected",reason:f}});return W(h,f),h}p.fulfill=Se;function Se(f){return I({when:function(){return f},get:function(h){return f[h]},set:function(h,b){f[h]=b},delete:function(h){delete f[h]},post:function(h,b){return h==null?f.apply(void 0,b):f[h].apply(f,b)},apply:function(h,b){return f.apply(h,b)},keys:function(){return i(f)}},void 0,function(){return{state:"fulfilled",value:f}})}function Ae(f){var h=H();return p.nextTick(function(){try{f.then(h.resolve,h.reject,h.notify)}catch(b){h.reject(b)}}),h.promise}p.master=Qe;function Qe(f){return I({isDef:function(){}},function(b,D){return fe(f,b,D)},function(){return p(f).inspect()})}p.spread=Ue;function Ue(f,h,b){return p(f).spread(h,b)}I.prototype.spread=function(f,h){return this.all().then(function(b){return f.apply(void 0,b)},h)},p.async=Je;function Je(f){return function(){function h(le,ie){var _e;if(typeof StopIteration=="undefined"){try{_e=b[le](ie)}catch(me){return F(me)}return _e.done?p(_e.value):re(_e.value,D,oe)}else{try{_e=b[le](ie)}catch(me){return l(me)?p(me.value):F(me)}return re(_e,D,oe)}}var b=f.apply(this,arguments),D=h.bind(h,"next"),oe=h.bind(h,"throw");return D()}}p.spawn=B;function B(f){p.done(p.async(f)())}p.return=j;function j(f){throw new g(f)}p.promised=te;function te(f){return function(){return Ue([this,q(arguments)],function(h,b){return f.apply(h,b)})}}p.dispatch=fe;function fe(f,h,b){return p(f).dispatch(h,b)}I.prototype.dispatch=function(f,h){var b=this,D=H();return p.nextTick(function(){b.promiseDispatch(D.resolve,f,h)}),D.promise},p.get=function(f,h){return p(f).dispatch("get",[h])},I.prototype.get=function(f){return this.dispatch("get",[f])},p.set=function(f,h,b){return p(f).dispatch("set",[h,b])},I.prototype.set=function(f,h){return this.dispatch("set",[f,h])},p.del=p.delete=function(f,h){return p(f).dispatch("delete",[h])},I.prototype.del=I.prototype.delete=function(f){return this.dispatch("delete",[f])},p.mapply=p.post=function(f,h,b){return p(f).dispatch("post",[h,b])},I.prototype.mapply=I.prototype.post=function(f,h){return this.dispatch("post",[f,h])},p.send=p.mcall=p.invoke=function(f,h){return p(f).dispatch("post",[h,v(arguments,2)])},I.prototype.send=I.prototype.mcall=I.prototype.invoke=function(f){return this.dispatch("post",[f,v(arguments,1)])},p.fapply=function(f,h){return p(f).dispatch("apply",[void 0,h])},I.prototype.fapply=function(f){return this.dispatch("apply",[void 0,f])},p.try=p.fcall=function(f){return p(f).dispatch("apply",[void 0,v(arguments,1)])},I.prototype.fcall=function(){return this.dispatch("apply",[void 0,v(arguments)])},p.fbind=function(f){var h=p(f),b=v(arguments,1);return function(){return h.dispatch("apply",[this,b.concat(v(arguments))])}},I.prototype.fbind=function(){var f=this,h=v(arguments);return function(){return f.dispatch("apply",[this,h.concat(v(arguments))])}},p.keys=function(f){return p(f).dispatch("keys",[])},I.prototype.keys=function(){return this.dispatch("keys",[])},p.all=q;function q(f){return re(f,function(h){var b=0,D=H();return T(h,function(oe,le,ie){var _e;U(le)&&(_e=le.inspect()).state==="fulfilled"?h[ie]=_e.value:(++b,re(le,function(me){h[ie]=me,--b===0&&D.resolve(h)},D.reject,function(me){D.notify({index:ie,value:me})}))},void 0),b===0&&D.resolve(h),D.promise})}I.prototype.all=function(){return q(this)},p.any=pe;function pe(f){if(f.length===0)return p.resolve();var h=p.defer(),b=0;return T(f,function(D,oe,le){var ie=f[le];b++,re(ie,_e,me,be);function _e(ke){h.resolve(ke)}function me(){b--,b===0&&h.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))}function be(ke){h.notify({index:le,value:ke})}},void 0),h.promise}I.prototype.any=function(){return pe(this)},p.allResolved=E(ye,"allResolved","allSettled");function ye(f){return re(f,function(h){return h=k(h,p),re(q(k(h,function(b){return re(b,o,o)})),function(){return h})})}I.prototype.allResolved=function(){return ye(this)},p.allSettled=Re;function Re(f){return p(f).allSettled()}I.prototype.allSettled=function(){return this.then(function(f){return q(k(f,function(h){h=p(h);function b(){return h.inspect()}return h.then(b,b)}))})},p.fail=p.catch=function(f,h){return p(f).then(void 0,h)},I.prototype.fail=I.prototype.catch=function(f){return this.then(void 0,f)},p.progress=qe;function qe(f,h){return p(f).then(void 0,void 0,h)}I.prototype.progress=function(f){return this.then(void 0,void 0,f)},p.fin=p.finally=function(f,h){return p(f).finally(h)},I.prototype.fin=I.prototype.finally=function(f){if(!f||typeof f.apply!="function")throw new Error("Q can't apply finally callback");return f=p(f),this.then(function(h){return f.fcall().then(function(){return h})},function(h){return f.fcall().then(function(){throw h})})},p.done=function(f,h,b,D){return p(f).done(h,b,D)},I.prototype.done=function(f,h,b){var D=function(le){p.nextTick(function(){if(w(le,oe),p.onerror)p.onerror(le);else throw le})},oe=f||h||b?this.then(f,h,b):this;typeof process=="object"&&process&&process.domain&&(D=process.domain.bind(D)),oe.then(void 0,D)},p.timeout=function(f,h,b){return p(f).timeout(h,b)},I.prototype.timeout=function(f,h){var b=H(),D=setTimeout(function(){(!h||typeof h=="string")&&(h=new Error(h||"Timed out after "+f+" ms"),h.code="ETIMEDOUT"),b.reject(h)},f);return this.then(function(oe){clearTimeout(D),b.resolve(oe)},function(oe){clearTimeout(D),b.reject(oe)},b.notify),b.promise},p.delay=function(f,h){return h===void 0&&(h=f,f=void 0),p(f).delay(h)},I.prototype.delay=function(f){return this.then(function(h){var b=H();return setTimeout(function(){b.resolve(h)},f),b.promise})},p.nfapply=function(f,h){return p(f).nfapply(h)},I.prototype.nfapply=function(f){var h=H(),b=v(f);return b.push(h.makeNodeResolver()),this.fapply(b).fail(h.reject),h.promise},p.nfcall=function(f){var h=v(arguments,1);return p(f).nfapply(h)},I.prototype.nfcall=function(){var f=v(arguments),h=H();return f.push(h.makeNodeResolver()),this.fapply(f).fail(h.reject),h.promise},p.nfbind=p.denodeify=function(f){if(f===void 0)throw new Error("Q can't wrap an undefined function");var h=v(arguments,1);return function(){var b=h.concat(v(arguments)),D=H();return b.push(D.makeNodeResolver()),p(f).fapply(b).fail(D.reject),D.promise}},I.prototype.nfbind=I.prototype.denodeify=function(){var f=v(arguments);return f.unshift(this),p.denodeify.apply(void 0,f)},p.nbind=function(f,h){var b=v(arguments,2);return function(){var D=b.concat(v(arguments)),oe=H();D.push(oe.makeNodeResolver());function le(){return f.apply(h,arguments)}return p(le).fapply(D).fail(oe.reject),oe.promise}},I.prototype.nbind=function(){var f=v(arguments,0);return f.unshift(this),p.nbind.apply(void 0,f)},p.nmapply=p.npost=function(f,h,b){return p(f).npost(h,b)},I.prototype.nmapply=I.prototype.npost=function(f,h){var b=v(h||[]),D=H();return b.push(D.makeNodeResolver()),this.dispatch("post",[f,b]).fail(D.reject),D.promise},p.nsend=p.nmcall=p.ninvoke=function(f,h){var b=v(arguments,2),D=H();return b.push(D.makeNodeResolver()),p(f).dispatch("post",[h,b]).fail(D.reject),D.promise},I.prototype.nsend=I.prototype.nmcall=I.prototype.ninvoke=function(f){var h=v(arguments,1),b=H();return h.push(b.makeNodeResolver()),this.dispatch("post",[f,h]).fail(b.reject),b.promise},p.nodeify=Ne;function Ne(f,h){return p(f).nodeify(h)}I.prototype.nodeify=function(f){if(f)this.then(function(h){p.nextTick(function(){f(null,h)})},function(h){p.nextTick(function(){f(h)})});else return this},p.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Be=Y();return p});var d=d||{};d.STUConstructor=function(){var e,t=65535,n=0,o=0,s={},u={};function m(r){return typeof r!="undefined"}function v(){return n++}function T(){return o++}function C(r){var i=9e3,c=this;m(r)||(r=i),this.onDCAtimeout=null,e=new WebSocket("wss://localhost:"+r.toString()+"/ws"),e.onopen=function(){console.log("connected")},e.onmessage=k,e.onclose=function(){console.log("disconnected"),typeof c.onDCAtimeout=="function"&&c.onDCAtimeout()}}C.prototype.Reinitialize=function(){d.STU=new d.STUConstructor},C.prototype.isServiceReady=function(){return e.readyState==1},C.prototype.isDCAReady=function(){var r=Q.defer();return d.STU.isServiceReady()?(setTimeout(function(){r.promise.isPending()&&(d.STU.isServiceReady()&&d.STU.close(),r.resolve(!1))},1e3),d.STU.getUsbDevices().then(function(i){r.promise.isPending()&&r.resolve(!0)}).fail(function(i){r.promise.isPending()&&r.resolve(!0)})):r.resolve(!1),r.promise},C.prototype.close=function(){e.close()};function k(r){if(typeof r.data!="undefined"&&r.data!=""){var i=JSON.parse(r.data);if(m(i.ticket)&&m(s[i.ticket]))m(i.success)&&i.success==!0&&m(i.data)?s[i.ticket].resolve(i.data):s[i.ticket].reject(new Error(m(i.error)?i.error:"")),delete s[i.ticket];else if(m(i.stream)&&m(u[i.stream])&&m(i.data))u[i.stream].stream(i.data);else throw new Error("websocket invalid message: "+r.data)}else console.log("Unexpected message type "+typeof r+" = "+JSON.stringify(r))}function R(r){for(var i=r.length,c=0;c<i;){var a=c+t<i?"0":"1",l=r.substr(c,t);e.send(a+l),c+=t}}return C.prototype.VendorId={VendorId_Wacom:1386},C.prototype.ProductId={ProductId_500:161,ProductId_300:162,ProductId_520A:163,ProductId_430:164,ProductId_530:165,ProductId_430V:166,ProductId_540:168,ProductId_541:169},C.prototype.ProductId_min=161,C.prototype.ProductId_max=175,C.prototype.send=function(r){var i=Q.defer();try{var c=v();r.ticket=c;var a=JSON.stringify(r);R(a),s[c]=i}catch(l){i.reject(l)}return i.promise},C.prototype.sendNoReturn=function(r){var i=JSON.stringify(r);R(i)},C.prototype.setStream=function(r){var i=T();return u[i]=r,i},C.prototype.removeStream=function(r){delete u[r]},C.prototype.getUsbDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"getUsbDevices"})},C.prototype.getTlsDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetTlsDevices",function:"getTlsDevices"})},C.prototype.isSupportedUsbDevice=function(r,i){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"isSupportedUsbDevice",idVendor:r,idProduct:i})},C.prototype.getStringUsbDevice=function(r){function i(c){return("0000"+c.toString(16)).substr(-4)}return i(r.idVendor)+":"+i(r.idProduct)+":"+i(r.bcdDevice)},C.prototype.SerialPort={Type:{Unknown:0,Physical:1,Virtual:2,Remote:3}},C.prototype.getSerialPorts=function(){return d.STU.send({scope:"WacomGSS.STU.GetSerialPorts",function:"getSerialPorts"})},C.prototype.UsbInterface=function(){var r="WacomGSS.STU.UsbInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:r,function:"Constructor"}).then(function(a){return i=a.id,a})},c.prototype.connect=function(a,l){return d.STU.send({scope:r,id:i,function:"connect",usbDevice:a,exclusiveLock:l})},c.prototype.toJSON=function(){return{id:i,scope:r}},c.prototype.disconnect=function(){return d.STU.send({scope:r,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:r,id:i,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:r,id:i,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(a){return d.STU.send({scope:r,id:i,function:"queueSetPredicateAll",predicate:a})},c.prototype.get=function(a){return d.STU.send({scope:r,id:i,function:"get_",length:a})},c.prototype.set=function(a){return d.STU.send({scope:r,id:i,function:"set",base64Data:a})},c.prototype.supportsWrite=function(){return d.STU.send({scope:r,id:i,function:"supportsWrite"})},c.prototype.write=function(a){return d.STU.send({scope:r,id:i,function:"write",base64Data:a})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:r,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:r,id:i,function:"getProductId"})},c}(),C.prototype.Protocol=function(){var r="WacomGSS.STU.Protocol",i="",c={};function a(){}return a.prototype.PenDataOptionMode={PenDataOptionMode_None:0,PenDataOptionMode_TimeCount:1,PenDataOptionMode_SequenceNumber:2,PenDataOptionMode_TimeCountSequence:3},a.prototype.InkingMode={InkingMode_Off:0,InkingMode_On:1},a.prototype.ReportId={ReportId_PenData:1,ReportId_Status:3,ReportId_Reset:4,ReportId_HidInformation:6,ReportId_Information:8,ReportId_Capability:9,ReportId_Uid:10,ReportId_Uid2:11,ReportId_DefaultMode:12,ReportId_ReportRate:13,ReportId_RenderingMode:14,ReportId_Eserial:15,ReportId_PenDataEncrypted:16,ReportId_HostPublicKey:19,ReportId_DevicePublicKey:20,ReportId_StartCapture:21,ReportId_EndCapture:22,ReportId_DHprime:26,ReportId_DHbase:27,ReportId_ClearScreen:32,ReportId_InkingMode:33,ReportId_InkThreshold:34,ReportId_ClearScreenArea:35,ReportId_StartImageDataArea:36,ReportId_StartImageData:37,ReportId_ImageDataBlock:38,ReportId_EndImageData:39,ReportId_HandwritingThicknessColor:40,ReportId_BackgroundColor:41,ReportId_HandwritingDisplayArea:42,ReportId_BacklightBrightness:43,ReportId_ScreenContrast:44,ReportId_HandwritingThicknessColor24:45,ReportId_BackgroundColor24:46,ReportId_BootScreen:47,ReportId_PenDataOption:48,ReportId_PenDataEncryptedOption:49,ReportId_PenDataOptionMode:50,ReportId_PenDataTimeCountSequenceEncrypted:51,ReportId_PenDataTimeCountSequence:52,ReportId_EncryptionCommand:64,ReportId_EncryptionStatus:80,ReportId_GetReport:128,ReportId_SetResult:129,ReportId_PinPadData:144,ReportId_PinPadDataEncrypted:145,ReportId_PinOperationMode:146,ReportId_OperationMode:147,ReportId_RomStartImageData:148,ReportId_RomImageOccupancy:149,ReportId_RomImageHash:150,ReportId_RomImageDelete:151,ReportId_CurrentImageArea:152,ReportId_EventData:153,ReportId_EventDataEncrypted:154,ReportId_RomImageDisplay:155,ReportId_ReportSizeCollection:255,Decrypt:256,SigCaptX_Decrypt:256,SigCaptX_TabletDisconnected:257},a.prototype.DefaultMode={DefaultMode_HID:1,DefaultMode_Serial:2},a.prototype.StatusCode={StatusCode_Ready:0,StatusCode_Image:1,StatusCode_Capture:2,StatusCode_Calculation:3,StatusCode_Image_Boot:4,StatusCode_RomBusy:5,StatusCode_SystemReset:255},a.prototype.ErrorCode={ErrorCode_None:0,ErrorCode_WrongReportId:1,ErrorCode_WrongState:2,ErrorCode_CRC:3,ErrorCode_GraphicsWrongEncodingType:16,ErrorCode_GraphicsImageTooLong:17,ErrorCode_GraphicsZlibError:18,ErrorCode_GraphicsWrongParameters:21,ErrorCode_PadNotExist:32,ErrorCode_RomSizeOverflow:51,ErrorCode_RomInvalidParameter:52,ErrorCode_RomErrorCRC:53},a.prototype.Rectangle={upperLeftXpixel:0,upperLeftYpixel:0,lowerRightXpixel:0,lowerRightYpixel:0},a.prototype.InkThreshold={onPressureMark:0,offPressureMark:0},a.prototype.HandwritingThicknessColor={penColor:0,penThickness:0},a.prototype.HandwritingThicknessColor24={penColor:0,penThickness:0},a.prototype.EncryptionCommandNumber={EncryptionCommandNumber_SetEncryptionType:1,EncryptionCommandNumber_SetParameterBlock:2,EncryptionCommandNumber_GetStatusBlock:3,EncryptionCommandNumber_GetParameterBlock:4,EncryptionCommandNumber_GenerateSymmetricKey:5},a.prototype.EncodingMode={EncodingMode_1bit:0,EncodingMode_1bit_Zlib:1,EncodingMode_16bit:2,EncodingMode_24bit:4,EncodingMode_1bit_Bulk:16,EncodingMode_16bit_Bulk:18,EncodingMode_24bit_Bulk:20},a.prototype.EndImageDataFlag={EndImageDataFlag_Commit:0,EndImageDataFlag_Abandon:1},a.prototype.ResetFlag={ResetFlag_Software:0,ResetFlag_Hardware:1},a.prototype.EncodingFlag={EncodingFlag_Zlib:1,EncodingFlag_1bit:2,EncodingFlag_16bit:4,EncodingFlag_24bit:8},a.prototype.StatusCodeRSA={StatusCodeRSA_Ready:0,StatusCodeRSA_Calculating:250,StatusCodeRSA_Even:251,StatusCodeRSA_Long:252,StatusCodeRSA_Short:253,StatusCodeRSA_Invalid:254,StatusCodeRSA_NotReady:255},a.prototype.ErrorCodeRSA={ErrorCodeRSA_None:0,ErrorCodeRSA_BadParameter:1,ErrorCodeRSA_ParameterTooLong:2,ErrorCodeRSA_PublicKeyNotReady:3,ErrorCodeRSA_PublicExponentNotReady:4,ErrorCodeRSA_SpecifiedKeyInUse:5,ErrorCodeRSA_SpecifiedKeyNotInUse:6,ErrorCodeRSA_BadCommandCode:7,ErrorCodeRSA_CommandPending:8,ErrorCodeRSA_SpecifiedKeyExists:9,ErrorCodeRSA_SpecifiedKeyNotExist:10,ErrorCodeRSA_NotInitialized:11},a.prototype.SymmetricKeyType={SymmetricKeyType_AES128:0,SymmetricKeyType_AES192:1,SymmetricKeyType_AES256:2},a.prototype.AsymmetricKeyType={AsymmetricKeyType_RSA1024:0,AsymmetricKeyType_RSA1536:1,AsymmetricKeyType_RSA2048:2},a.prototype.AsymmetricPaddingType={AsymmetricPaddingType_None:0,AsymmetricPaddingType_PKCS1:1,AsymmetricPaddingType_OAEP:2},a.prototype.AsymmetricPaddingType={EncryptionCommandParameterBlockIndex_RSAe:0,EncryptionCommandParameterBlockIndex_RSAn:1,EncryptionCommandParameterBlockIndex_RSAc:2,EncryptionCommandParameterBlockIndex_RSAm:3},a.prototype.RomImageDeleteMode={RomImageDeleteMode_All:0,RomImageDeleteMode_PinPad_All:1,RomImageDeleteMode_SlideShow_All:2,RomImageDeleteMode_KeyPad_All:3,RomImageDeleteMode_Signature_All:4,RomImageDeleteMode_MessageBox_All:5,RomImageDeleteMode_PinPad_Number:6,RomImageDeleteMode_SlideShow_Number:7,RomImageDeleteMode_KeyPad_Number:8,RomImageDeleteMode_Signature_Number:9,RomImageDeleteMode_MessageBox_Number:10},a.prototype.OperationModeType={OperationModeType_Normal:0,OperationModeType_PinPad:1,OperationModeType_SlideShow:2,OperationModeType_KeyPad:3,OperationModeType_Signature:4,OperationModeType_MessageBox:5},a.prototype.ImageDataBlock_maxLengthHID=253,a.prototype.ImageDataBlock_maxLengthSerial=2557,a.prototype.ImageDataBlock_maxLength540=2557,a.prototype.toJSON=function(){return{id:i,scope:r}},a.prototype.Constructor=function(l){return c=l,d.STU.send({scope:r,function:"Constructor",intf:c.toJSON()}).then(function(g){return i=g.id,g})},a.prototype.getInterface=function(){return c},a.prototype.getInformation=function(){return d.STU.send({scope:r,id:i,function:"getInformation"})},a.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:r,id:i,function:"getPenDataOptionMode"})},a.prototype.setPenDataOptionMode=function(l){return d.STU.send({scope:r,id:i,function:"setPenDataOptionMode",penDataOptionMode:l})},a.prototype.OperationMode_Normal=function(){function l(){this.operationMode=0,this.data=[]}return l}(),a.prototype.OperationMode_PinPad=function(){function l(g,S,w,M,O,L,G){this.operationMode=1,this.data=[],this.data[0]=g,this.data[1]=Number(S),this.data[2]=w,this.data[3]=M,this.data[4]=Number(O),this.data[5]=L,this.data[6]=G}return l}(),a.prototype.OperationMode_SlideShow=function(){function l(g,S,w,M){this.operationMode=2,this.data=[],this.data[0]=g,this.data[1]=S,this.data[2]=(w[0]&15)<<4|w[1]&15,this.data[3]=(w[2]&15)<<4|w[3]&15,this.data[4]=(w[4]&15)<<4|w[5]&15,this.data[5]=(w[6]&15)<<4|w[7]&15,this.data[6]=(w[8]&15)<<4|w[9]&15,this.data[7]=M>>24&255,this.data[8]=M>>16&255,this.data[9]=M>>8&255,this.data[10]=M&255}return l}(),a.prototype.OperationMode_KeyPad=function(){function l(g,S){this.operationMode=3,this.data=[],this.data[0]=g,this.data[1]=S}return l}(),a.prototype.OperationMode_Signature=function(){function l(g,S,w,M){this.operationMode=4,this.data=[],this.data[0]=g,this.data[1]=S[0],this.data[2]=S[1],this.data[3]=S[2],this.data[4]=w}return l}(),a.prototype.setOperationMode=function(l){return d.STU.send({scope:r,id:i,function:"setOperationMode",operationMode:l})},a.prototype.getOperationMode=function(){return d.STU.send({scope:r,id:i,function:"getOperationMode"})},a.prototype.RomStartImageData_PinPad=function(){function l(g,S,w,M,O){this.encodingMode=g,this.operationMode=1,this.imageType=S,this.imageNumber=w,this.data=[M,O,0]}return l}(),a.prototype.RomStartImageData_SlideShow=function(){function l(g,S,w){this.encodingMode=g,this.operationMode=2,this.imageType=S,this.imageNumber=w,this.data=[0,0,0]}return l}(),a.prototype.RomStartImageData_KeyPad=function(){function l(g,S,w,M,O){this.encodingMode=g,this.operationMode=3,this.imageType=S,this.imageNumber=w,this.data=[],this.data[0]=M,this.data[1]=O.length>8&&O[8]?1:0,this.data[2]=(O.length>7&&O[7]?128:0)|(O.length>6&&O[6]?64:0)|(O.length>5&&O[5]?32:0)|(O.length>4&&O[4]?16:0)|(O.length>3&&O[3]?8:0)|(O.length>2&&O[2]?4:0)|(O.length>1&&O[1]?2:0)|(O.length>0&&O[0]?1:0)}return l}(),a.prototype.RomStartImageData_Signature=function(){function l(g,S,w,M){this.encodingMode=g,this.operationMode=4,this.imageType=S,this.imageNumber=w,this.data=[],this.data[0]=(M[2]?4:0)|(M[1]?2:0)|(M[0]?1:0)}return l}(),a.prototype.RomStartImageData_MessageBox=function(){function l(g,S){this.encodingMode=g,this.operationMode=5,this.imageType=!1,this.imageNumber=S,this.data=[0,0,0]}return l}(),a.prototype.setRomStartImageData=function(l){return d.STU.send({scope:r,id:i,function:"setRomStartImageData",romStartImage:l})},a.prototype.setRomImageHash=function(l,g,S){return d.STU.send({scope:r,id:i,function:"setRomImageHash",operationModeType:l,imageType:g,imageNumber:S})},a.prototype.getRomImageHash=function(){return d.STU.send({scope:r,id:i,function:"getRomImageHash"})},a.prototype.setRomImageDelete=function(l,g,S){return d.STU.send({scope:r,id:i,function:"setRomImageDelete",romImageDeleteMode:l,imageType:g,imageNumber:S})},a.prototype.getCurrentImageArea=function(){return d.STU.send({scope:r,id:i,function:"getCurrentImageArea"})},a.prototype.setRomImageDisplay=function(l,g,S){return d.STU.send({scope:r,id:i,function:"setRomImageDisplay",operationModeType:l,imageType:g,imageNumber:S})},a.prototype.getEserial=function(){return d.STU.send({scope:r,id:i,function:"getEserial"})},a.prototype.setClearScreen=function(){return d.STU.send({scope:r,id:i,function:"setClearScreen"})},a.prototype.setInkingMode=function(l){return d.STU.send({scope:r,id:i,function:"setInkingMode",inkingMode:l})},a.prototype.rebind=function(l){var g=l;return d.STU.send({scope:r,id:i,function:"rebind",intf:l.toJSON()}).then(function(S){S===null&&(c=g)})},a.prototype.getStatus=function(){return d.STU.send({scope:r,id:i,function:"getStatus"})},a.prototype.setReset=function(l){return d.STU.send({scope:r,id:i,function:"setReset",flag:l})},a.prototype.getHidInformation=function(){return d.STU.send({scope:r,id:i,function:"getHidInformation"})},a.prototype.getCapability=function(){return d.STU.send({scope:r,id:i,function:"getCapability"})},a.prototype.getUid=function(){return d.STU.send({scope:r,id:i,function:"getUid"})},a.prototype.setUid=function(l){return d.STU.send({scope:r,id:i,function:"setUid",uid:l})},a.prototype.getUid2=function(){return d.STU.send({scope:r,id:i,function:"getUid2"})},a.prototype.setDefaultMode=function(l){return d.STU.send({scope:r,id:i,function:"setDefaultMode",defaultMode:l})},a.prototype.getDefaultMode=function(){return d.STU.send({scope:r,id:i,function:"getDefaultMode"})},a.prototype.getHostPublicKey=function(){return d.STU.send({scope:r,id:i,function:"getHostPublicKey"})},a.prototype.setHostPublicKey=function(l){return d.STU.send({scope:r,id:i,function:"setHostPublicKey",hostPublicKey:l})},a.prototype.getDevicePublicKey=function(){return d.STU.send({scope:r,id:i,function:"getDevicePublicKey"})},a.prototype.setStartCapture=function(l){return d.STU.send({scope:r,id:i,function:"setStartCapture",sessionId:l})},a.prototype.setEndCapture=function(){return d.STU.send({scope:r,id:i,function:"setEndCapture"})},a.prototype.getDHprime=function(){return d.STU.send({scope:r,id:i,function:"getDHprime"})},a.prototype.setDHprime=function(l){return d.STU.send({scope:r,id:i,function:"setDHprime",prime:l})},a.prototype.getDHbase=function(){return d.STU.send({scope:r,id:i,function:"getDHbase"})},a.prototype.setDHbase=function(l){return d.STU.send({scope:r,id:i,function:"setDHbase",base})},a.prototype.setClearScreenArea=function(l){return d.STU.send({scope:r,id:i,function:"setClearScreenArea",area:l})},a.prototype.getInkingMode=function(){return d.STU.send({scope:r,id:i,function:"getInkingMode"})},a.prototype.getInkThreshold=function(){return d.STU.send({scope:r,id:i,function:"getInkThreshold"})},a.prototype.setInkThreshold=function(l){return d.STU.send({scope:r,id:i,function:"setInkThreshold",inkThreshold:l})},a.prototype.setStartImageData=function(l){return d.STU.send({scope:r,id:i,function:"setStartImageData",encodingMode:l})},a.prototype.setStartImageDataArea=function(l,g){return d.STU.send({scope:r,id:i,function:"setStartImageDataArea",encodingMode:l,area:g})},a.prototype.setImageDataBlock=function(l){return d.STU.send({scope:r,id:i,function:"setEndImageData",imageDataBlock:l})},a.prototype.setEndImageData=function(l){return d.STU.send({scope:r,id:i,function:"setEndImageData",endImageDataFlag})},a.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:r,id:i,function:"getHandwritingThicknessColor"})},a.prototype.setHandwritingThicknessColor=function(l){return d.STU.send({scope:r,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:l})},a.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:r,id:i,function:"getHandwritingThicknessColor24"})},a.prototype.setHandwritingThicknessColor24=function(l){return d.STU.send({scope:r,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:l})},a.prototype.getBackgroundColor=function(){return d.STU.send({scope:r,id:i,function:"getBackgroundColor"})},a.prototype.setBackgroundColor=function(l){return d.STU.send({scope:r,id:i,function:"setBackgroundColor",backgroundColor:l})},a.prototype.getBackgroundColor24=function(){return d.STU.send({scope:r,id:i,function:"getBackgroundColor24"})},a.prototype.setBackgroundColor24=function(l){return d.STU.send({scope:r,id:i,function:"setBackgroundColor24",backgroundColor24:l})},a.prototype.BootScreenFlag={Disable:0,Enable:1},a.prototype.setBootScreen=function(l){return d.STU.send({scope:r,id:i,function:"setBootScreen",bootScreenFlag:l})},a.prototype.getBootScreen=function(){return d.STU.send({scope:r,id:i,function:"getBootScreen"})},a.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:r,id:i,function:"getHandwritingDisplayArea"})},a.prototype.setHandwritingDisplayArea=function(l){return d.STU.send({scope:r,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:l})},a.prototype.getBacklightBrightness=function(){return d.STU.send({scope:r,id:i,function:"getBacklightBrightness"})},a.prototype.setBacklightBrightness=function(l){return d.STU.send({scope:r,id:i,function:"setBacklightBrightness",backlightBrightness:l})},a.prototype.getScreenContrast=function(){return d.STU.send({scope:r,id:i,function:"getScreenContrast"})},a.prototype.setScreenContrast=function(l){return d.STU.send({scope:r,id:i,function:"setScreenContrast",screenContrast:l})},a.prototype.getEncryptionStatus=function(){return d.STU.send({scope:r,id:i,function:"getEncryptionStatus"})},a.prototype.EncryptionCommand=function(){var l="WacomGSS.STU.Protocol";function g(w){this.encryptionCommandNumber=w.encryptionCommandNumber,this.parameter=w.parameter,this.lengthOrIndex=w.lengthOrIndex,this.data=w.data}function S(){this.encryptionCommandNumber=0,this.parameter=0,this.lengthOrIndex=0,this.data=[]}return S.prototype.initializeSetEncryptionType=function(w,M,O){return d.STU.send({scope:l,function:"EncryptionCommand_initializeSetEncryptionType",symmetricKeyType:w,asymmetricPaddingType:M,asymmetricKeyType:O}).then(function(L){return g.call(this,L),this})},S.prototype.initializeSetParameterBlock=function(w,M){return d.STU.send({scope:l,function:"EncryptionCommand_initializeSetParameterBlock",index:w,data:M}).then(function(O){return g.call(this,O),this})},S.prototype.initializeGenerateSymmetricKey=function(){return d.STU.send({scope:l,function:"EncryptionCommand_initializeGenerateSymmetricKey"}).then(function(w){return g.call(this,w),this})},S.prototype.initializeGetParameterBlock=function(w,M){return d.STU.send({scope:l,function:"EncryptionCommand_initializeGetParameterBlock"}).then(function(O){return g.call(this,O),this})},S}(),a.prototype.getEncryptionCommand=function(l){return d.STU.send({scope:r,id:i,function:"getEncryptionCommand",encryptionCommandNumber:l})},a.prototype.getReportSizeCollection=function(){return d.STU.send({scope:r,id:i,function:"getReportSizeCollection"})},a.prototype.setReportRate=function(l){return d.STU.send({scope:r,id:i,function:"setReportRate",reportRate:l})},a.prototype.getReportRate=function(){return d.STU.send({scope:r,id:i,function:"getReportRate"})},a.prototype.RenderingMode={RenderingMode_Legacy:0,RenderingMode_WILL:1},a.prototype.setRenderingMode=function(l){return d.STU.send({scope:r,id:i,function:"setRenderingMode",renderingMode:l})},a.prototype.getRenderingMode=function(){return d.STU.send({scope:r,id:i,function:"getRenderingMode"})},a}(),C.prototype.ProtocolHelper={ReportHandler:function(){var r="WacomGSS.STU.ProtocolHelper.ReportHandler",i=null,c=null;function a(){this.onReportPenData=function(l){},this.onReportPenDataOption=function(l){},this.onReportPenDataTimeCountSequence=function(l){},this.onReportPenDataEncrypted=function(l){},this.onReportPenDataEncryptedOption=function(l){},this.onReportPenDataTimeCountSequenceEncrypted=function(l){},this.onReportDevicePublicKey=function(l){},this.onReportEncryptionStatus=function(l){},this.onReportEventDataPinPad=function(l){},this.onReportEventDataKeyPad=function(l){},this.onReportEventDataSignature=function(l){},this.onReportEventDataPinPadEncrypted=function(l){},this.onReportEventDataKeyPadEncrypted=function(l){},this.onReportEventDataSignatureEncrypted=function(l){},this.decrypt=function(l){},this.tabletDisconnected=function(l){},this.stream=function(l){var g=new d.STU.Protocol;switch(l.reportId){case g.ReportId.ReportId_PenData:this.onReportPenData(l);break;case g.ReportId.ReportId_PenDataOption:this.onReportPenDataOption(l);break;case g.ReportId.ReportId_PenDataTimeCountSequence:this.onReportPenDataTimeCountSequence(l);break;case g.ReportId.ReportId_PenDataEncrypted:this.onReportPenDataEncrypted(l);break;case g.ReportId.ReportId_PenDataEncryptedOption:this.onReportPenDataEncryptedOption(l);break;case g.ReportId.ReportId_PenDataTimeCountSequenceEncrypted:this.onReportPenDataTimeCountSequenceEncrypted(l);break;case g.ReportId.ReportId_DevicePublicKey:this.onReportDevicePublicKey(l);break;case g.ReportId.ReportId_EncryptionStatus:this.onReportEncryptionStatus(l);break;case g.ReportId.ReportId_EventData:this.onEventData(g,l);break;case g.ReportId.ReportId_EventDataEncrypted:this.onEventDataEncrypted(g,l);break;case g.ReportId.SigCaptX_Decrypt:this.decrypt(l);break;case g.ReportId.SigCaptX_TabletDisconnected:this.tabletDisconnected(l);break}}}return a.prototype.startReporting=function(l,g){return i=d.STU.setStream(this),d.STU.send({interfaceQueueHolder:l.toJSON(),scope:r,function:"startReporting",streamId:i,tabletDecrypt:g===!0}).then(function(S){return c=S.id,S})},a.prototype.stopReporting=function(){if(i===null)throw"Error: trying to stop reporting before starting";return d.STU.send({id:c,scope:r,function:"stopReporting"}).then(function(l){return d.STU.removeStream(i),l})},a.prototype.onEventData=function(l,g){switch(g.operationModeType){case l.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPad(g);break;case l.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPad(g);break;case l.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignature(g);break}},a.prototype.onEventDataEncrypted=function(l,g){switch(g.operationModeType){case l.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPadEncrypted(g);break;case l.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPadEncrypted(g);break;case l.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignatureEncrypted(g);break}},a}(),InkState_isOff:1,InkState_isOn:2,InkState_isInk:4,InkState_isFirst:8,InkState_isLast:16,InkState:{InkState_Up:1,InkState_Down:2,InkState_Inking:6,InkState_First:14,InkState_Last:17},OpDirection:{OpDirection_Get:256,OpDirection_Set:512},statusCanSend:function(r,i,c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"statusCanSend",statusCode:r,reportId:i,opDirection:c})},waitForStatusToSend:function(r,i,c,a,l){var g=Q.defer();function S(){r.getStatus().then(function(w){return d.STU.ProtocolHelper.statusCanSend(w.statusCode,i,c)}).then(function(w){if(w===!0){g.resolve();return}if(a<=0){g.reject(new Error("timeout error"));return}a--,setTimeout(S,l)})}return setTimeout(S,0),g.promise},waitForStatus:function(r,i,c,a){var l=Q.defer();function g(){r.getStatus().then(function(S){if(S.statusCode===i){l.resolve();return}if(c<=0){l.reject(new Error("timeout error"));return}c--,setTimeout(g,a)})}return setTimeout(g,0),l.promise},supportsEncryption:function(r){var i=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(r,d.STU.Protocol.ReportId.ReportId_DHprime,i,25,50).then(function(c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption",protocol:r})})},supportsEncryption_DHprime:function(r){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption_DHprime",dhPrime:r})},setHostPublicKeyAndPollForDevicePublicKey:function(r,i,c,a){return r.setHostPublicKey(i).then(function(l){var g=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(r,d.STU.Protocol.ReportId.ReportId_DevicePublicKey,g,c,a)}).then(function(l){return r.getDevicePublicKey()}).then(function(l){if(l.length!==i.length)throw new Error("Unexpected key size");return l})},writeImage:function(r,i,c,a,l){a=typeof a=="undefined"?25:a,l=typeof l=="undefined"?25:l;var g=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(r,d.STU.Protocol.ReportId.ReportId_StartImageData,g,a,l).then(function(S){return r.setStartImageData(i)}).then(function(S){var w=r.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(r,i,w,c,a,l)})},writeImageCommon:function(r,i,c,a,l,g){if(c>r.ImageDataBlock_maxLengthSerial)throw new Error("Invalid maxImageBlockSize");var S=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(r,d.STU.Protocol.ReportId.ReportId_ImageDataBlock,S,l,g).then(function(w){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeImageCommon",protocol:r.toJSON(),intf:r.getInterface().toJSON(),encodingMode:i,imageData:a,maxImageBlockSize:c})})},flattenMonochrome:function(r,i,c,a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenMonochrome",b64Data:r,screenWidth:i,screenHeight:c,dataStore:a===!0}).then(function(l){if(typeof l=="string")return l;var g=new d.STU.DataStore;return g.setId(l.id),g})},flatten:function(r,i,c,a,l){var g=new d.STU.Protocol;switch(r){case g.EncodingMode.EncodingMode_24bit:case g.EncodingMode.EncodingMode_24bit_Bulk:return d.STU.ProtocolHelper.flattenColor24(i,c,a,l);case g.EncodingMode.EncodingMode_16bit:case g.EncodingMode.EncodingMode_16bit_Bulk:return d.STU.ProtocolHelper.flattenColor16(i,c,a,l);case g.EncodingMode.EncodingMode_1bit:case g.EncodingMode.EncodingMode_1bit_Bulk:return d.STU.ProtocolHelper.flattenMonochrome(i,c,a,l)}},resizeAndFlatten:function(r,i,c,a,l,g,S,w,M,O,L,G){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"resizeAndFlatten",b64Data:r,offsetX:i,offsetY:c,bitmapWidth:a,bitmapHeight:l,screenWidth:g,screenHeight:S,encodingMode:w,scale:M,backgroundColor:O,clip:L,dataStore:G===!0}).then(function(Y){if(typeof Y=="string")return Y;var E=new d.STU.DataStore;return E.setId(Y.id),E})},encodingFlagSupportsColor:function(r){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"encodingFlagSupportsColor",screenWidth:r})},flattenColor16:function(r,i,c,a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor16",b64Data:r,screenWidth:i,screenHeight:c,dataStore:a===!0}).then(function(l){if(typeof l=="string")return l;var g=new d.STU.DataStore;return g.setId(l.id),g})},flattenColor24:function(r,i,c,a){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor24",b64Data:r,screenWidth:i,screenHeight:c,dataStore:a===!0}).then(function(l){if(typeof l=="string")return l;var g=new d.STU.DataStore;return g.setId(l.id),g})},generateSymmetricKeyAndWaitForEncryptionStatus:function(r,i,c,a){var l=d.STU.ProtocolHelper.OpDirection.OpDirection_Set,g=Q.defer(),S=v();return s[S]=g,d.STU.ProtocolHelper.waitForStatusToSend(r,d.STU.Protocol.ReportId.ReportId_EncryptionCommand,l,i,c).then(function(w){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"generateSymmetricKeyAndWaitForEncryptionStatus",protocol:r.toJSON(),intf:r.getInterface().toJSON(),timeout:a,sleepBetweenRetries:c,ticket2:S}).then(function(M){return g.promise})})},simulateEncodingFlag:function(r,i){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"simulateEncodingFlag",idProduct:r,encodingFlag:typeof obj=="undefined"?0:i})},writeImageArea:function(r,i,c,a,l,g){l=typeof l=="undefined"?25:l,g=typeof g=="undefined"?25:g;var S=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(r,d.STU.Protocol.ReportId.ReportId_StartImageDataArea,S,l,g).then(function(w){return r.setStartImageDataArea(i,c)}).then(function(w){var M=r.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(r,i,M,a,l,g)})},writeRomImage:function(r,i,c,a,l,g){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeRomImage",protocol:r,romStartImageData:i,maxImageBlockSize:c,imageData:a,retries:l,sleepBetweenRetries:g})}},C.prototype.Tablet=function(){var r="WacomGSS.STU.Tablet",i=null;function c(){}return c.prototype.toJSON=function(){return{id:i,scope:r}},c.prototype.Constructor=function(a,l,g){return d.STU.send({scope:r,function:"Constructor",hasIntf:typeof a!="undefined",intf:typeof a=="undefined"?null:a.toJSON(),encryptionHandler:typeof l=="undefined"||l===null?null:l.toJSON(),encryptionHandler2:typeof g=="undefined"||g===null?null:g.toJSON()}).then(function(S){return i=S.id,S})},c.prototype.attach=function(a){return d.STU.send({scope:r,id:i,function:"attach",intf:typeof a=="undefined"?null:a.toJSON()})},c.prototype.detach=function(a){return d.STU.send({scope:r,id:i,function:"detach"}).then(function(l){var g;return m(l.scope)&&m(l.id)&&(l.scope==="WacomGSS.STU.UsbInterface"?(g=new C.UsbInterface,g.id=l.id):l.scope==="WacomGSS.STU.SerialInterface"&&(g=new C.SerialInterface,g.id=l.id)),g})},c.prototype.getInformation=function(){return d.STU.send({scope:r,id:i,function:"getInformation"})},c.prototype.setClearScreen=function(){return d.STU.send({scope:r,id:i,function:"setClearScreen"})},c.prototype.isSupported=function(a){return d.STU.send({scope:r,id:i,function:"isSupported",reportId:a})},c.prototype.getProductId=function(a){return d.STU.send({scope:r,id:i,function:"getProductId"})},c.prototype.setPenDataOptionMode=function(a){return d.STU.send({scope:r,id:i,function:"setPenDataOptionMode",penDataOptionMode:a})},c.prototype.getDHprime=function(){return d.STU.send({scope:r,id:i,function:"getDHprime"})},c.prototype.startCapture=function(a){return d.STU.send({scope:r,id:i,function:"startCapture",sessionId:a})},c.prototype.setInkingMode=function(a){return d.STU.send({scope:r,id:i,function:"setInkingMode",inkingMode:a})},c.prototype.queueSetPredicateAll=function(a){return d.STU.send({scope:r,id:i,function:"queueSetPredicateAll",predicate:a})},c.prototype.endCapture=function(){return d.STU.send({scope:r,id:i,function:"endCapture"})},c.prototype.disconnect=function(){return d.STU.send({scope:r,id:i,function:"disconnect"})},c.prototype.empty=function(){return d.STU.send({scope:r,id:i,function:"empty"})},c.prototype.isConnected=function(){return d.STU.send({scope:r,id:i,function:"isConnected"})},c.prototype.supportsWrite=function(){return d.STU.send({scope:r,id:i,function:"supportsWrite"})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:r,id:i,function:"getReportCountLengths"})},c.prototype.getStatus=function(){return d.STU.send({scope:r,id:i,function:"getStatus"})},c.prototype.reset=function(){return d.STU.send({scope:r,id:i,function:"reset"})},c.prototype.getHidInformation=function(){return d.STU.send({scope:r,id:i,function:"getHidInformation"})},c.prototype.getCapability=function(){return d.STU.send({scope:r,id:i,function:"getCapability"})},c.prototype.getUid=function(){return d.STU.send({scope:r,id:i,function:"getUid"})},c.prototype.setUid=function(a){return d.STU.send({scope:r,id:i,function:"setUid",uid:a})},c.prototype.getUid2=function(){return d.STU.send({scope:r,id:i,function:"getUid2"})},c.prototype.setDefaultMode=function(a){return d.STU.send({scope:r,id:i,function:"setDefaultMode",defaultMode:a})},c.prototype.getDefaultMode=function(){return d.STU.send({scope:r,id:i,function:"getDefaultMode"})},c.prototype.getHostPublicKey=function(){return d.STU.send({scope:r,id:i,function:"getHostPublicKey"})},c.prototype.getDevicePublicKey=function(){return d.STU.send({scope:r,id:i,function:"getDevicePublicKey"})},c.prototype.setDHprime=function(a){return d.STU.send({scope:r,id:i,function:"setDHprime",prime:a})},c.prototype.getDHbase=function(){return d.STU.send({scope:r,id:i,function:"getDHbase"})},c.prototype.setDHbase=function(a){return d.STU.send({scope:r,id:i,function:"setDHbase",base})},c.prototype.setClearScreenArea=function(a){return d.STU.send({scope:r,id:i,function:"setClearScreenArea",area:a})},c.prototype.getInkingMode=function(){return d.STU.send({scope:r,id:i,function:"getInkingMode"})},c.prototype.getInkThreshold=function(){return d.STU.send({scope:r,id:i,function:"getInkThreshold"})},c.prototype.setInkThreshold=function(a){return d.STU.send({scope:r,id:i,function:"setInkThreshold",inkThreshold:a})},c.prototype.writeImage=function(a,l){var g=null;return typeof l=="string"?g=l:g=l.toJSON(),d.STU.send({scope:r,id:i,function:"writeImage",encodingMode:a,b64Data:g})},c.prototype.writeImageArea=function(a,l,g){var S=null;return typeof g=="string"?S=g:S=g.toJSON(),d.STU.send({scope:r,id:i,function:"writeImageArea",encodingMode:a,area:l,b64Data:S})},c.prototype.endImageData=function(a){return d.STU.send({scope:r,id:i,function:"endImageData"})},c.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:r,id:i,function:"getHandwritingThicknessColor"})},c.prototype.setHandwritingThicknessColor=function(a){return d.STU.send({scope:r,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:a})},c.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:r,id:i,function:"getHandwritingThicknessColor24"})},c.prototype.setHandwritingThicknessColor24=function(a){return d.STU.send({scope:r,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:a})},c.prototype.getBackgroundColor=function(){return d.STU.send({scope:r,id:i,function:"getBackgroundColor"})},c.prototype.setBackgroundColor=function(a){return d.STU.send({scope:r,id:i,function:"setBackgroundColor",backgroundColor:a})},c.prototype.getBackgroundColor24=function(){return d.STU.send({scope:r,id:i,function:"getBackgroundColor24"})},c.prototype.setBackgroundColor24=function(a){return d.STU.send({scope:r,id:i,function:"setBackgroundColor24",backgroundColor24:a})},c.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:r,id:i,function:"getHandwritingDisplayArea"})},c.prototype.setHandwritingDisplayArea=function(a){return d.STU.send({scope:r,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:a})},c.prototype.getBacklightBrightness=function(){return d.STU.send({scope:r,id:i,function:"getBacklightBrightness"})},c.prototype.setBacklightBrightness=function(a){return d.STU.send({scope:r,id:i,function:"setBacklightBrightness",backlightBrightness:a})},c.prototype.getScreenContrast=function(){return d.STU.send({scope:r,id:i,function:"getScreenContrast"})},c.prototype.setScreenContrast=function(a){return d.STU.send({scope:r,id:i,function:"setScreenContrast",screenContrast:a})},c.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:r,id:i,function:"getPenDataOptionMode"})},c.prototype.getEncryptionStatus=function(){return d.STU.send({scope:r,id:i,function:"getEncryptionStatus"})},c.prototype.getEncryptionCommand=function(a){return d.STU.send({scope:r,id:i,function:"getEncryptionCommand",encryptionCommandNumber:a})},c.prototype.decrypt=function(a){return d.STU.send({scope:r,id:i,decrypt:"decrypt",data:a})},c.prototype.setReportRate=function(a){return d.STU.send({scope:r,id:i,function:"setReportRate",reportRate:a})},c.prototype.getReportRate=function(){return d.STU.send({scope:r,id:i,function:"getReportRate"})},c.prototype.setRenderingMode=function(a){return d.STU.send({scope:r,id:i,function:"setRenderingMode",renderingMode:a})},c.prototype.getRenderingMode=function(){return d.STU.send({scope:r,id:i,function:"getRenderingMode"})},c.prototype.setOperationMode=function(a){return d.STU.send({scope:r,id:i,function:"setOperationMode",operationMode:a})},c.prototype.getOperationMode=function(){return d.STU.send({scope:r,id:i,function:"getOperationMode"})},c.prototype.writeRomImage=function(a,l){return d.STU.send({scope:r,id:i,function:"writeRomImage",romStartImageData:a,imageData:l})},c.prototype.setRomImageHash=function(a,l,g){return d.STU.send({scope:r,id:i,function:"setRomImageHash",operationModeType:a,imageType:l,imageNumber:g})},c.prototype.getRomImageHash=function(){return d.STU.send({scope:r,id:i,function:"getRomImageHash"})},c.prototype.setRomImageDelete=function(a,l,g){return d.STU.send({scope:r,id:i,function:"setRomImageDelete",romImageDeleteMode:a,imageType:l,imageNumber:g})},c.prototype.getCurrentImageArea=function(){return d.STU.send({scope:r,id:i,function:"getCurrentImageArea"})},c.prototype.setRomImageDisplay=function(a,l,g){return d.STU.send({scope:r,id:i,function:"setRomImageDisplay",operationModeType:a,imageType:l,imageNumber:g})},c.prototype.getEserial=function(){return d.STU.send({scope:r,id:i,function:"getEserial"})},c}(),C.prototype.SerialInterface=function(){var r="WacomGSS.STU.SerialInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:r,function:"Constructor"}).then(function(a){return i=a.id,a})},c.prototype.BaudRate_STU500=115200,c.prototype.BaudRate_STU430_530_prerelease=460800,c.prototype.BaudRate_STU430_530=3e6,c.prototype.connect=function(a,l,g){return d.STU.send({scope:r,id:i,function:"connect",fileName:a,baudRate:l,useCrc:g})},c.prototype.toJSON=function(){return{id:i,scope:r}},c.prototype.disconnect=function(){return d.STU.send({scope:r,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:r,id:i,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:r,id:i,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(a){return d.STU.send({scope:r,id:i,function:"queueSetPredicateAll",predicate:a})},c.prototype.get=function(a){return d.STU.send({scope:r,id:i,function:"get_",length:a})},c.prototype.set=function(a){return d.STU.send({scope:r,id:i,function:"set",base64Data:a})},c.prototype.supportsWrite=function(){return d.STU.send({scope:r,id:i,function:"supportsWrite"})},c.prototype.write=function(a){return d.STU.send({scope:r,id:i,function:"write",base64Data:a})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:r,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:r,id:i,function:"getProductId"})},c}(),C.prototype.TlsInterface=function(){var r="WacomGSS.STU.TlsInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:r,function:"Constructor"}).then(function(a){return i=a.id,a})},c.prototype.ConnectOption={ConnectOption_OOB:1,ConnectOption_SSL:2},c.prototype.connect=function(a,l){return d.STU.send({scope:r,id:i,function:"connect",fileName:a,connectOption:l})},c.prototype.toJSON=function(){return{id:i,scope:r}},c.prototype.disconnect=function(){return d.STU.send({scope:r,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:r,id:i,function:"isConnected"})},c.prototype.get=function(a){return d.STU.send({scope:r,id:i,function:"get_",length:a})},c.prototype.set=function(a){return d.STU.send({scope:r,id:i,function:"set",base64Data:a})},c.prototype.supportsWrite=function(){return d.STU.send({scope:r,id:i,function:"supportsWrite"})},c.prototype.write=function(a){return d.STU.send({scope:r,id:i,function:"write",base64Data:a})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:r,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:r,id:i,function:"getProductId"})},c}(),C.prototype.DataStore=function(){var r="WacomGSS.STU.DataStore",i=null;function c(){}return c.prototype.setId=function(a){i=a},c.prototype.toJSON=function(){return{id:i,scope:r}},c.prototype.Constructor=function(a){return d.STU.send({scope:r,function:"Constructor",b64Data:a})},c.prototype.getData=function(){return d.STU.send({scope:r,id:i,function:"getData"})},c.prototype.getRemove=function(){return d.STU.send({scope:r,id:i,function:"getRemove"}).then(function(a){return i=null,a})},c.prototype.remove=function(){return d.STU.send({scope:r,id:i,function:"remove"}).then(function(a){return i=null,a})},c.prototype.setData=function(a){return d.STU.send({scope:r,id:i,function:"setData",b64Data:a})},c}(),C.prototype.SerialProtocol={getHeaderLength:function(){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"getHeaderLength"})},isStartReport:function(r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"isStartReport",byte:r})},decodeHasCrc:function(r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeHasCrc",header1:r})},decodeEncodedDataLength:function(r,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeEncodedDataLength",header1:r,header2:i})},calcEncodedDataLength:function(r,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"calcEncodedDataLength",useCrc:r,length:i})},encodeHeader:function(r,i,c){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeHeader",encodedData:r,useCrc:i,encodedDataLength:c})},encodeReport:function(r,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeReport",report:r,useCrc:i})},decodeData:function(r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeData",data:r})},checkCrcAndRemove:function(r){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"checkCrcAndRemove",container:r})}},C.prototype.EncryptionHandler=function(){var r="WacomGSS.STU.EncryptionHandler",i=null,c=null,a=null,l=new Object;function g(S){a=S,this.stream=function(w){try{l[w.function](w)}catch(M){throw new Error("EncryptionHandler."+w.function+" : "+M+`
message was:
`+JSON.stringify(w))}}}return g.prototype.Constructor=function(){return i=d.STU.setStream(this),d.STU.send({scope:r,function:"Constructor",streamId:i}).then(function(S){return c=S.id,S})},g.prototype.toJSON=function(){return{id:c,scope:r}},l.reset=function(S){a.reset(),d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:null})},l.clearKeys=function(S){a.clearKeys(),d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:null})},l.requireDH=function(S){var w=a.requireDH();d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:w})},l.setDH=function(S){a.setDH(S.data.dhPrime,S.data.dhBase),d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:null})},l.generateHostPublicKey=function(S){var w=a.generateHostPublicKey();d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:w})},l.computeSharedKey=function(S){a.computeSharedKey(S.data),d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:null})},l.decrypt=function(S){var w=a.decrypt(S.data);d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:w})},g}(),C.prototype.EncryptionHandler2=function(){var r="WacomGSS.STU.EncryptionHandler2",i=null,c=null,a=null,l=new Object;function g(S){a=S,this.stream=function(w){try{l[w.function](w)}catch(M){throw new Error("EncryptionHandler2."+w.function+" : "+M+`
message was:
`+JSON.stringify(w))}}}return g.prototype.Constructor=function(){return i=d.STU.setStream(this),d.STU.send({scope:r,function:"Constructor",streamId:i}).then(function(S){return c=S.id,S})},g.prototype.toJSON=function(){return{id:c,scope:r}},l.reset=function(S){a.reset(),d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:null})},l.clearKeys=function(S){a.clearKeys(),d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:null})},l.getParameters=function(S){var w=a.getParameters(S.data.symmetricKeyType,S.data.asymmetricPaddingType,S.data.asymmetricKeyType),M=w[0],O=w[1],L=w[2];d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:{symmetricKeyType:M,asymmetricPaddingType:O,asymmetricKeyType:L}})},l.getPublicExponent=function(S){var w=a.getPublicExponent();d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:w})},l.generatePublicKey=function(S){var w=a.generatePublicKey();d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:w})},l.computeSessionKey=function(S){a.computeSessionKey(S.data),d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:null})},l.decrypt=function(S){var w=a.decrypt(S.data);d.STU.sendNoReturn({scope:r,function:"set_value",promiseId:S.promiseId,data:w})},g}(),C}();d.STU=new d.STUConstructor;const ca={id:"IdCardBack",style:{height:"12.75cm",width:"8.1cm","font-size":"7pt",position:"relative","background-image":"url('/images/lgu_id_back.png')","background-position":"center","background-size":"contain","font-family":"sans-serif"}},da={class:"detail",style:{position:"absolute",top:"79px",left:"10px",overflow:"hidden",width:"265px",height:"35px","font-size":"11pt","line-height":"13pt"}},fa={class:"detail",style:{position:"absolute",top:"133px",left:"14px","font-size":"11pt"}},pa={class:"detail",style:{position:"absolute",top:"171px",left:"14px","font-size":"11pt"}},ma={class:"detail",style:{position:"absolute",top:"209px",left:"14px","font-size":"11pt"}},ha={class:"detail",style:{position:"absolute",top:"245px",left:"14px","font-size":"11pt"}},ga={style:{width:"100%","text-align":"left",position:"absolute",left:"22px",bottom:"178px","font-size":"14px"}},va={style:{width:"100%","text-align":"left",position:"absolute",left:"22px",top:"297px","font-size":"16px"}},ya={class:"detail",style:{position:"absolute",top:"319px",left:"91px","font-size":"9pt"}},Sa={class:"detail",style:{position:"absolute",top:"335px",left:"91px","font-size":"9pt"}},ba=J("img",{id:"signatureImage",src:ua,style:{height:"227px",width:"359px",position:"absolute",bottom:"-146px",left:"-27px",transform:"scale(0.4)"}},null,-1),wa=[ba],xa={style:{position:"absolute",bottom:"74px",width:"100%","text-align":"center","font-size":"8pt"}},Ta=J("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1),po=Object.assign({name:"IdCardBack"},{__name:"IdCardBack",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=e,o=t;function s(){o("onPenDataSave",G)}var u=ue(!1),m="Cancel",v="Clear",T="OK",C=20,k=1e3,R=500,r,i,c,a,l,g,S=-1,w,M,O,L,G,Y,E=0,p;he(()=>n.details,(B,j)=>{B.sig_src&&(G=B.sig_src,w={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},L={offPressureMark:16,onPressureMark:21},Qe())},{deep:!0});function H(){E=E+1,d.STU.isServiceReady()?(E=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),E<C?setTimeout(H,k):alert("Unable to establish connection to SigCaptX"))}setTimeout(H,R);function P(){console.log("DCA disconnected"),setTimeout(Ue,0)}function Z(B,j,te,fe){this.x=B,this.y=j,this.width=te,this.height=fe,this.Contains=function(q){return q.x>=this.x&&q.x<=this.x+this.width&&q.y>=this.y&&q.y<=this.y+this.height}}function I(){this.Bounds,this.Text,this.Click}function re(B,j){this.x=B,this.y=j}function ne(B,j){c=document.createElement("div"),c.id="signatureWindow",c.className="active",c.style.position="relative",c.style.top=0+"px",c.style.left=0+"px",c.style.width=B+"px",c.style.height=j+"px",document.getElementById("sigPreviewContainer").appendChild(c),r=document.createElement("canvas"),r.id="myCanvas",r.height=c.offsetHeight,r.width=c.offsetWidth,r.style.zIndex=999,c.appendChild(r),i=r.getContext("2d"),console.log("canvas.addEventListener:",r.addEventListener),r.addEventListener?(r.addEventListener("click",Je,!1),console.log("onCanvasClick 0")):r.attachEvent?(r.attachEvent("onClick",Je),console.log("onCanvasClick 1")):(r.onClick=Je,console.log("onCanvasClick 2"))}function U(){var B=Q.defer();if(p!=null){var j=new d.STU.Protocol;p.setInkingMode(j.InkingMode.InkingMode_Off).then(function(te){return console.log("received: "+JSON.stringify(te)),p.endCapture()}).then(function(te){return console.log("received: "+JSON.stringify(te)),O!==null?O.remove():te}).then(function(te){return console.log("received: "+JSON.stringify(te)),O=null,p.setClearScreen()}).then(function(te){return console.log("received: "+JSON.stringify(te)),p.disconnect()}).then(function(te){console.log("received: "+JSON.stringify(te)),p=null,ge(r,i)}).then(function(te){B.resolve()}).fail(function(te){console.log("disconnect error: "+te),B.resolve()})}else B.resolve();return B.promise}window.addEventListener("beforeunload",function(B){var j="";return d.STU.close(),(B||window.event).returnValue=j,j});function ee(){}ee.prototype=new Error;function ve(){u.value=!0,ce()}function ce(){var B=new d.STU.Protocol,j,te,fe;d.STU.isDCAReady().then(function(q){if(!q)throw new ee;return d.STU.onDCAtimeout=P,d.STU.getUsbDevices()}).then(function(q){if(q==null||q.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(q)),Y=q,d.STU.isSupportedUsbDevice(Y[0].idVendor,Y[0].idProduct)}).then(function(q){return console.log("received: "+JSON.stringify(q)),j=new d.STU.UsbInterface,j.Constructor()}).then(function(q){return console.log("received: "+JSON.stringify(q)),j.connect(Y[0],!0)}).then(function(q){return console.log("received: "+JSON.stringify(q)),p=new d.STU.Tablet,p.Constructor(j,te,fe)}).then(function(q){return console.log("received: "+JSON.stringify(q)),j=null,p.getInkThreshold()}).then(function(q){return console.log("m_inkThreshold received: "+JSON.stringify(q)),L=q,p.getCapability()}).then(function(q){return console.log("m_capability received: "+JSON.stringify(q)),w=q,ne(w.screenWidth,w.screenHeight),p.getInformation()}).then(function(q){return console.log("received: "+JSON.stringify(q)),p.getInkThreshold()}).then(function(q){return console.log("received: "+JSON.stringify(q)),p.getProductId()}).then(function(q){return console.log("received: "+JSON.stringify(q)),d.STU.ProtocolHelper.simulateEncodingFlag(q,w.encodingFlag)}).then(function(q){console.log("received: "+JSON.stringify(q));var pe=q;if((pe&B.EncodingFlag.EncodingFlag_24bit)!=0)return p.supportsWrite().then(function(ye){M=ye?B.EncodingMode.EncodingMode_24bit_Bulk:B.EncodingMode.EncodingMode_24bit});if((pe&B.EncodingFlag.EncodingFlag_16bit)!=0)return p.supportsWrite().then(function(ye){M=ye?B.EncodingMode.EncodingMode_16bit_Bulk:B.EncodingMode.EncodingMode_16bit});M=B.EncodingMode.EncodingMode_1bit}).then(function(q){return p.setClearScreen()}).then(function(q){return console.log("received from setClearScreen: "+JSON.stringify(q)),q}).then(function(q){return console.log("received: "+JSON.stringify(q)),p.isSupported(B.ReportId.ReportId_PenDataOptionMode)}).then(function(q){return console.log("received: "+JSON.stringify(q)),q?p.getProductId().then(function(pe){var ye=B.PenDataOptionMode.PenDataOptionMode_None;switch(pe){case d.STU.ProductId.ProductId_520A:ye=B.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case d.STU.ProductId.ProductId_430:case d.STU.ProductId.ProductId_530:case d.STU.ProductId.ProductId_540:ye=B.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return p.setPenDataOptionMode(ye)}):(M=B.EncodingMode.EncodingMode_1bit,M)}).then(function(q){console.log("received: "+JSON.stringify(q)),_();var pe=r.toDataURL("image/png");return d.STU.ProtocolHelper.resizeAndFlatten(pe,0,0,0,0,w.screenWidth,w.screenHeight,M,1,!1,0,!0)}).then(function(q){return O=q,console.log("received: "+JSON.stringify(q)),p.writeImage(M,q)}).then(function(q){return console.log("received: "+JSON.stringify(q)),p.setInkingMode(B.InkingMode.InkingMode_On)}).then(function(q){console.log("received: "+JSON.stringify(q));var pe=new d.STU.ProtocolHelper.ReportHandler;l={x:0,y:0},a=!1,i.lineWidth=1;var ye=function(Be){Se(Be,r),Ae(Be,r,i),G.push(Be)},Re=function(Be){Se(Be.penData[0],r),Ae(Be.penData[0],r,i),Se(Be.penData[1],r),Ae(Be.penData[1],r,i),G.push(Be.penData[0],Be.penData[1])},qe=function(Be){},Ne=function(Be){};return G=new Array,pe.onReportPenData=ye,pe.onReportPenDataOption=ye,pe.onReportPenDataTimeCountSequence=ye,pe.onReportPenDataEncrypted=Re,pe.onReportPenDataEncryptedOption=Re,pe.onReportPenDataTimeCountSequenceEncrypted=ye,pe.onReportDevicePublicKey=qe,pe.onReportEncryptionStatus=qe,pe.decrypt=Ne,pe.startReporting(p,!0)}).fail(function(q){console.log(q),q instanceof ee?(d.STU.Reinitialize(),setTimeout(ce,k)):(alert(`promptSigDialog failed:
`+q),setTimeout(Ue(),0))})}function _(){if(g=new Array(3),g[0]=new I,g[1]=new I,g[2]=new I,Y[0].idProduct!=d.STU.ProductId.ProductId_300){var B=w.screenWidth/3,j=w.screenWidth/3,te=w.screenWidth-B-j,fe=w.screenHeight*6/7,q=w.screenHeight-fe;g[0].Bounds=new Z(0,fe,te,q),g[1].Bounds=new Z(te,fe,B,q),g[2].Bounds=new Z(te+B,fe,j,q)}else{var pe=w.screenWidth*3/4,ye=w.screenWidth-pe,Re=w.screenHeight/3,qe=w.screenHeight/3,Ne=w.screenHeight-Re-qe;g[0].Bounds=new Z(pe,0,ye,Ne),g[1].Bounds=new Z(pe,Ne,ye,Re),g[2].Bounds=new Z(pe,Ne+Re,ye,qe)}g[0].Text=T,g[1].Text=v,g[2].Text=m,g[0].Click=ae,g[1].Click=A,g[2].Click=se,ge(r,i),x()}function x(){i.save(),i.setTransform(1,0,0,1,0,0),i.beginPath(),i.lineWidth=1,i.strokeStyle="black",i.font="30px Arial";for(var B=0;B<g.length;++B){i.fillStyle="lightgrey",i.fillRect(g[B].Bounds.x,g[B].Bounds.y,g[B].Bounds.width,g[B].Bounds.height),i.fillStyle="black",i.rect(g[B].Bounds.x,g[B].Bounds.y,g[B].Bounds.width,g[B].Bounds.height);var j=g[B].Bounds.x+(g[B].Bounds.width/2-i.measureText(g[B].Text).width/2),te;Y[0].idProduct==d.STU.ProductId.ProductId_300?te=28:Y[0].idProduct==d.STU.ProductId.ProductId_430?te=26:te=40,i.fillText(g[B].Text,j,g[B].Bounds.y+te)}i.stroke(),i.closePath(),i.restore()}function z(){ge(r,i),x(),G=new Array,p.writeImage(M,O)}function ae(){console.log("btnOk_Click: ",this),Qe(),setTimeout(Ue,0)}function se(){setTimeout(Ue,0)}function A(){console.log("clear!"),z()}function W(B,j){return Math.pow(B.x-j.x,2)+Math.pow(B.y-j.y,2)}function ge(B,j){j.save(),j.setTransform(1,0,0,1,0,0),j.fillStyle="white",j.fillRect(0,0,B.width,B.height),j.restore()}function F(B,j){j.save(),j.setTransform(1,0,0,1,0,0),j.fillStyle="#ffffff00",j.fillRect(0,0,B.width,B.height),j.restore()}function Se(B,j){var te={};te.x=Math.round(j.width*B.x/w.tabletMaxX),te.y=Math.round(j.height*B.y/w.tabletMaxY);for(var fe=a?!(B.pressure<=L.offPressureMark):B.pressure>L.onPressureMark,q=-1,pe=0;pe<g.length;++pe)if(g[pe].Bounds.Contains(te)){q=pe;break}return a&&!fe?(q!=-1&&S===q&&g[q].Click(),S=-1):q!=-1&&!a&&fe&&(S=q),q==-1}function Ae(B,j,te){var fe={};fe.x=Math.round(j.width*B.x/w.tabletMaxX),fe.y=Math.round(j.height*B.y/w.tabletMaxY);var q=a?!(B.pressure<=L.offPressureMark):B.pressure>L.onPressureMark;!a&&q&&(l=fe),(q&&10<W(l,fe)||a&&!q)&&(te.beginPath(),te.moveTo(l.x,l.y),te.lineTo(fe.x,fe.y),te.stroke(),te.closePath(),l=fe),a=q}function Qe(){var B=document.getElementById("signatureImage"),j=document.createElement("canvas");j.id="signatureCanvas",j.height=B.height,j.width=B.width;var te=j.getContext("2d");F(j,te),te.lineWidth="2.5",te.strokeStyle="black",l={x:0,y:0},a=!1;for(var fe=0;fe<G.length;fe++)Ae(G[fe],j,te);s(),B.src=j.toDataURL("image/png")}function Ue(){u.value=!1,d.STU.onDCAtimeout=null,U(),document.getElementById("sigPreviewContainer").removeChild(c)}function Je(B){for(var j=B.pageX-c.offsetLeft,te=B.pageY-c.offsetTop,fe=0;fe<g.length;fe++)if(g[fe].Bounds.Contains(new re(j,te))){g[fe].Click();break}}return(B,j)=>(it(),dt(Tn,null,[J("div",ca,[J("div",da,Ce(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+Ce(e.details.address_res_city)+", "+Ce(e.details.address_res_zip_code)+", "+Ce(e.details.address_res_province),1),J("div",fa,Ce(e.details.gender),1),J("div",pa,Ce(e.details.date_of_birth),1),J("div",ma,Ce(e.details.blood_type),1),J("div",ha,Ce(e.details.contact_number),1),J("div",ga,Ce(e.details.emergency_name),1),J("div",va,Ce(e.details.emergency_number),1),J("div",ya,Ce(e.details.date_issued_formatted),1),J("div",Sa,Ce(e.details.date_expire_formatted),1),J("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:j[0]||(j[0]=te=>ve())},wa),J("div",xa,[J("b",null,Ce(e.details.name),1)])]),X(Kt,{modelValue:Gi(u),"onUpdate:modelValue":j[2]||(j[2]=te=>Ji(u)?u.value=te:u=te),"backdrop-filter":"sepia(90%)",persistent:""},{default:we(()=>[X(yn,null,{default:we(()=>[X(Jt,{class:"row items-center q-pb-none text-h6"},{default:we(()=>[tt(" Signature ")]),_:1}),X(Jt,null,{default:we(()=>[Ta,J("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:j[1]||(j[1]=te=>ae())}),J("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:A}),J("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:se})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var mo=ze({name:"QCardActions",props:{...Xi,vertical:Boolean},setup(e,{slots:t}){const n=Yi(e),o=V(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>$("div",{class:o.value},We(t.default))}});function ho(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var go=Zi({name:"close-popup",beforeMount(e,{value:t}){const n={depth:ho(t),handler(o){n.depth!==0&&setTimeout(()=>{const s=br(e);s!==void 0&&wr(s,o,n.depth)})},handlerKey(o){Zt(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=ho(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var Ca=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const _a={props:{image:{type:String,default:""},accept:{type:String,default:"image/*"},placeholderSvg:{type:String,default:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let e=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},methods:{drawRoundedRect(e,t,n,o,s,u){if(u===0)e.rect(t,n,o,s);else{const m=o-u,v=s-u;e.translate(t,n),e.arc(u,u,u,Math.PI,Math.PI*1.5),e.lineTo(m,0),e.arc(m,u,u,Math.PI*1.5,Math.PI*2),e.lineTo(o,v),e.arc(m,v,u,Math.PI*2,Math.PI*.5),e.lineTo(u,s),e.arc(u,v,u,Math.PI*.5,Math.PI),e.translate(-t,-n)}},svgToImage(e){let t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),o=(self.URL||self.webkitURL||self).createObjectURL(t),s=new Image;return s.src=o,s},setState(e){var t=Math.ceil(1),n=Math.floor(1e4);this.state=e,this.state.cnt="HELLO"+Math.floor(Math.random()*(n-t))+t},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let e=this.borderRadius;const t=this.getDimensions(),n=t.border,o=t.canvas.height,s=t.canvas.width;e=Math.max(e,0),e=Math.min(e,s/2-n,o/2-n),this.context.beginPath(),this.drawRoundedRect(this.context,n,n,s-n*2,o-n*2,e),this.context.rect(s,0,-s,o),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+this.border*2,height:this.height+this.border*2}}},onDrop(e){if(e=e||window.event,e.stopPropagation(),e.preventDefault(),e.dataTransfer&&e.dataTransfer.files.length){const t=new FileReader,n=e.dataTransfer.files[0];this.changed=!0,t.onload=o=>this.loadImage(o.target.result),t.readAsDataURL(n)}},onDragStart(e){e=e||window.event,e.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let t=document,n=!1,o=u=>{this.onDragEnd(u),!n&&u.targetTouches&&e.target.click(),t.removeEventListener("mouseup",o),t.removeEventListener("mousemove",s),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",s)},s=u=>{n=!0,this.onMouseMove(u)};t.addEventListener("mouseup",o),t.addEventListener("mousemove",s),t.addEventListener("touchend",o),t.addEventListener("touchmove",s)},onDragEnd(e){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(e){if(e=e||window.event,this.state.drag===!1)return;this.dragged=!0,this.changed=!0;let t=this.state.image;const n=t.x,o=t.y,s=e.targetTouches?e.targetTouches[0].pageX:e.clientX,u=e.targetTouches?e.targetTouches[0].pageY:e.clientY,m={mx:s,my:u,image:t};if(this.state.mx&&this.state.my){const v=(this.state.mx-s)/this.scale,T=(this.state.my-u)/this.scale;t.y=this.getBoundedY(o-T,this.scale),t.x=this.getBoundedX(n-v,this.scale)}this.state.mx=m.mx,this.state.my=m.my,this.state.image=t},replaceImageInBounds(){let e=this.state.image;e.y=this.getBoundedY(e.y,this.scale),e.x=this.getBoundedX(e.x,this.scale)},loadImage(e){let t=new Image,n=this;t.onload=()=>{let o=n.getInitialSize(t.width,t.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=t,n.state.image.width=o.width,n.state.image.height=o.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,this.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},t.onerror=o=>console.log("error loading image: ",o),this.isDataURL(e)||(t.crossOrigin="anonymous"),t.src=e},getInitialSize(e,t){let n,o;const s=this.getDimensions(),u=s.height/s.width,m=t/e;return u>m?(n=this.getDimensions().height,o=e*(n/t)):(o=this.getDimensions().width,n=t*(o/e)),{height:n,width:o}},isDataURL(e){return e===null?!1:!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX(e,t){var n=this.state.image,o=this.getDimensions();let s=Math.abs(n.width*Math.cos(this.rotationRadian))+Math.abs(n.height*Math.sin(this.rotationRadian)),u=Math.floor((s-o.width/t)/2);return u=Math.max(0,u),Math.max(-u,Math.min(e,u))},getBoundedY(e,t){var n=this.state.image,o=this.getDimensions();let s=Math.abs(n.width*Math.sin(this.rotationRadian))+Math.abs(n.height*Math.cos(this.rotationRadian)),u=Math.floor((s-o.height/t)/2);return u=Math.max(0,u),Math.max(-u,Math.min(e,u))},paintImage(e,t,n){if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.globalCompositeOperation="destination-over";let s=this.getDimensions();e.translate(s.canvas.width/2,s.canvas.height/2),e.rotate(this.rotationRadian),e.translate(-s.canvas.width/2,-s.canvas.height/2),e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}},transformDataWithRotation(e,t){let n=-this.rotationRadian,o=e*Math.cos(n)-t*Math.sin(n),s=e*Math.sin(n)+t*Math.cos(n);return[o,s]},calculatePosition(e,t){e=e||this.state.image;var n=this.getDimensions();let o=e.width*this.scale,s=e.height*this.scale;var u=(o-n.width)/2,m=(s-n.height)/2,v=e.x*this.scale,T=e.y*this.scale;return[v,T]=this.transformDataWithRotation(v,T),v+=t-u,T+=t-m,{x:v,y:T,height:s,width:o}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;const n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t.resource,-e.x,-e.y),n},getImageScaled(){const{width:e,height:t}=this.getDimensions(),n=document.createElement("canvas");return n.width=e,n.height=t,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged(){return this.changed},getCroppingRect(){const e=this.getDimensions(),t={x:e.border,y:e.border,width:e.width,height:e.height},n=this.calculatePosition(this.state.image,e.border);return{x:(t.x-n.x)/n.width,y:(t.y-n.y)/n.height,width:t.width/n.width,height:t.height/n.height}},clicked(e){this.dragged===!0?this.dragged=!1:this.$refs.input.click()},fileSelected(e){var t=e.target.files||e.dataTransfer.files;if(this.$emit("select-file",t),!!t.length){var n=new FileReader;this.changed=!0,n.onload=o=>this.loadImage(o.target.result),n.readAsDataURL(t[0])}},resetImage(){let e=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),e.imageLoaded=!1,this.$emit("imageLoaded",e.imageLoaded),e.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},watch:{state:{handler(e,t){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}},ka=["width","height"],Ia=["accept"];function Ra(e,t,n,o,s,u){return it(),dt("div",null,[J("canvas",{width:u.canvasWidth,height:u.canvasHeight,class:"cursorPointer",id:"avatarEditorCanvas",ref:"avatarEditorCanvas",onDragover:t[0]||(t[0]=Mo(()=>{},["prevent"])),onDrop:t[1]||(t[1]=(...m)=>u.onDrop&&u.onDrop(...m)),onMousedown:t[2]||(t[2]=(...m)=>u.onDragStart&&u.onDragStart(...m)),onTouchstart:t[3]||(t[3]=(...m)=>u.onDragStart&&u.onDragStart(...m)),onClick:t[4]||(t[4]=(...m)=>u.clicked&&u.clicked(...m))},null,40,ka),J("input",{type:"file",ref:"input",accept:n.accept,onChange:t[5]||(t[5]=(...m)=>u.fileSelected&&u.fileSelected(...m)),style:{display:"none"}},null,40,Ia)])}var Pa=Ca(_a,[["render",Ra]]);const Da={id:"photoGetterContainer"},Ea={id:"uploadedPhotoEditor",style:{width:"250px",height:"188px",overflow:"hidden",display:"relative","text-align":"center"}},Ma=["hidden"],Ua=J("canvas",{hidden:"",id:"canvasCapture",width:"250px",height:"188px"},null,-1),Aa={class:"q-mt-sm"},Oa=J("video",{id:"player",autoplay:"",style:{width:"1000px"}},null,-1),Va=J("br",null,null,-1),Fa={id:"uploadForm",enctype:"multipart/form-data"},Ba=J("input",{type:"file",id:"fileInput",name:"image",accept:"image/jpeg"},null,-1),qa=Object.assign({name:"PhotoGetter",components:{VueAvatar:Pa},data(){return{imageIsLoading:"loaded",uploadDialog:!1,prompt:!1,selectedCamDevice:null,camDevices:[],player:null,rotation:0,scale:1,borderRadius:0,imgSrc:null}},watch:{"selected_employee_data.employees_id"(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto().then(()=>{})}))},prompt(e,t){e||window.stream&&window.stream.getTracks().forEach(n=>{n.stop()})},selectedCamDevice(e){this.getStream()}},methods:{imageLoaded(){this.imageIsLoading="loaded"},async getPhoto(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.selected_employee_data.employees_id}).then(({data:e})=>{this.$refs.uploadedPhotoRef.src=e,e||(this.imageIsLoading="loaded")}).catch(e=>{console.error(e)})},uploadImage(){this.imageIsLoading="loading";var e=document.getElementById("uploadForm"),t=new FormData(e);t.append("employees_id",this.selected_employee_data.employees_id),this.$api.post("http://192.168.50.50:8081/id_photo_upload.php",t,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:n})=>{this.getPhoto(),this.$emit("imageCaptured",t),this.uploadDialog=!this.uploadDialog,this.imageIsLoading="loaded"}).catch(n=>{console.error(n)})},saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();const n=t.toDataURL("image/jpeg",1),o=document.getElementById("uploadedPhoto");o.src=n;const s=document.getElementById("canvasCapture");s.getContext("2d").drawImage(o,0,0,s.width,s.height),this.$emit("imageCaptured",n),this.uploadDialog=!this.uploadDialog},onImageReady:function(){this.scale=1,this.rotation=0},uploadPhoto(e){const t=document.getElementById("uploadPhotoInput");var n=document.getElementById("uploadedPhoto");t.files&&t.files[0]&&(n.onload=()=>{URL.revokeObjectURL(n.src),document.getElementById("uploadedPhotoEditor");const o=document.getElementById("canvasCapture");o.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);const u=o.toDataURL("image/jpeg",1);this.$emit("imageCaptured",u)},n.src=URL.createObjectURL(t.files[0]))},promptDialog(){this.camDevices=[],this.getDevices().then(this.gotDevices),this.prompt=!this.prompt,this.$nextTick(()=>{this.player=document.getElementById("player");const e=document.getElementById("canvasCapture"),t=e.getContext("2d");document.getElementById("capture").addEventListener("click",()=>{t.drawImage(this.player,0,0,e.width,e.height);const o=e.toDataURL("image/jpeg",1),s=document.getElementById("uploadedPhoto");s.src=o,this.prompt=!this.prompt,this.$emit("imageCaptured",o),window.stream&&window.stream.getTracks().forEach(u=>{u.stop()})}),this.getStream()})},getStream(){window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e=this.selectedCamDevice.value,t={video:{deviceId:e?{exact:e}:void 0}};return navigator.mediaDevices.getUserMedia(t).then(this.gotStream)},gotStream(e){window.stream=e,this.player.srcObject=e},async getDevices(){return await navigator.mediaDevices.enumerateDevices()},async gotDevices(e){window.deviceInfos=e;for(const t of e){const n={label:"",value:""};n.value=t.deviceId,t.kind==="videoinput"&&(n.label=t.label||`Camera ${videoSelect.length+1}`,this.camDevices.push(n))}this.selectedCamDevice==null&&(this.selectedCamDevice=this.camDevices[0])}},created(){}},{__name:"PhotoGetter",props:{selected_employee_data:{type:Object}},emits:["imageCaptured"],setup(e){return(t,n)=>(it(),dt(Tn,null,[J("div",Da,[J("div",Ea,[J("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageLoaded()),id:"uploadedPhoto",ref:"uploadedPhotoRef",style:{transform:"scale(1)",width:"250px !important"}},null,40,Ma),X(Zo,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),Ua]),J("div",Aa,[X(Ke,{unelevated:"",icon:"file_upload",onClick:n[1]||(n[1]=o=>t.uploadDialog=!t.uploadDialog),disable:!e.selected_employee_data.employees_id},{default:we(()=>[tt("Upload")]),_:1},8,["disable"]),er(t.$slots,"buttons")]),X(Kt,{modelValue:t.prompt,"onUpdate:modelValue":n[3]||(n[3]=o=>t.prompt=o),persistent:""},{default:we(()=>[X(yn,{style:{"min-width":"1500px","text-align":"center"}},{default:we(()=>[X(Jt,{class:"q-pt-none q-ma-lg"},{default:we(()=>[X(vn,{modelValue:t.selectedCamDevice,"onUpdate:modelValue":n[2]||(n[2]=o=>t.selectedCamDevice=o),options:t.camDevices,label:"Device"},null,8,["modelValue","options"]),Oa,Va,X(Ke,{id:"capture"},{default:we(()=>[tt("Capture")]),_:1})]),_:1}),X(mo,{align:"right",class:"text-primary"},{default:we(()=>[Hn(X(Ke,{flat:"",label:"Cancel"},null,512),[[go]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),X(Kt,{modelValue:t.uploadDialog,"onUpdate:modelValue":n[5]||(n[5]=o=>t.uploadDialog=o),persistent:""},{default:we(()=>[X(yn,{style:{"_min-width":"1500px","text-align":"center"}},{default:we(()=>[X(Jt,{class:"q-pt-none q-ma-lg"},{default:we(()=>[J("form",Fa,[Ba,J("button",{type:"button",onClick:n[4]||(n[4]=o=>t.uploadImage())},"Upload")])]),_:1}),X(mo,{align:"right",class:"text-primary"},{default:we(()=>[Hn(X(Ke,{flat:"",label:"Cancel"},null,512),[[go]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Ha={style:{position:"relative",display:"inline"},ref:"clickBox"},La=["hidden"],$a={for:"",style:{"font-size":"12pt"}},za={for:"",style:{"font-size":"12pt"}},Na={for:"",style:{"font-size":"12pt"}},ja=Object.assign({name:"PhotoAdjuster",data:function(){return{displayModal:!1,photoFormat:this.photoProps,photoFormatDefault:Object.assign({},this.photoProps)}},methods:{promptDialog(){this.displayModal=!this.displayModal},reset(){this.photoFormat.top=this.photoFormatDefault.top,this.photoFormat.left=this.photoFormatDefault.left,this.photoFormat.scale=this.photoFormatDefault.scale}}},{__name:"PhotoAdjuster",props:{photoProps:{type:Object,required:!0},selected_employee_data:{type:Object}},setup(e){return(t,n)=>(it(),dt("div",Ha,[X(Ke,{unelevated:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.promptDialog()),disable:!e.selected_employee_data.employees_id},null,8,["disable"]),J("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 19px 60px -27px","border-radius":"5px",right:"-210px"}},[X(Ke,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:we(()=>[tt("Reset")]),_:1}),J("label",$a,"Vertical: "+Ce(t.photoFormat.top)+"px",1),X(Ie,{type:"number",dense:"",modelValue:t.photoFormat.top,"onUpdate:modelValue":n[2]||(n[2]=o=>t.photoFormat.top=o)},null,8,["modelValue"]),J("label",za,"Horizontal: "+Ce(t.photoFormat.left)+"px",1),X(Ie,{type:"number",dense:"",modelValue:t.photoFormat.left,"onUpdate:modelValue":n[3]||(n[3]=o=>t.photoFormat.left=o)},null,8,["modelValue"]),J("label",Na,"Scale: "+Ce(t.photoFormat.scale)+"px",1),X(Ie,{type:"number",dense:"",modelValue:t.photoFormat.scale,"onUpdate:modelValue":n[4]||(n[4]=o=>t.photoFormat.scale=o),min:0,max:.15,step:.001},null,8,["modelValue"]),X(Ke,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:we(()=>[tt("Close")]),_:1})],8,La)],512))}}),Wa={style:{position:"relative"},ref:"clickBox"},Ka=["hidden"],Qa={for:"",style:{"font-size":"12pt"}},Ga={for:"",style:{"font-size":"12pt"}},Ja={for:"",style:{"font-size":"12pt"}},Ht=Object.assign({name:"TextFormatter",data:function(){return{displayModal:!1,text:this.textProps,textDefault:Object.assign({},this.textProps)}},methods:{adjustLastName(){this.displayModal=!this.displayModal,console.log(this.textProps)},reset(){this.text.font_size=this.textDefault.font_size,this.text.bottom=this.textDefault.bottom,this.text.left=this.textDefault.left}},mounted(){}},{__name:"TextFormatter",props:{textProps:{type:Object},textFor:{type:String}},setup(e){return(t,n)=>(it(),dt("div",Wa,[X(Ke,{round:"",dense:"",flat:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.adjustLastName())}),J("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 10px 20px 10px","border-radius":"5px",right:"0px"}},[X(Ke,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:we(()=>[tt("Reset")]),_:1}),J("label",Qa,"Font-size: "+Ce(t.text.font_size)+"px",1),X(Ie,{type:"number",modelValue:t.text.font_size,"onUpdate:modelValue":n[2]||(n[2]=o=>t.text.font_size=o),min:8,max:60,step:1},null,8,["modelValue"]),J("label",Ga,"Vertical Position: "+Ce(t.text.bottom)+"px",1),X(Ie,{type:"number",modelValue:t.text.bottom,"onUpdate:modelValue":n[3]||(n[3]=o=>t.text.bottom=o),min:0,max:300,step:1},null,8,["modelValue"]),e.textFor=="position"?(it(),dt(Tn,{key:0},[J("label",Ja,"Line Height: "+Ce(t.text.line_height)+"px",1),X(Ie,{type:"number",modelValue:t.text.line_height,"onUpdate:modelValue":n[4]||(n[4]=o=>t.text.line_height=o),min:0,max:238,step:1},null,8,["modelValue"])],64)):tr("",!0),X(Ke,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:we(()=>[tt("Close")]),_:1})],8,Ka)],512))}});function Xa(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),o=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(s),t&&(o.href=t),s.href=e,s.href}const Ya=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function et(e){const t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n]);return t}function Xt(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function Za(e){const t=Xt(e,"border-left-width"),n=Xt(e,"border-right-width");return e.clientWidth+t+n}function el(e){const t=Xt(e,"border-top-width"),n=Xt(e,"border-bottom-width");return e.clientHeight+t+n}function ei(e,t={}){const n=t.width||Za(e),o=t.height||el(e);return{width:n,height:o}}function tl(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Le=16384;function nl(e){(e.width>Le||e.height>Le)&&(e.width>Le&&e.height>Le?e.width>e.height?(e.height*=Le/e.width,e.width=Le):(e.width*=Le/e.height,e.height=Le):e.width>Le?(e.height*=Le/e.width,e.width=Le):(e.width*=Le/e.height,e.height=Le))}function Yt(e){return new Promise((t,n)=>{const o=new Image;o.decode=()=>t(o),o.onload=()=>t(o),o.onerror=n,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function ol(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function il(e,t,n){const o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),u=document.createElementNS(o,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${n}`),s.setAttribute("viewBox",`0 0 ${t} ${n}`),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("externalResourcesRequired","true"),s.appendChild(u),u.appendChild(e),ol(s)}const He=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||He(n,t)};function rl(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function al(e){return et(e).map(t=>{const n=e.getPropertyValue(t),o=e.getPropertyPriority(t);return`${t}: ${n}${o?" !important":""};`}).join(" ")}function ll(e,t,n){const o=`.${e}:${t}`,s=n.cssText?rl(n):al(n);return document.createTextNode(`${o}{${s}}`)}function vo(e,t,n){const o=window.getComputedStyle(e,n),s=o.getPropertyValue("content");if(s===""||s==="none")return;const u=Ya();try{t.className=`${t.className} ${u}`}catch{return}const m=document.createElement("style");m.appendChild(ll(u,n,o)),t.appendChild(m)}function sl(e,t){vo(e,t,":before"),vo(e,t,":after")}const yo="application/font-woff",So="image/jpeg",ul={woff:yo,woff2:yo,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:So,jpeg:So,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function cl(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function In(e){const t=cl(e).toLowerCase();return ul[t]||""}function dl(e){return e.split(/,/)[1]}function Sn(e){return e.search(/^(data:)/)!==-1}function ti(e,t){return`data:${t};base64,${e}`}async function ni(e,t,n){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const s=await o.blob();return new Promise((u,m)=>{const v=new FileReader;v.onerror=m,v.onloadend=()=>{try{u(n({res:o,result:v.result}))}catch(T){m(T)}},v.readAsDataURL(s)})}const fn={};function fl(e,t,n){let o=e.replace(/\?.*/,"");return n&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function Rn(e,t,n){const o=fl(e,t,n.includeQueryParams);if(fn[o]!=null)return fn[o];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const u=await ni(e,n.fetchRequestInit,({res:m,result:v})=>(t||(t=m.headers.get("Content-Type")||""),dl(v)));s=ti(u,t)}catch(u){s=n.imagePlaceholder||"";let m=`Failed to fetch resource: ${e}`;u&&(m=typeof u=="string"?u:u.message),m&&console.warn(m)}return fn[o]=s,s}async function pl(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Yt(t)}async function ml(e,t){if(e.currentSrc){const u=document.createElement("canvas"),m=u.getContext("2d");u.width=e.clientWidth,u.height=e.clientHeight,m==null||m.drawImage(e,0,0,u.width,u.height);const v=u.toDataURL();return Yt(v)}const n=e.poster,o=In(n),s=await Rn(n,o,t);return Yt(s)}async function hl(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await tn(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function gl(e,t){return He(e,HTMLCanvasElement)?pl(e):He(e,HTMLVideoElement)?ml(e,t):He(e,HTMLIFrameElement)?hl(e):e.cloneNode(!1)}const vl=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function yl(e,t,n){var o,s;let u=[];return vl(e)&&e.assignedNodes?u=et(e.assignedNodes()):He(e,HTMLIFrameElement)&&((o=e.contentDocument)===null||o===void 0?void 0:o.body)?u=et(e.contentDocument.body.childNodes):u=et(((s=e.shadowRoot)!==null&&s!==void 0?s:e).childNodes),u.length===0||He(e,HTMLVideoElement)||await u.reduce((m,v)=>m.then(()=>tn(v,n)).then(T=>{T&&t.appendChild(T)}),Promise.resolve()),t}function Sl(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):et(o).forEach(s=>{let u=o.getPropertyValue(s);s==="font-size"&&u.endsWith("px")&&(u=`${Math.floor(parseFloat(u.substring(0,u.length-2)))-.1}px`),He(e,HTMLIFrameElement)&&s==="display"&&u==="inline"&&(u="block"),s==="d"&&t.getAttribute("d")&&(u=`path(${t.getAttribute("d")})`),n.setProperty(s,u,o.getPropertyPriority(s))})}function bl(e,t){He(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),He(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function wl(e,t){if(He(e,HTMLSelectElement)){const n=t,o=Array.from(n.children).find(s=>e.value===s.getAttribute("value"));o&&o.setAttribute("selected","")}}function xl(e,t){return He(t,Element)&&(Sl(e,t),sl(e,t),bl(e,t),wl(e,t)),t}async function Tl(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const o={};for(let u=0;u<n.length;u++){const v=n[u].getAttribute("xlink:href");if(v){const T=e.querySelector(v),C=document.querySelector(v);!T&&C&&!o[v]&&(o[v]=await tn(C,t,!0))}}const s=Object.values(o);if(s.length){const u="http://www.w3.org/1999/xhtml",m=document.createElementNS(u,"svg");m.setAttribute("xmlns",u),m.style.position="absolute",m.style.width="0",m.style.height="0",m.style.overflow="hidden",m.style.display="none";const v=document.createElementNS(u,"defs");m.appendChild(v);for(let T=0;T<s.length;T++)v.appendChild(s[T]);e.appendChild(m)}return e}async function tn(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>gl(o,t)).then(o=>yl(e,o,t)).then(o=>xl(e,o)).then(o=>Tl(o,t))}const oi=/url\((['"]?)([^'"]+?)\1\)/g,Cl=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,_l=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function kl(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Il(e){const t=[];return e.replace(oi,(n,o,s)=>(t.push(s),n)),t.filter(n=>!Sn(n))}async function Rl(e,t,n,o,s){try{const u=n?Xa(t,n):t,m=In(t);let v;if(s){const T=await s(u);v=ti(T,m)}else v=await Rn(u,m,o);return e.replace(kl(t),`$1${v}$3`)}catch{}return e}function Pl(e,{preferredFontFormat:t}){return t?e.replace(_l,n=>{for(;;){const[o,,s]=Cl.exec(n)||[];if(!s)return"";if(s===t)return`src: ${o};`}}):e}function ii(e){return e.search(oi)!==-1}async function ri(e,t,n){if(!ii(e))return e;const o=Pl(e,n);return Il(o).reduce((u,m)=>u.then(v=>Rl(v,m,t,n)),Promise.resolve(o))}async function Lt(e,t,n){var o;const s=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(s){const u=await ri(s,null,n);return t.style.setProperty(e,u,t.style.getPropertyPriority(e)),!0}return!1}async function Dl(e,t){await Lt("background",e,t)||await Lt("background-image",e,t),await Lt("mask",e,t)||await Lt("mask-image",e,t)}async function El(e,t){const n=He(e,HTMLImageElement);if(!(n&&!Sn(e.src))&&!(He(e,SVGImageElement)&&!Sn(e.href.baseVal)))return;const o=n?e.src:e.href.baseVal,s=await Rn(o,In(o),t);await new Promise((u,m)=>{e.onload=u,e.onerror=m;const v=e;v.decode&&(v.decode=u),v.loading==="lazy"&&(v.loading="eager"),n?(e.srcset="",e.src=s):e.href.baseVal=s})}async function Ml(e,t){const o=et(e.childNodes).map(s=>ai(s,t));await Promise.all(o).then(()=>e)}async function ai(e,t){He(e,Element)&&(await Dl(e,t),await El(e,t),await Ml(e,t))}function Ul(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(s=>{n[s]=o[s]}),e}const bo={};async function wo(e){let t=bo[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},bo[e]=t,t}async function xo(e,t){let n=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,u=(n.match(/url\([^)]+\)/g)||[]).map(async m=>{let v=m.replace(o,"$1");return v.startsWith("https://")||(v=new URL(v,e.url).href),ni(v,t.fetchRequestInit,({result:T})=>(n=n.replace(m,`url(${T})`),[m,T]))});return Promise.all(u).then(()=>n)}function To(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(n,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const T=s.exec(o);if(T===null)break;t.push(T[0])}o=o.replace(s,"");const u=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,m="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",v=new RegExp(m,"gi");for(;;){let T=u.exec(o);if(T===null){if(T=v.exec(o),T===null)break;u.lastIndex=v.lastIndex}else v.lastIndex=u.lastIndex;t.push(T[0])}return t}async function Al(e,t){const n=[],o=[];return e.forEach(s=>{if("cssRules"in s)try{et(s.cssRules||[]).forEach((u,m)=>{if(u.type===CSSRule.IMPORT_RULE){let v=m+1;const T=u.href,C=wo(T).then(k=>xo(k,t)).then(k=>To(k).forEach(R=>{try{s.insertRule(R,R.startsWith("@import")?v+=1:s.cssRules.length)}catch(r){console.error("Error inserting rule from remote css",{rule:R,error:r})}})).catch(k=>{console.error("Error loading remote css",k.toString())});o.push(C)}})}catch(u){const m=e.find(v=>v.href==null)||document.styleSheets[0];s.href!=null&&o.push(wo(s.href).then(v=>xo(v,t)).then(v=>To(v).forEach(T=>{m.insertRule(T,s.cssRules.length)})).catch(v=>{console.error("Error loading remote stylesheet",v)})),console.error("Error inlining remote css file",u)}}),Promise.all(o).then(()=>(e.forEach(s=>{if("cssRules"in s)try{et(s.cssRules||[]).forEach(u=>{n.push(u)})}catch(u){console.error(`Error while reading CSS rules from ${s.href}`,u)}}),n))}function Ol(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ii(t.style.getPropertyValue("src")))}async function Vl(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=et(e.ownerDocument.styleSheets),o=await Al(n,t);return Ol(o)}async function Fl(e,t){const n=await Vl(e,t);return(await Promise.all(n.map(s=>{const u=s.parentStyleSheet?s.parentStyleSheet.href:null;return ri(s.cssText,u,t)}))).join(`
`)}async function Bl(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Fl(e,t);if(n){const o=document.createElement("style"),s=document.createTextNode(n);o.appendChild(s),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function ql(e,t={}){const{width:n,height:o}=ei(e,t),s=await tn(e,t,!0);return await Bl(s,t),await ai(s,t),Ul(s,t),await il(s,n,o)}async function Hl(e,t={}){const{width:n,height:o}=ei(e,t),s=await ql(e,t),u=await Yt(s),m=document.createElement("canvas"),v=m.getContext("2d"),T=t.pixelRatio||tl(),C=t.canvasWidth||n,k=t.canvasHeight||o;return m.width=C*T,m.height=k*T,t.skipAutoScale||nl(m),m.style.width=`${C}`,m.style.height=`${k}`,t.backgroundColor&&(v.fillStyle=t.backgroundColor,v.fillRect(0,0,m.width,m.height)),v.drawImage(u,0,0,m.width,m.height),m}async function Co(e,t={}){return(await Hl(e,t)).toDataURL("image/jpeg",t.quality||1)}const Ll={class:"row",style:{position:"inherit"}},$l={class:"col",style:{}},zl={class:"row"},Nl={class:"col"},jl={style:{"margin-left":"30px"}},Wl={class:"col-7"},Kl={class:"row"},Ql={class:"row"},Gl={class:"col"},Jl={class:"col q-ml-sm"},Xl={class:"row"},Yl={class:"row"},Zl={class:"row"},es={class:"row"},ts={class:"col"},ns={class:"col q-ml-sm"},os=J("div",{class:"q-mt-sm"},null,-1),is={id:"cardFrontAndBack",class:"col flex flex-center q-mt-lg",style:{position:"relative"}},ls=Object.assign({name:"IndexPage",components:{IdCardFront:fo,IdCardBack:po,TextFormatter:Ht},data:function(){return{photoFormat:{top:1897,left:2924,scale:.071},textFormat:{position:{font_size:17,bottom:83,left:40,line_height:20},lastName:{font_size:43,bottom:119,left:40},firstName:{font_size:28,bottom:97,left:40}},selected_employee_input:null,selected_employee_data:{empno:null,lastName:null,firstName:null,middleName:null,extName:null,position:null,position_function:null,address:null},employees:[],selections:this.employees,timestamp:0}},methods:{saveImageCaptured(e){this.timestamp=new Date().valueOf()},savePendata(e){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{savePendata:!0,m_penData:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{}).catch(t=>{console.error(t)})},adjustLastName(){console.log("adjust lastname")},downloadImage(){var e=document.getElementById("IdCardFront"),t=document.getElementById("IdCardBack");Co(e,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_FRONT.jpeg",o.href=n,o.click()}),Co(t,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_BACK.jpeg",o.href=n,o.click()})},onClearForm(){window.location.reload()},onSubmit(){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{saveEmployeeData:!0,selected_employee_data:this.selected_employee_data,textFormat:this.textFormat,photoFormat:this.photoFormat}).then(({data:e})=>{this.getEmployeeData()}).catch(e=>{console.error(e)})},onReset(){},getEmployeeData(){!this.selected_employee_input||this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeData:!0,employeeId:this.selected_employee_input.value}).then(({data:e})=>{console.log("getEmployeeData: ",e),this.selected_employee_data=e,e.text_formatting&&(this.textFormat.lastName.font_size=e.text_formatting.lastName.font_size,this.textFormat.lastName.bottom=e.text_formatting.lastName.bottom,this.textFormat.firstName.font_size=e.text_formatting.firstName.font_size,this.textFormat.firstName.bottom=e.text_formatting.firstName.bottom),e.photo_formatting&&(this.photoFormat.top=e.photo_formatting.top,this.photoFormat.left=e.photo_formatting.left,this.photoFormat.scale=e.photo_formatting.scale)}).catch(e=>{console.error(e)})},filterFn(e,t){if(e===""){t(()=>{this.selections=this.employees});return}t(()=>{const n=e.toLowerCase();this.selections=this.employees.filter(o=>o.label.toLowerCase().indexOf(n)>-1)})}},created(){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeList:"true"}).then(({data:e})=>{this.employees=e}).catch(e=>{console.error(e)})},mounted(){}},{__name:"IndexPage",setup(e){return(t,n)=>(it(),nr(ta,{class:"q-pa-md",style:{position:"relative"}},{default:we(()=>[J("div",Ll,[J("div",$l,[X(vn,{clearable:"",class:"q-mb-md",filled:"",modelValue:t.selected_employee_input,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.selected_employee_input=o),n[2]||(n[2]=o=>t.getEmployeeData())],"use-input":"","input-debounce":"0",label:"Select Employee",options:t.selections,onFilter:t.filterFn,onClear:n[1]||(n[1]=o=>t.onClearForm()),behavior:"menu"},{"no-option":we(()=>[X(ko,null,{default:we(()=>[X(_o,{class:"text-grey"},{default:we(()=>[tt(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter"]),J("div",zl,[J("div",Nl,[J("div",jl,[X(qa,{onImageCaptured:t.saveImageCaptured,selected_employee_data:t.selected_employee_data},{buttons:we(()=>[X(ja,{photoProps:t.photoFormat,selected_employee_data:t.selected_employee_data},null,8,["photoProps","selected_employee_data"])]),_:1},8,["onImageCaptured","selected_employee_data"])])]),J("div",Wl,[X(ea,{onSubmit:Mo(t.onSubmit,["prevent"]),onReset:t.onReset,class:"q-gutter-sm_"},{default:we(()=>[X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.empno,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_employee_data.empno=o),label:"ID Number *",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"Please enter the ID number"]},null,8,["disable","modelValue","rules"]),X(Ie,{readonly:"",disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.position,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_employee_data.position=o),label:"Position",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Position should not be empty!"]},{append:we(()=>[X(Ht,{textProps:t.textFormat.position,textFor:"position"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),J("div",Kl,[X(Ie,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.lastName,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_employee_data.lastName=o),label:"Last Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Last Name should not be empty!"]},{append:we(()=>[X(Ht,{textProps:t.textFormat.lastName,textFor:"lastName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),X(Ie,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.firstName,"onUpdate:modelValue":n[6]||(n[6]=o=>t.selected_employee_data.firstName=o),label:"First Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* First Name should not be empty!"]},{append:we(()=>[X(Ht,{textProps:t.textFormat.firstName,textFor:"firstName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"])]),J("div",Ql,[J("div",Gl,[X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.middleName,"onUpdate:modelValue":n[7]||(n[7]=o=>t.selected_employee_data.middleName=o),label:"Middle Name",hint:""},null,8,["disable","modelValue"])]),J("div",Jl,[X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.extName,"onUpdate:modelValue":n[8]||(n[8]=o=>t.selected_employee_data.extName=o),label:"Name Extension"},null,8,["disable","modelValue"])])]),X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_barangay,"onUpdate:modelValue":n[9]||(n[9]=o=>t.selected_employee_data.address_res_barangay=o),label:"Barangay",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),J("div",Xl,[X(Ie,{class:"col q-mr-sm",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_city,"onUpdate:modelValue":n[10]||(n[10]=o=>t.selected_employee_data.address_res_city=o),label:"City/Municipality",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),X(Ie,{class:"col",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_zip_code,"onUpdate:modelValue":n[11]||(n[11]=o=>t.selected_employee_data.address_res_zip_code=o),label:"Zipcode",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"])]),X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_province,"onUpdate:modelValue":n[12]||(n[12]=o=>t.selected_employee_data.address_res_province=o),label:"Province",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),J("div",Yl,[X(vn,{disable:!t.selected_employee_input,class:"col",dense:"",outlined:"",modelValue:t.selected_employee_data.gender,"onUpdate:modelValue":n[13]||(n[13]=o=>t.selected_employee_data.gender=o),options:["MALE","FEMALE"],label:"Gender"},null,8,["disable","modelValue"]),X(Ie,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.birthdate,"onUpdate:modelValue":n[14]||(n[14]=o=>t.selected_employee_data.birthdate=o),label:"Birthdate",type:"date"},null,8,["disable","modelValue"])]),J("div",Zl,[X(Ie,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.blood_type,"onUpdate:modelValue":n[15]||(n[15]=o=>t.selected_employee_data.blood_type=o),label:"Blood Type",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),X(Ie,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.contact_number,"onUpdate:modelValue":n[16]||(n[16]=o=>t.selected_employee_data.contact_number=o),label:"Contact Number",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"])]),X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_name,"onUpdate:modelValue":n[17]||(n[17]=o=>t.selected_employee_data.emergency_name=o),label:"Emergency Contact Person",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_number,"onUpdate:modelValue":n[18]||(n[18]=o=>t.selected_employee_data.emergency_number=o),label:"Emergency Contact Number",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),J("div",es,[J("div",ts,[X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_issued,"onUpdate:modelValue":n[19]||(n[19]=o=>t.selected_employee_data.date_issued=o),label:"Date Issued",type:"date"},null,8,["disable","modelValue"])]),J("div",ns,[X(Ie,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_expire,"onUpdate:modelValue":n[20]||(n[20]=o=>t.selected_employee_data.date_expire=o),label:"Valid Until",type:"date"},null,8,["disable","modelValue"])])]),os,X(Ke,{disable:!t.selected_employee_input,class:"q-mr-sm",type:"submit"},{default:we(()=>[tt("Save")]),_:1},8,["disable"]),X(Ke,{disable:!t.selected_employee_input,label:"Download",onClick:n[21]||(n[21]=o=>t.downloadImage())},null,8,["disable"])]),_:1},8,["onSubmit","onReset"])])])]),J("div",is,[X(fo,{details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),X(po,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])])]),_:1}))}});export{ls as default};
