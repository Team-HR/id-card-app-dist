import{u as fn,f as pn,Q as Yn,d as Xn}from"./QItem.e987fdc7.js";import{u as Zn,a as eo,b as to,c as no,d as oo,e as ro,f as hn,g as Ht,h as io,Q as at,i as ao,j as so,k as _t}from"./QSelect.cd7bdb16.js";import{r as je,w as De,d as He,M as lo,j as Se,c as Qe,a as uo,o as gn,h as Ae,N as co,g as pt,O as $t,p as fo,P as po,R as ho,q as tt,S as go,L as Vt,T as mo,x as ke,U as Ue,F as M,D as K,V as Ne,A as L,C as Re,B as mn,z as te,W as yn,X as Sn,Y as ht,Z as yo,_ as So,$ as vo,K as wo,a0 as vn,a1 as _e,a2 as bo,a3 as zt,y as To}from"./index.309e0a95.js";import{Q as Co}from"./QPage.76197b73.js";const jt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},st={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},wn=Object.keys(st);wn.forEach(e=>{st[e].regex=new RegExp(st[e].pattern)});const xo=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+wn.join("")+"])|(.)","g"),qt=/[.*+?^${}()|[\]\\]/g,pe=String.fromCharCode(1),Io={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function _o(e,t,n,o){let a,s,c,h,v,I;const D=je(null),_=je(i());function r(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}De(()=>e.type+e.autogrow,l),De(()=>e.mask,A=>{if(A!==void 0)d(_.value,!0);else{const g=z(_.value);l(),e.modelValue!==g&&t("update:modelValue",g)}}),De(()=>e.fillMask+e.reverseFillMask,()=>{D.value===!0&&d(_.value,!0)}),De(()=>e.unmaskedValue,()=>{D.value===!0&&d(_.value)});function i(){if(l(),D.value===!0){const A=B(z(e.modelValue));return e.fillMask!==!1?F(A):A}return e.modelValue}function p(A){if(A<a.length)return a.slice(-A);let g="",O=a;const N=O.indexOf(pe);if(N!==-1){for(let j=A-O.length;j>0;j--)g+=pe;O=O.slice(0,N)+g+O.slice(N)}return O}function l(){if(D.value=e.mask!==void 0&&e.mask.length!==0&&r(),D.value===!1){h=void 0,a="",s="";return}const A=jt[e.mask]===void 0?e.mask:jt[e.mask],g=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",O=g.replace(qt,"\\$&"),N=[],j=[],U=[];let G=e.reverseFillMask===!0,X="",J="";A.replace(xo,(re,k,ee,he,ae)=>{if(he!==void 0){const le=st[he];U.push(le),J=le.negate,G===!0&&(j.push("(?:"+J+"+)?("+le.pattern+"+)?(?:"+J+"+)?("+le.pattern+"+)?"),G=!1),j.push("(?:"+J+"+)?("+le.pattern+")?")}else if(ee!==void 0)X="\\"+(ee==="\\"?"":ee),U.push(ee),N.push("([^"+X+"]+)?"+X+"?");else{const le=k!==void 0?k:ae;X=le==="\\"?"\\\\\\\\":le.replace(qt,"\\\\$&"),U.push(le),N.push("([^"+X+"]+)?"+X+"?")}});const ve=new RegExp("^"+N.join("")+"("+(X===""?".":"[^"+X+"]")+"+)?"+(X===""?"":"["+X+"]*")+"$"),ge=j.length-1,ne=j.map((re,k)=>k===0&&e.reverseFillMask===!0?new RegExp("^"+O+"*"+re):k===ge?new RegExp("^"+re+"("+(J===""?".":J)+"+)?"+(e.reverseFillMask===!0?"$":O+"*")):new RegExp("^"+re));c=U,h=re=>{const k=ve.exec(e.reverseFillMask===!0?re:re.slice(0,U.length+1));k!==null&&(re=k.slice(1).join(""));const ee=[],he=ne.length;for(let ae=0,le=re;ae<he;ae++){const me=ne[ae].exec(le);if(me===null)break;le=le.slice(me.shift().length),ee.push(...me)}return ee.length!==0?ee.join(""):re},a=U.map(re=>typeof re=="string"?re:pe).join(""),s=a.split(pe).join(g)}function d(A,g,O){const N=o.value,j=N.selectionEnd,U=N.value.length-j,G=z(A);g===!0&&l();const X=B(G),J=e.fillMask!==!1?F(X):X,ve=_.value!==J;N.value!==J&&(N.value=J),ve===!0&&(_.value=J),document.activeElement===N&&He(()=>{if(J===s){const ne=e.reverseFillMask===!0?s.length:0;N.setSelectionRange(ne,ne,"forward");return}if(O==="insertFromPaste"&&e.reverseFillMask!==!0){const ne=N.selectionEnd;let re=j-1;for(let k=v;k<=re&&k<ne;k++)a[k]!==pe&&re++;y.right(N,re);return}if(["deleteContentBackward","deleteContentForward"].indexOf(O)!==-1){const ne=e.reverseFillMask===!0?j===0?J.length>X.length?1:0:Math.max(0,J.length-(J===s?0:Math.min(X.length,U)+1))+1:j;N.setSelectionRange(ne,ne,"forward");return}if(e.reverseFillMask===!0)if(ve===!0){const ne=Math.max(0,J.length-(J===s?0:Math.min(X.length,U+1)));ne===1&&j===1?N.setSelectionRange(ne,ne,"forward"):y.rightReverse(N,ne)}else{const ne=J.length-U;N.setSelectionRange(ne,ne,"backward")}else if(ve===!0){const ne=Math.max(0,a.indexOf(pe),Math.min(X.length,j)-1);y.right(N,ne)}else{const ne=j-1;y.right(N,ne)}});const ge=e.unmaskedValue===!0?z(J):J;String(e.modelValue)!==ge&&(e.modelValue!==null||ge!=="")&&n(ge,!0)}function S(A,g,O){const N=B(z(A.value));g=Math.max(0,a.indexOf(pe),Math.min(N.length,g)),v=g,A.setSelectionRange(g,O,"forward")}const y={left(A,g){const O=a.slice(g-1).indexOf(pe)===-1;let N=Math.max(0,g-1);for(;N>=0;N--)if(a[N]===pe){g=N,O===!0&&g++;break}if(N<0&&a[g]!==void 0&&a[g]!==pe)return y.right(A,0);g>=0&&A.setSelectionRange(g,g,"backward")},right(A,g){const O=A.value.length;let N=Math.min(O,g+1);for(;N<=O;N++)if(a[N]===pe){g=N;break}else a[N-1]===pe&&(g=N);if(N>O&&a[g-1]!==void 0&&a[g-1]!==pe)return y.left(A,O);A.setSelectionRange(g,g,"forward")},leftReverse(A,g){const O=p(A.value.length);let N=Math.max(0,g-1);for(;N>=0;N--)if(O[N-1]===pe){g=N;break}else if(O[N]===pe&&(g=N,N===0))break;if(N<0&&O[g]!==void 0&&O[g]!==pe)return y.rightReverse(A,0);g>=0&&A.setSelectionRange(g,g,"backward")},rightReverse(A,g){const O=A.value.length,N=p(O),j=N.slice(0,g+1).indexOf(pe)===-1;let U=Math.min(O,g+1);for(;U<=O;U++)if(N[U-1]===pe){g=U,g>0&&j===!0&&g--;break}if(U>O&&N[g-1]!==void 0&&N[g-1]!==pe)return y.leftReverse(A,O);A.setSelectionRange(g,g,"forward")}};function b(A){t("click",A),I=void 0}function P(A){if(t("keydown",A),lo(A)===!0||A.altKey===!0)return;const g=o.value,O=g.selectionStart,N=g.selectionEnd;if(A.shiftKey||(I=void 0),A.keyCode===37||A.keyCode===39){A.shiftKey&&I===void 0&&(I=g.selectionDirection==="forward"?O:N);const j=y[(A.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(A.preventDefault(),j(g,I===O?N:O),A.shiftKey){const U=g.selectionStart;g.setSelectionRange(Math.min(I,U),Math.max(I,U),"forward")}}else A.keyCode===8&&e.reverseFillMask!==!0&&O===N?(y.left(g,O),g.setSelectionRange(g.selectionStart,N,"backward")):A.keyCode===46&&e.reverseFillMask===!0&&O===N&&(y.rightReverse(g,N),g.setSelectionRange(O,g.selectionEnd,"forward"))}function B(A){if(A==null||A==="")return"";if(e.reverseFillMask===!0)return H(A);const g=c;let O=0,N="";for(let j=0;j<g.length;j++){const U=A[O],G=g[j];if(typeof G=="string")N+=G,U===G&&O++;else if(U!==void 0&&G.regex.test(U))N+=G.transform!==void 0?G.transform(U):U,O++;else return N}return N}function H(A){const g=c,O=a.indexOf(pe);let N=A.length-1,j="";for(let U=g.length-1;U>=0&&N!==-1;U--){const G=g[U];let X=A[N];if(typeof G=="string")j=G+j,X===G&&N--;else if(X!==void 0&&G.regex.test(X))do j=(G.transform!==void 0?G.transform(X):X)+j,N--,X=A[N];while(O===U&&X!==void 0&&G.regex.test(X));else return j}return j}function z(A){return typeof A!="string"||h===void 0?typeof A=="number"?h(""+A):A:h(A)}function F(A){return s.length-A.length<=0?A:e.reverseFillMask===!0&&A.length!==0?s.slice(0,-A.length)+A:A+s.slice(A.length)}return{innerValue:_,hasMask:D,moveCursorForPaste:S,updateMaskValue:d,onMaskedKeydown:P,onMaskedClick:b}}function Po(e,t){function n(){const o=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(s=>{a.items.add(s)}),{files:a.files}}catch{return{files:void 0}}}return t===!0?Se(()=>{if(e.type==="file")return n()}):Se(n)}var ue=Qe({name:"QInput",inheritAttrs:!1,props:{...Zn,...Io,...eo,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...to,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=pt(),{$q:a}=o,s={};let c=NaN,h,v,I=null,D;const _=je(null),r=no(e),{innerValue:i,hasMask:p,moveCursorForPaste:l,updateMaskValue:d,onMaskedKeydown:S,onMaskedClick:y}=_o(e,t,X,_),b=Po(e,!0),P=Se(()=>Ht(i.value)),B=io(U),H=oo({changeEvent:!0}),z=Se(()=>e.type==="textarea"||e.autogrow===!0),F=Se(()=>z.value===!0||["text","search","url","tel","password"].includes(e.type)),A=Se(()=>{const k={...H.splitAttrs.listeners.value,onInput:U,onPaste:j,onChange:ve,onBlur:ge,onFocus:$t};return k.onCompositionstart=k.onCompositionupdate=k.onCompositionend=B,p.value===!0&&(k.onKeydown=S,k.onClick=y),e.autogrow===!0&&(k.onAnimationend=G),k}),g=Se(()=>{const k={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:r.value,...H.splitAttrs.attributes.value,id:H.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return z.value===!1&&(k.type=e.type),e.autogrow===!0&&(k.rows=1),k});De(()=>e.type,()=>{_.value&&(_.value.value=e.modelValue)}),De(()=>e.modelValue,k=>{if(p.value===!0){if(v===!0&&(v=!1,String(k)===c))return;d(k)}else i.value!==k&&(i.value=k,e.type==="number"&&s.hasOwnProperty("value")===!0&&(h===!0?h=!1:delete s.value));e.autogrow===!0&&He(J)}),De(()=>e.autogrow,k=>{k===!0?He(J):_.value!==null&&n.rows>0&&(_.value.style.height="auto")}),De(()=>e.dense,()=>{e.autogrow===!0&&He(J)});function O(){hn(()=>{const k=document.activeElement;_.value!==null&&_.value!==k&&(k===null||k.id!==H.targetUid.value)&&_.value.focus({preventScroll:!0})})}function N(){var k;(k=_.value)==null||k.select()}function j(k){if(p.value===!0&&e.reverseFillMask!==!0){const ee=k.target;l(ee,ee.selectionStart,ee.selectionEnd)}t("paste",k)}function U(k){if(!k||!k.target)return;if(e.type==="file"){t("update:modelValue",k.target.files);return}const ee=k.target.value;if(k.target.qComposing===!0){s.value=ee;return}if(p.value===!0)d(ee,!1,k.inputType);else if(X(ee),F.value===!0&&k.target===document.activeElement){const{selectionStart:he,selectionEnd:ae}=k.target;he!==void 0&&ae!==void 0&&He(()=>{k.target===document.activeElement&&ee.indexOf(k.target.value)===0&&k.target.setSelectionRange(he,ae)})}e.autogrow===!0&&J()}function G(k){t("animationend",k),J()}function X(k,ee){D=()=>{I=null,e.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,e.modelValue!==k&&c!==k&&(c=k,ee===!0&&(v=!0),t("update:modelValue",k),He(()=>{c===k&&(c=NaN)})),D=void 0},e.type==="number"&&(h=!0,s.value=k),e.debounce!==void 0?(I!==null&&clearTimeout(I),s.value=k,I=setTimeout(D,e.debounce)):D()}function J(){requestAnimationFrame(()=>{const k=_.value;if(k!==null){const ee=k.parentNode.style,{scrollTop:he}=k,{overflowY:ae,maxHeight:le}=a.platform.is.firefox===!0?{}:window.getComputedStyle(k),me=ae!==void 0&&ae!=="scroll";me===!0&&(k.style.overflowY="hidden"),ee.marginBottom=k.scrollHeight-1+"px",k.style.height="1px",k.style.height=k.scrollHeight+"px",me===!0&&(k.style.overflowY=parseInt(le,10)<k.scrollHeight?"auto":"hidden"),ee.marginBottom="",k.scrollTop=he}})}function ve(k){B(k),I!==null&&(clearTimeout(I),I=null),D==null||D(),t("change",k.target.value)}function ge(k){k!==void 0&&$t(k),I!==null&&(clearTimeout(I),I=null),D==null||D(),h=!1,v=!1,delete s.value,e.type!=="file"&&setTimeout(()=>{_.value!==null&&(_.value.value=i.value!==void 0?i.value:"")})}function ne(){return s.hasOwnProperty("value")===!0?s.value:i.value!==void 0?i.value:""}uo(()=>{ge()}),gn(()=>{e.autogrow===!0&&J()}),Object.assign(H,{innerValue:i,fieldClass:Se(()=>`q-${z.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:Se(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:_,emitValue:X,hasValue:P,floatingLabel:Se(()=>P.value===!0&&(e.type!=="number"||isNaN(i.value)===!1)||Ht(e.displayValue)),getControl:()=>Ae(z.value===!0?"textarea":"input",{ref:_,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...g.value,...A.value,...e.type!=="file"?{value:ne()}:b.value}),getShadowControl:()=>Ae("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(z.value===!0?"":" text-no-wrap")},[Ae("span",{class:"invisible"},ne()),Ae("span",e.shadowText)])});const re=ro(H);return Object.assign(o,{focus:O,select:N,getNativeElement:()=>_.value}),co(o,"nativeEl",()=>_.value),re}}),Ro=Qe({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const o=pt(),a=je(null);let s=0;const c=[];function h(i){const p=typeof i=="boolean"?i:e.noErrorFocus!==!0,l=++s,d=(b,P)=>{n(`validation${b===!0?"Success":"Error"}`,P)},S=b=>{const P=b.validate();return typeof P.then=="function"?P.then(B=>({valid:B,comp:b}),B=>({valid:!1,comp:b,err:B})):Promise.resolve({valid:P,comp:b})};return(e.greedy===!0?Promise.all(c.map(S)).then(b=>b.filter(P=>P.valid!==!0)):c.reduce((b,P)=>b.then(()=>S(P).then(B=>{if(B.valid===!1)return Promise.reject(B)})),Promise.resolve()).catch(b=>[b])).then(b=>{if(b===void 0||b.length===0)return l===s&&d(!0),!0;if(l===s){const{comp:P,err:B}=b[0];if(B!==void 0&&console.error(B),d(!1,P),p===!0){const H=b.find(({comp:z})=>typeof z.focus=="function"&&go(z.$)===!1);H!==void 0&&H.comp.focus()}}return!1})}function v(){s++,c.forEach(i=>{typeof i.resetValidation=="function"&&i.resetValidation()})}function I(i){i!==void 0&&Vt(i);const p=s+1;h().then(l=>{p===s&&l===!0&&(e.onSubmit!==void 0?n("submit",i):(i==null?void 0:i.target)!==void 0&&typeof i.target.submit=="function"&&i.target.submit())})}function D(i){i!==void 0&&Vt(i),n("reset"),He(()=>{v(),e.autofocus===!0&&e.noResetFocus!==!0&&_()})}function _(){hn(()=>{if(a.value===null)return;const i=a.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(a.value.querySelectorAll("[tabindex]"),p=>p.tabIndex!==-1);i==null||i.focus({preventScroll:!0})})}fo(mo,{bindComponent(i){c.push(i)},unbindComponent(i){const p=c.indexOf(i);p!==-1&&c.splice(p,1)}});let r=!1;return po(()=>{r=!0}),ho(()=>{r===!0&&e.autofocus===!0&&_()}),gn(()=>{e.autofocus===!0&&_()}),Object.assign(o.proxy,{validate:h,resetValidation:v,submit:I,reset:D,focus:_,getValidationComponents:()=>c}),()=>Ae("form",{class:"q-form",ref:a,onSubmit:I,onReset:D},tt(t.default))}});const Eo=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],ko=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var Ut=Qe({name:"QSkeleton",props:{...fn,tag:{type:String,default:"div"},type:{type:String,validator:e=>Eo.includes(e),default:"rect"},animation:{type:String,validator:e=>ko.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=pt(),o=pn(e,n.proxy.$q),a=Se(()=>{const c=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:c[0],height:c[1]}}),s=Se(()=>`q-skeleton q-skeleton--${o.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>Ae(e.tag,{class:s.value,style:a.value},tt(t.default))}});const Do={id:"IdCardFront",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"absolute","background-image":"url(/images/REG_ID_Front_Temp.jpg)","background-position":"center center","background-repeat":"no-repeat","background-size":"contain",transform:"scale(0.5)",top:"-200px",left:"-142px"}},Uo={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},Mo={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},Bo=["hidden","src"],Ao={style:{"text-align":"left",position:"absolute",top:"556px",left:"237px","font-size":"22pt","font-weight":"500"}},Kt=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.51:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFront",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(ke(),Ue("div",Do,[M("div",Uo,K(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),M("div",Mo,[M("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:Ne([{position:"relative"},`bottom:${e.photoFormat.top*2}px; right: ${e.photoFormat.left*2}px; width: ${e.photoFormat.width*2.06}px;`])},null,44,Bo),L(Ut,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),M("div",Ao,[n[1]||(n[1]=M("b",null,"ID NO.:",-1)),Re(" "+K(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),M("div",{style:Ne([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},K(e.details.lastName)+K(e.details.extName?", "+e.details.extName:""),5),M("div",{style:Ne([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; `])},K(e.details.firstName)+" "+K(e.details.middleName?e.details.middleName[0]+". ":""),5),M("div",{style:Ne([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},K(e.details.position),5)]))}}),No={id:"IdCardFrontV2",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"relative","background-image":"url('/images/REG_ID_Front_Temp.jpg')","background-position":"center","background-repeat":"no-repeat","background-size":"contain"}},Oo={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},Fo={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},Lo=["hidden","src"],Ho={style:{"text-align":"left",position:"absolute",top:"556px",left:"237px","font-size":"22pt","font-weight":"500"}},Wt=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.51:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFrontV2",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(ke(),Ue("div",No,[M("div",Oo,K(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),M("div",Fo,[t.imgSrcFromServer?(ke(),Ue("img",{key:0,hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:Ne([{position:"relative"},`bottom:${e.photoFormat.top*2}px; right: ${e.photoFormat.left*2}px; width: ${e.photoFormat.width*2.06}px;`])},null,44,Lo)):mn("",!0),L(Ut,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),M("div",Ho,[n[1]||(n[1]=M("b",null,"ID NO.:",-1)),Re(" "+K(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),M("div",{style:Ne([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},K(e.details.lastName)+K(e.details.extName?", "+e.details.extName:""),5),M("div",{style:Ne([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; `])},K(e.details.firstName)+" "+K(e.details.middleName?e.details.middleName[0]+". ":""),5),M("div",{style:Ne([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},K(e.details.position),5)]))}});var qe=Qe({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=Se(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Ae(e.tag,{class:n.value},tt(t.default))}}),lt=Qe({name:"QCard",props:{...fn,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=pt(),o=pn(e,n),a=Se(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>Ae(e.tag,{class:a.value},tt(t.default))}}),bn="/assets/get_sig.0d2f964a.png";/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){var e=!1;try{throw new Error}catch(f){e=!!f.stack}var t=F(),n,o=function(){},a=function(){var f={task:void 0,next:null},m=f,w=!1,E=void 0,W=!1,Y=[];function q(){for(var ce,Te;f.next;)f=f.next,ce=f.task,f.task=void 0,Te=f.domain,Te&&(f.domain=void 0,Te.enter()),de(ce,Te);for(;Y.length;)ce=Y.pop(),de(ce);w=!1}function de(ce,Te){try{ce()}catch(Xe){if(W)throw Te&&Te.exit(),setTimeout(q,0),Te&&Te.enter(),Xe;setTimeout(function(){throw Xe},0)}Te&&Te.exit()}if(a=function(ce){m=m.next={task:ce,domain:W&&process.domain,next:null},w||(w=!0,E())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)W=!0,E=function(){process.nextTick(q)};else if(typeof setImmediate=="function")typeof window!="undefined"?E=setImmediate.bind(window,q):E=function(){setImmediate(q)};else if(typeof MessageChannel!="undefined"){var oe=new MessageChannel;oe.port1.onmessage=function(){E=se,oe.port1.onmessage=q,q()};var se=function(){oe.port2.postMessage(0)};E=function(){setTimeout(q,0),se()}}else E=function(){setTimeout(q,0)};return a.runAfter=function(ce){Y.push(ce),w||(w=!0,E())},a}(),s=Function.call;function c(f){return function(){return s.apply(f,arguments)}}var h=c(Array.prototype.slice),v=c(Array.prototype.reduce||function(f,m){var w=0,E=this.length;if(arguments.length===1)do{if(w in this){m=this[w++];break}if(++w>=E)throw new TypeError}while(1);for(;w<E;w++)w in this&&(m=f(m,this[w],w));return m}),I=c(Array.prototype.indexOf||function(f){for(var m=0;m<this.length;m++)if(this[m]===f)return m;return-1}),D=c(Array.prototype.map||function(f,m){var w=this,E=[];return v(w,function(W,Y,q){E.push(f.call(m,Y,q,w))},void 0),E}),_=Object.create||function(f){function m(){}return m.prototype=f,new m},r=c(Object.prototype.hasOwnProperty),i=Object.keys||function(f){var m=[];for(var w in f)r(f,w)&&m.push(w);return m},p=c(Object.prototype.toString);function l(f){return f===Object(f)}function d(f){return p(f)==="[object StopIteration]"||f instanceof S}var S;typeof ReturnValue!="undefined"?S=ReturnValue:S=function(f){this.value=f};var y="From previous event:";function b(f,m){if(e&&m.stack&&typeof f=="object"&&f!==null&&f.stack&&f.stack.indexOf(y)===-1){for(var w=[],E=m;E;E=E.source)E.stack&&w.unshift(E.stack);w.unshift(f.stack);var W=w.join(`
`+y+`
`);f.stack=P(W)}}function P(f){for(var m=f.split(`
`),w=[],E=0;E<m.length;++E){var W=m[E];!z(W)&&!B(W)&&W&&w.push(W)}return w.join(`
`)}function B(f){return f.indexOf("(module.js:")!==-1||f.indexOf("(node.js:")!==-1}function H(f){var m=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(f);if(m)return[m[1],Number(m[2])];var w=/at ([^ ]+):(\d+):(?:\d+)$/.exec(f);if(w)return[w[1],Number(w[2])];var E=/.*@(.+):(\d+)$/.exec(f);if(E)return[E[1],Number(E[2])]}function z(f){var m=H(f);if(!m)return!1;var w=m[0],E=m[1];return w===n&&E>=t&&E<=Qn}function F(){if(!!e)try{throw new Error}catch(E){var f=E.stack.split(`
`),m=f[0].indexOf("@")>0?f[1]:f[2],w=H(m);return w?(n=w[0],w[1]):void 0}}function A(f,m,w){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(m+" is deprecated, use "+w+" instead.",new Error("").stack),f.apply(f,arguments)}}function g(f){return f instanceof U?f:ve(f)?Be(f):xe(f)}g.resolve=g,g.nextTick=a,g.longStackSupport=!1,typeof process=="object"&&process&&process.env&&{}.Q_DEBUG&&(g.longStackSupport=!0),g.defer=O;function O(){var f=[],m=[],w,E=_(O.prototype),W=_(U.prototype);if(W.promiseDispatch=function(q,de,oe){var se=h(arguments);f?(f.push(se),de==="when"&&oe[1]&&m.push(oe[1])):g.nextTick(function(){w.promiseDispatch.apply(w,se)})},W.valueOf=function(){if(f)return W;var q=X(w);return J(q)&&(w=q),q},W.inspect=function(){return w?w.inspect():{state:"pending"}},g.longStackSupport&&e)try{throw new Error}catch(q){W.stack=q.stack.substring(q.stack.indexOf(`
`)+1)}function Y(q){w=q,W.source=q,v(f,function(de,oe){g.nextTick(function(){q.promiseDispatch.apply(q,oe)})},void 0),f=void 0,m=void 0}return E.promise=W,E.resolve=function(q){w||Y(g(q))},E.fulfill=function(q){w||Y(xe(q))},E.reject=function(q){w||Y(ye(q))},E.notify=function(q){w||v(m,function(de,oe){g.nextTick(function(){oe(q)})},void 0)},E}O.prototype.makeNodeResolver=function(){var f=this;return function(m,w){m?f.reject(m):arguments.length>2?f.resolve(h(arguments,1)):f.resolve(w)}},g.Promise=N,g.promise=N;function N(f){if(typeof f!="function")throw new TypeError("resolver must be a function.");var m=O();try{f(m.resolve,m.reject,m.notify)}catch(w){m.reject(w)}return m.promise}N.race=j,N.all=fe,N.reject=ye,N.resolve=g,g.passByCopy=function(f){return f},U.prototype.passByCopy=function(){return this},g.join=function(f,m){return g(f).join(m)},U.prototype.join=function(f){return g([this,f]).spread(function(m,w){if(m===w)return m;throw new Error("Q can't join: not the same: "+m+" "+w)})},g.race=j;function j(f){return N(function(m,w){for(var E=0,W=f.length;E<W;E++)g(f[E]).then(m,w)})}U.prototype.race=function(){return this.then(g.race)},g.makePromise=U;function U(f,m,w){m===void 0&&(m=function(Y){return ye(new Error("Promise does not support operation: "+Y))}),w===void 0&&(w=function(){return{state:"unknown"}});var E=_(U.prototype);if(E.promiseDispatch=function(Y,q,de){var oe;try{f[q]?oe=f[q].apply(E,de):oe=m.call(E,q,de)}catch(se){oe=ye(se)}Y&&Y(oe)},E.inspect=w,w){var W=w();W.state==="rejected"&&(E.exception=W.reason),E.valueOf=function(){var Y=w();return Y.state==="pending"||Y.state==="rejected"?E:Y.value}}return E}U.prototype.toString=function(){return"[object Promise]"},U.prototype.then=function(f,m,w){var E=this,W=O(),Y=!1;function q(se){try{return typeof f=="function"?f(se):se}catch(ce){return ye(ce)}}function de(se){if(typeof m=="function"){b(se,E);try{return m(se)}catch(ce){return ye(ce)}}return ye(se)}function oe(se){return typeof w=="function"?w(se):se}return g.nextTick(function(){E.promiseDispatch(function(se){Y||(Y=!0,W.resolve(q(se)))},"when",[function(se){Y||(Y=!0,W.resolve(de(se)))}])}),E.promiseDispatch(void 0,"when",[void 0,function(se){var ce,Te=!1;try{ce=oe(se)}catch(Xe){if(Te=!0,g.onerror)g.onerror(Xe);else throw Xe}Te||W.notify(ce)}]),W.promise},g.tap=function(f,m){return g(f).tap(m)},U.prototype.tap=function(f){return f=g(f),this.then(function(m){return f.fcall(m).thenResolve(m)})},g.when=G;function G(f,m,w,E){return g(f).then(m,w,E)}U.prototype.thenResolve=function(f){return this.then(function(){return f})},g.thenResolve=function(f,m){return g(f).thenResolve(m)},U.prototype.thenReject=function(f){return this.then(function(){throw f})},g.thenReject=function(f,m){return g(f).thenReject(m)},g.nearer=X;function X(f){if(J(f)){var m=f.inspect();if(m.state==="fulfilled")return m.value}return f}g.isPromise=J;function J(f){return f instanceof U}g.isPromiseAlike=ve;function ve(f){return l(f)&&typeof f.then=="function"}g.isPending=ge;function ge(f){return J(f)&&f.inspect().state==="pending"}U.prototype.isPending=function(){return this.inspect().state==="pending"},g.isFulfilled=ne;function ne(f){return!J(f)||f.inspect().state==="fulfilled"}U.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},g.isRejected=re;function re(f){return J(f)&&f.inspect().state==="rejected"}U.prototype.isRejected=function(){return this.inspect().state==="rejected"};var k=[],ee=[],he=[],ae=!0;function le(){k.length=0,ee.length=0,ae||(ae=!0)}function me(f,m){!ae||(typeof process=="object"&&typeof process.emit=="function"&&g.nextTick.runAfter(function(){I(ee,f)!==-1&&(process.emit("unhandledRejection",m,f),he.push(f))}),ee.push(f),m&&typeof m.stack!="undefined"?k.push(m.stack):k.push("(no stack) "+m))}function Ee(f){if(!!ae){var m=I(ee,f);m!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&g.nextTick.runAfter(function(){var w=I(he,f);w!==-1&&(process.emit("rejectionHandled",k[m],f),he.splice(w,1))}),ee.splice(m,1),k.splice(m,1))}}g.resetUnhandledRejections=le,g.getUnhandledReasons=function(){return k.slice()},g.stopUnhandledRejectionTracking=function(){le(),ae=!1},le(),g.reject=ye;function ye(f){var m=U({when:function(w){return w&&Ee(this),w?w(f):this}},function(){return this},function(){return{state:"rejected",reason:f}});return me(m,f),m}g.fulfill=xe;function xe(f){return U({when:function(){return f},get:function(m){return f[m]},set:function(m,w){f[m]=w},delete:function(m){delete f[m]},post:function(m,w){return m==null?f.apply(void 0,w):f[m].apply(f,w)},apply:function(m,w){return f.apply(m,w)},keys:function(){return i(f)}},void 0,function(){return{state:"fulfilled",value:f}})}function Be(f){var m=O();return g.nextTick(function(){try{f.then(m.resolve,m.reject,m.notify)}catch(w){m.reject(w)}}),m.promise}g.master=T;function T(f){return U({isDef:function(){}},function(w,E){return Z(f,w,E)},function(){return g(f).inspect()})}g.spread=x;function x(f,m,w){return g(f).spread(m,w)}U.prototype.spread=function(f,m){return this.all().then(function(w){return f.apply(void 0,w)},m)},g.async=R;function R(f){return function(){function m(Y,q){var de;if(typeof StopIteration=="undefined"){try{de=w[Y](q)}catch(oe){return ye(oe)}return de.done?g(de.value):G(de.value,E,W)}else{try{de=w[Y](q)}catch(oe){return d(oe)?g(oe.value):ye(oe)}return G(de,E,W)}}var w=f.apply(this,arguments),E=m.bind(m,"next"),W=m.bind(m,"throw");return E()}}g.spawn=$;function $(f){g.done(g.async(f)())}g.return=C;function C(f){throw new S(f)}g.promised=V;function V(f){return function(){return x([this,fe(arguments)],function(m,w){return f.apply(m,w)})}}g.dispatch=Z;function Z(f,m,w){return g(f).dispatch(m,w)}U.prototype.dispatch=function(f,m){var w=this,E=O();return g.nextTick(function(){w.promiseDispatch(E.resolve,f,m)}),E.promise},g.get=function(f,m){return g(f).dispatch("get",[m])},U.prototype.get=function(f){return this.dispatch("get",[f])},g.set=function(f,m,w){return g(f).dispatch("set",[m,w])},U.prototype.set=function(f,m){return this.dispatch("set",[f,m])},g.del=g.delete=function(f,m){return g(f).dispatch("delete",[m])},U.prototype.del=U.prototype.delete=function(f){return this.dispatch("delete",[f])},g.mapply=g.post=function(f,m,w){return g(f).dispatch("post",[m,w])},U.prototype.mapply=U.prototype.post=function(f,m){return this.dispatch("post",[f,m])},g.send=g.mcall=g.invoke=function(f,m){return g(f).dispatch("post",[m,h(arguments,2)])},U.prototype.send=U.prototype.mcall=U.prototype.invoke=function(f){return this.dispatch("post",[f,h(arguments,1)])},g.fapply=function(f,m){return g(f).dispatch("apply",[void 0,m])},U.prototype.fapply=function(f){return this.dispatch("apply",[void 0,f])},g.try=g.fcall=function(f){return g(f).dispatch("apply",[void 0,h(arguments,1)])},U.prototype.fcall=function(){return this.dispatch("apply",[void 0,h(arguments)])},g.fbind=function(f){var m=g(f),w=h(arguments,1);return function(){return m.dispatch("apply",[this,w.concat(h(arguments))])}},U.prototype.fbind=function(){var f=this,m=h(arguments);return function(){return f.dispatch("apply",[this,m.concat(h(arguments))])}},g.keys=function(f){return g(f).dispatch("keys",[])},U.prototype.keys=function(){return this.dispatch("keys",[])},g.all=fe;function fe(f){return G(f,function(m){var w=0,E=O();return v(m,function(W,Y,q){var de;J(Y)&&(de=Y.inspect()).state==="fulfilled"?m[q]=de.value:(++w,G(Y,function(oe){m[q]=oe,--w===0&&E.resolve(m)},E.reject,function(oe){E.notify({index:q,value:oe})}))},void 0),w===0&&E.resolve(m),E.promise})}U.prototype.all=function(){return fe(this)},g.any=we;function we(f){if(f.length===0)return g.resolve();var m=g.defer(),w=0;return v(f,function(E,W,Y){var q=f[Y];w++,G(q,de,oe,se);function de(ce){m.resolve(ce)}function oe(){w--,w===0&&m.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))}function se(ce){m.notify({index:Y,value:ce})}},void 0),m.promise}U.prototype.any=function(){return we(this)},g.allResolved=A(be,"allResolved","allSettled");function be(f){return G(f,function(m){return m=D(m,g),G(fe(D(m,function(w){return G(w,o,o)})),function(){return m})})}U.prototype.allResolved=function(){return be(this)},g.allSettled=ie;function ie(f){return g(f).allSettled()}U.prototype.allSettled=function(){return this.then(function(f){return fe(D(f,function(m){m=g(m);function w(){return m.inspect()}return m.then(w,w)}))})},g.fail=g.catch=function(f,m){return g(f).then(void 0,m)},U.prototype.fail=U.prototype.catch=function(f){return this.then(void 0,f)},g.progress=Jn;function Jn(f,m){return g(f).then(void 0,void 0,m)}U.prototype.progress=function(f){return this.then(void 0,void 0,f)},g.fin=g.finally=function(f,m){return g(f).finally(m)},U.prototype.fin=U.prototype.finally=function(f){if(!f||typeof f.apply!="function")throw new Error("Q can't apply finally callback");return f=g(f),this.then(function(m){return f.fcall().then(function(){return m})},function(m){return f.fcall().then(function(){throw m})})},g.done=function(f,m,w,E){return g(f).done(m,w,E)},U.prototype.done=function(f,m,w){var E=function(Y){g.nextTick(function(){if(b(Y,W),g.onerror)g.onerror(Y);else throw Y})},W=f||m||w?this.then(f,m,w):this;typeof process=="object"&&process&&process.domain&&(E=process.domain.bind(E)),W.then(void 0,E)},g.timeout=function(f,m,w){return g(f).timeout(m,w)},U.prototype.timeout=function(f,m){var w=O(),E=setTimeout(function(){(!m||typeof m=="string")&&(m=new Error(m||"Timed out after "+f+" ms"),m.code="ETIMEDOUT"),w.reject(m)},f);return this.then(function(W){clearTimeout(E),w.resolve(W)},function(W){clearTimeout(E),w.reject(W)},w.notify),w.promise},g.delay=function(f,m){return m===void 0&&(m=f,f=void 0),g(f).delay(m)},U.prototype.delay=function(f){return this.then(function(m){var w=O();return setTimeout(function(){w.resolve(m)},f),w.promise})},g.nfapply=function(f,m){return g(f).nfapply(m)},U.prototype.nfapply=function(f){var m=O(),w=h(f);return w.push(m.makeNodeResolver()),this.fapply(w).fail(m.reject),m.promise},g.nfcall=function(f){var m=h(arguments,1);return g(f).nfapply(m)},U.prototype.nfcall=function(){var f=h(arguments),m=O();return f.push(m.makeNodeResolver()),this.fapply(f).fail(m.reject),m.promise},g.nfbind=g.denodeify=function(f){if(f===void 0)throw new Error("Q can't wrap an undefined function");var m=h(arguments,1);return function(){var w=m.concat(h(arguments)),E=O();return w.push(E.makeNodeResolver()),g(f).fapply(w).fail(E.reject),E.promise}},U.prototype.nfbind=U.prototype.denodeify=function(){var f=h(arguments);return f.unshift(this),g.denodeify.apply(void 0,f)},g.nbind=function(f,m){var w=h(arguments,2);return function(){var E=w.concat(h(arguments)),W=O();E.push(W.makeNodeResolver());function Y(){return f.apply(m,arguments)}return g(Y).fapply(E).fail(W.reject),W.promise}},U.prototype.nbind=function(){var f=h(arguments,0);return f.unshift(this),g.nbind.apply(void 0,f)},g.nmapply=g.npost=function(f,m,w){return g(f).npost(m,w)},U.prototype.nmapply=U.prototype.npost=function(f,m){var w=h(m||[]),E=O();return w.push(E.makeNodeResolver()),this.dispatch("post",[f,w]).fail(E.reject),E.promise},g.nsend=g.nmcall=g.ninvoke=function(f,m){var w=h(arguments,2),E=O();return w.push(E.makeNodeResolver()),g(f).dispatch("post",[m,w]).fail(E.reject),E.promise},U.prototype.nsend=U.prototype.nmcall=U.prototype.ninvoke=function(f){var m=h(arguments,1),w=O();return m.push(w.makeNodeResolver()),this.dispatch("post",[f,m]).fail(w.reject),w.promise},g.nodeify=Gn;function Gn(f,m){return g(f).nodeify(m)}U.prototype.nodeify=function(f){if(f)this.then(function(m){g.nextTick(function(){f(null,m)})},function(m){g.nextTick(function(){f(m)})});else return this},g.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Qn=F();return g});var u=u||{};u.STUConstructor=function(){var e,t=65535,n=0,o=0,a={},s={};function c(r){return typeof r!="undefined"}function h(){return n++}function v(){return o++}function I(r){var i=9e3,p=this;c(r)||(r=i),this.onDCAtimeout=null,e=new WebSocket("wss://localhost:"+r.toString()+"/ws"),e.onopen=function(){console.log("connected")},e.onmessage=D,e.onclose=function(){console.log("disconnected"),typeof p.onDCAtimeout=="function"&&p.onDCAtimeout()}}I.prototype.Reinitialize=function(){u.STU=new u.STUConstructor},I.prototype.isServiceReady=function(){return e.readyState==1},I.prototype.isDCAReady=function(){var r=Q.defer();return u.STU.isServiceReady()?(setTimeout(function(){r.promise.isPending()&&(u.STU.isServiceReady()&&u.STU.close(),r.resolve(!1))},1e3),u.STU.getUsbDevices().then(function(i){r.promise.isPending()&&r.resolve(!0)}).fail(function(i){r.promise.isPending()&&r.resolve(!0)})):r.resolve(!1),r.promise},I.prototype.close=function(){e.close()};function D(r){if(typeof r.data!="undefined"&&r.data!=""){var i=JSON.parse(r.data);if(c(i.ticket)&&c(a[i.ticket]))c(i.success)&&i.success==!0&&c(i.data)?a[i.ticket].resolve(i.data):a[i.ticket].reject(new Error(c(i.error)?i.error:"")),delete a[i.ticket];else if(c(i.stream)&&c(s[i.stream])&&c(i.data))s[i.stream].stream(i.data);else throw new Error("websocket invalid message: "+r.data)}else console.log("Unexpected message type "+typeof r+" = "+JSON.stringify(r))}function _(r){for(var i=r.length,p=0;p<i;){var l=p+t<i?"0":"1",d=r.substr(p,t);e.send(l+d),p+=t}}return I.prototype.VendorId={VendorId_Wacom:1386},I.prototype.ProductId={ProductId_500:161,ProductId_300:162,ProductId_520A:163,ProductId_430:164,ProductId_530:165,ProductId_430V:166,ProductId_540:168,ProductId_541:169},I.prototype.ProductId_min=161,I.prototype.ProductId_max=175,I.prototype.send=function(r){var i=Q.defer();try{var p=h();r.ticket=p;var l=JSON.stringify(r);_(l),a[p]=i}catch(d){i.reject(d)}return i.promise},I.prototype.sendNoReturn=function(r){var i=JSON.stringify(r);_(i)},I.prototype.setStream=function(r){var i=v();return s[i]=r,i},I.prototype.removeStream=function(r){delete s[r]},I.prototype.getUsbDevices=function(){return u.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"getUsbDevices"})},I.prototype.getTlsDevices=function(){return u.STU.send({scope:"WacomGSS.STU.GetTlsDevices",function:"getTlsDevices"})},I.prototype.isSupportedUsbDevice=function(r,i){return u.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"isSupportedUsbDevice",idVendor:r,idProduct:i})},I.prototype.getStringUsbDevice=function(r){function i(p){return("0000"+p.toString(16)).substr(-4)}return i(r.idVendor)+":"+i(r.idProduct)+":"+i(r.bcdDevice)},I.prototype.SerialPort={Type:{Unknown:0,Physical:1,Virtual:2,Remote:3}},I.prototype.getSerialPorts=function(){return u.STU.send({scope:"WacomGSS.STU.GetSerialPorts",function:"getSerialPorts"})},I.prototype.UsbInterface=function(){var r="WacomGSS.STU.UsbInterface",i="";function p(){}return p.prototype.Constructor=function(){return u.STU.send({scope:r,function:"Constructor"}).then(function(l){return i=l.id,l})},p.prototype.connect=function(l,d){return u.STU.send({scope:r,id:i,function:"connect",usbDevice:l,exclusiveLock:d})},p.prototype.toJSON=function(){return{id:i,scope:r}},p.prototype.disconnect=function(){return u.STU.send({scope:r,id:i,function:"disconnect"})},p.prototype.isConnected=function(){return u.STU.send({scope:r,id:i,function:"isConnected"})},p.prototype.queueNotifyAll=function(){return u.STU.send({scope:r,id:i,function:"queueNotifyAll"})},p.prototype.queueSetPredicateAll=function(l){return u.STU.send({scope:r,id:i,function:"queueSetPredicateAll",predicate:l})},p.prototype.get=function(l){return u.STU.send({scope:r,id:i,function:"get_",length:l})},p.prototype.set=function(l){return u.STU.send({scope:r,id:i,function:"set",base64Data:l})},p.prototype.supportsWrite=function(){return u.STU.send({scope:r,id:i,function:"supportsWrite"})},p.prototype.write=function(l){return u.STU.send({scope:r,id:i,function:"write",base64Data:l})},p.prototype.getReportCountLengths=function(){return u.STU.send({scope:r,id:i,function:"getReportCountLengths"})},p.prototype.getProductId=function(){return u.STU.send({scope:r,id:i,function:"getProductId"})},p}(),I.prototype.Protocol=function(){var r="WacomGSS.STU.Protocol",i="",p={};function l(){}return l.prototype.PenDataOptionMode={PenDataOptionMode_None:0,PenDataOptionMode_TimeCount:1,PenDataOptionMode_SequenceNumber:2,PenDataOptionMode_TimeCountSequence:3},l.prototype.InkingMode={InkingMode_Off:0,InkingMode_On:1},l.prototype.ReportId={ReportId_PenData:1,ReportId_Status:3,ReportId_Reset:4,ReportId_HidInformation:6,ReportId_Information:8,ReportId_Capability:9,ReportId_Uid:10,ReportId_Uid2:11,ReportId_DefaultMode:12,ReportId_ReportRate:13,ReportId_RenderingMode:14,ReportId_Eserial:15,ReportId_PenDataEncrypted:16,ReportId_HostPublicKey:19,ReportId_DevicePublicKey:20,ReportId_StartCapture:21,ReportId_EndCapture:22,ReportId_DHprime:26,ReportId_DHbase:27,ReportId_ClearScreen:32,ReportId_InkingMode:33,ReportId_InkThreshold:34,ReportId_ClearScreenArea:35,ReportId_StartImageDataArea:36,ReportId_StartImageData:37,ReportId_ImageDataBlock:38,ReportId_EndImageData:39,ReportId_HandwritingThicknessColor:40,ReportId_BackgroundColor:41,ReportId_HandwritingDisplayArea:42,ReportId_BacklightBrightness:43,ReportId_ScreenContrast:44,ReportId_HandwritingThicknessColor24:45,ReportId_BackgroundColor24:46,ReportId_BootScreen:47,ReportId_PenDataOption:48,ReportId_PenDataEncryptedOption:49,ReportId_PenDataOptionMode:50,ReportId_PenDataTimeCountSequenceEncrypted:51,ReportId_PenDataTimeCountSequence:52,ReportId_EncryptionCommand:64,ReportId_EncryptionStatus:80,ReportId_GetReport:128,ReportId_SetResult:129,ReportId_PinPadData:144,ReportId_PinPadDataEncrypted:145,ReportId_PinOperationMode:146,ReportId_OperationMode:147,ReportId_RomStartImageData:148,ReportId_RomImageOccupancy:149,ReportId_RomImageHash:150,ReportId_RomImageDelete:151,ReportId_CurrentImageArea:152,ReportId_EventData:153,ReportId_EventDataEncrypted:154,ReportId_RomImageDisplay:155,ReportId_ReportSizeCollection:255,Decrypt:256,SigCaptX_Decrypt:256,SigCaptX_TabletDisconnected:257},l.prototype.DefaultMode={DefaultMode_HID:1,DefaultMode_Serial:2},l.prototype.StatusCode={StatusCode_Ready:0,StatusCode_Image:1,StatusCode_Capture:2,StatusCode_Calculation:3,StatusCode_Image_Boot:4,StatusCode_RomBusy:5,StatusCode_SystemReset:255},l.prototype.ErrorCode={ErrorCode_None:0,ErrorCode_WrongReportId:1,ErrorCode_WrongState:2,ErrorCode_CRC:3,ErrorCode_GraphicsWrongEncodingType:16,ErrorCode_GraphicsImageTooLong:17,ErrorCode_GraphicsZlibError:18,ErrorCode_GraphicsWrongParameters:21,ErrorCode_PadNotExist:32,ErrorCode_RomSizeOverflow:51,ErrorCode_RomInvalidParameter:52,ErrorCode_RomErrorCRC:53},l.prototype.Rectangle={upperLeftXpixel:0,upperLeftYpixel:0,lowerRightXpixel:0,lowerRightYpixel:0},l.prototype.InkThreshold={onPressureMark:0,offPressureMark:0},l.prototype.HandwritingThicknessColor={penColor:0,penThickness:0},l.prototype.HandwritingThicknessColor24={penColor:0,penThickness:0},l.prototype.EncryptionCommandNumber={EncryptionCommandNumber_SetEncryptionType:1,EncryptionCommandNumber_SetParameterBlock:2,EncryptionCommandNumber_GetStatusBlock:3,EncryptionCommandNumber_GetParameterBlock:4,EncryptionCommandNumber_GenerateSymmetricKey:5},l.prototype.EncodingMode={EncodingMode_1bit:0,EncodingMode_1bit_Zlib:1,EncodingMode_16bit:2,EncodingMode_24bit:4,EncodingMode_1bit_Bulk:16,EncodingMode_16bit_Bulk:18,EncodingMode_24bit_Bulk:20},l.prototype.EndImageDataFlag={EndImageDataFlag_Commit:0,EndImageDataFlag_Abandon:1},l.prototype.ResetFlag={ResetFlag_Software:0,ResetFlag_Hardware:1},l.prototype.EncodingFlag={EncodingFlag_Zlib:1,EncodingFlag_1bit:2,EncodingFlag_16bit:4,EncodingFlag_24bit:8},l.prototype.StatusCodeRSA={StatusCodeRSA_Ready:0,StatusCodeRSA_Calculating:250,StatusCodeRSA_Even:251,StatusCodeRSA_Long:252,StatusCodeRSA_Short:253,StatusCodeRSA_Invalid:254,StatusCodeRSA_NotReady:255},l.prototype.ErrorCodeRSA={ErrorCodeRSA_None:0,ErrorCodeRSA_BadParameter:1,ErrorCodeRSA_ParameterTooLong:2,ErrorCodeRSA_PublicKeyNotReady:3,ErrorCodeRSA_PublicExponentNotReady:4,ErrorCodeRSA_SpecifiedKeyInUse:5,ErrorCodeRSA_SpecifiedKeyNotInUse:6,ErrorCodeRSA_BadCommandCode:7,ErrorCodeRSA_CommandPending:8,ErrorCodeRSA_SpecifiedKeyExists:9,ErrorCodeRSA_SpecifiedKeyNotExist:10,ErrorCodeRSA_NotInitialized:11},l.prototype.SymmetricKeyType={SymmetricKeyType_AES128:0,SymmetricKeyType_AES192:1,SymmetricKeyType_AES256:2},l.prototype.AsymmetricKeyType={AsymmetricKeyType_RSA1024:0,AsymmetricKeyType_RSA1536:1,AsymmetricKeyType_RSA2048:2},l.prototype.AsymmetricPaddingType={AsymmetricPaddingType_None:0,AsymmetricPaddingType_PKCS1:1,AsymmetricPaddingType_OAEP:2},l.prototype.AsymmetricPaddingType={EncryptionCommandParameterBlockIndex_RSAe:0,EncryptionCommandParameterBlockIndex_RSAn:1,EncryptionCommandParameterBlockIndex_RSAc:2,EncryptionCommandParameterBlockIndex_RSAm:3},l.prototype.RomImageDeleteMode={RomImageDeleteMode_All:0,RomImageDeleteMode_PinPad_All:1,RomImageDeleteMode_SlideShow_All:2,RomImageDeleteMode_KeyPad_All:3,RomImageDeleteMode_Signature_All:4,RomImageDeleteMode_MessageBox_All:5,RomImageDeleteMode_PinPad_Number:6,RomImageDeleteMode_SlideShow_Number:7,RomImageDeleteMode_KeyPad_Number:8,RomImageDeleteMode_Signature_Number:9,RomImageDeleteMode_MessageBox_Number:10},l.prototype.OperationModeType={OperationModeType_Normal:0,OperationModeType_PinPad:1,OperationModeType_SlideShow:2,OperationModeType_KeyPad:3,OperationModeType_Signature:4,OperationModeType_MessageBox:5},l.prototype.ImageDataBlock_maxLengthHID=253,l.prototype.ImageDataBlock_maxLengthSerial=2557,l.prototype.ImageDataBlock_maxLength540=2557,l.prototype.toJSON=function(){return{id:i,scope:r}},l.prototype.Constructor=function(d){return p=d,u.STU.send({scope:r,function:"Constructor",intf:p.toJSON()}).then(function(S){return i=S.id,S})},l.prototype.getInterface=function(){return p},l.prototype.getInformation=function(){return u.STU.send({scope:r,id:i,function:"getInformation"})},l.prototype.getPenDataOptionMode=function(){return u.STU.send({scope:r,id:i,function:"getPenDataOptionMode"})},l.prototype.setPenDataOptionMode=function(d){return u.STU.send({scope:r,id:i,function:"setPenDataOptionMode",penDataOptionMode:d})},l.prototype.OperationMode_Normal=function(){function d(){this.operationMode=0,this.data=[]}return d}(),l.prototype.OperationMode_PinPad=function(){function d(S,y,b,P,B,H,z){this.operationMode=1,this.data=[],this.data[0]=S,this.data[1]=Number(y),this.data[2]=b,this.data[3]=P,this.data[4]=Number(B),this.data[5]=H,this.data[6]=z}return d}(),l.prototype.OperationMode_SlideShow=function(){function d(S,y,b,P){this.operationMode=2,this.data=[],this.data[0]=S,this.data[1]=y,this.data[2]=(b[0]&15)<<4|b[1]&15,this.data[3]=(b[2]&15)<<4|b[3]&15,this.data[4]=(b[4]&15)<<4|b[5]&15,this.data[5]=(b[6]&15)<<4|b[7]&15,this.data[6]=(b[8]&15)<<4|b[9]&15,this.data[7]=P>>24&255,this.data[8]=P>>16&255,this.data[9]=P>>8&255,this.data[10]=P&255}return d}(),l.prototype.OperationMode_KeyPad=function(){function d(S,y){this.operationMode=3,this.data=[],this.data[0]=S,this.data[1]=y}return d}(),l.prototype.OperationMode_Signature=function(){function d(S,y,b,P){this.operationMode=4,this.data=[],this.data[0]=S,this.data[1]=y[0],this.data[2]=y[1],this.data[3]=y[2],this.data[4]=b}return d}(),l.prototype.setOperationMode=function(d){return u.STU.send({scope:r,id:i,function:"setOperationMode",operationMode:d})},l.prototype.getOperationMode=function(){return u.STU.send({scope:r,id:i,function:"getOperationMode"})},l.prototype.RomStartImageData_PinPad=function(){function d(S,y,b,P,B){this.encodingMode=S,this.operationMode=1,this.imageType=y,this.imageNumber=b,this.data=[P,B,0]}return d}(),l.prototype.RomStartImageData_SlideShow=function(){function d(S,y,b){this.encodingMode=S,this.operationMode=2,this.imageType=y,this.imageNumber=b,this.data=[0,0,0]}return d}(),l.prototype.RomStartImageData_KeyPad=function(){function d(S,y,b,P,B){this.encodingMode=S,this.operationMode=3,this.imageType=y,this.imageNumber=b,this.data=[],this.data[0]=P,this.data[1]=B.length>8&&B[8]?1:0,this.data[2]=(B.length>7&&B[7]?128:0)|(B.length>6&&B[6]?64:0)|(B.length>5&&B[5]?32:0)|(B.length>4&&B[4]?16:0)|(B.length>3&&B[3]?8:0)|(B.length>2&&B[2]?4:0)|(B.length>1&&B[1]?2:0)|(B.length>0&&B[0]?1:0)}return d}(),l.prototype.RomStartImageData_Signature=function(){function d(S,y,b,P){this.encodingMode=S,this.operationMode=4,this.imageType=y,this.imageNumber=b,this.data=[],this.data[0]=(P[2]?4:0)|(P[1]?2:0)|(P[0]?1:0)}return d}(),l.prototype.RomStartImageData_MessageBox=function(){function d(S,y){this.encodingMode=S,this.operationMode=5,this.imageType=!1,this.imageNumber=y,this.data=[0,0,0]}return d}(),l.prototype.setRomStartImageData=function(d){return u.STU.send({scope:r,id:i,function:"setRomStartImageData",romStartImage:d})},l.prototype.setRomImageHash=function(d,S,y){return u.STU.send({scope:r,id:i,function:"setRomImageHash",operationModeType:d,imageType:S,imageNumber:y})},l.prototype.getRomImageHash=function(){return u.STU.send({scope:r,id:i,function:"getRomImageHash"})},l.prototype.setRomImageDelete=function(d,S,y){return u.STU.send({scope:r,id:i,function:"setRomImageDelete",romImageDeleteMode:d,imageType:S,imageNumber:y})},l.prototype.getCurrentImageArea=function(){return u.STU.send({scope:r,id:i,function:"getCurrentImageArea"})},l.prototype.setRomImageDisplay=function(d,S,y){return u.STU.send({scope:r,id:i,function:"setRomImageDisplay",operationModeType:d,imageType:S,imageNumber:y})},l.prototype.getEserial=function(){return u.STU.send({scope:r,id:i,function:"getEserial"})},l.prototype.setClearScreen=function(){return u.STU.send({scope:r,id:i,function:"setClearScreen"})},l.prototype.setInkingMode=function(d){return u.STU.send({scope:r,id:i,function:"setInkingMode",inkingMode:d})},l.prototype.rebind=function(d){var S=d;return u.STU.send({scope:r,id:i,function:"rebind",intf:d.toJSON()}).then(function(y){y===null&&(p=S)})},l.prototype.getStatus=function(){return u.STU.send({scope:r,id:i,function:"getStatus"})},l.prototype.setReset=function(d){return u.STU.send({scope:r,id:i,function:"setReset",flag:d})},l.prototype.getHidInformation=function(){return u.STU.send({scope:r,id:i,function:"getHidInformation"})},l.prototype.getCapability=function(){return u.STU.send({scope:r,id:i,function:"getCapability"})},l.prototype.getUid=function(){return u.STU.send({scope:r,id:i,function:"getUid"})},l.prototype.setUid=function(d){return u.STU.send({scope:r,id:i,function:"setUid",uid:d})},l.prototype.getUid2=function(){return u.STU.send({scope:r,id:i,function:"getUid2"})},l.prototype.setDefaultMode=function(d){return u.STU.send({scope:r,id:i,function:"setDefaultMode",defaultMode:d})},l.prototype.getDefaultMode=function(){return u.STU.send({scope:r,id:i,function:"getDefaultMode"})},l.prototype.getHostPublicKey=function(){return u.STU.send({scope:r,id:i,function:"getHostPublicKey"})},l.prototype.setHostPublicKey=function(d){return u.STU.send({scope:r,id:i,function:"setHostPublicKey",hostPublicKey:d})},l.prototype.getDevicePublicKey=function(){return u.STU.send({scope:r,id:i,function:"getDevicePublicKey"})},l.prototype.setStartCapture=function(d){return u.STU.send({scope:r,id:i,function:"setStartCapture",sessionId:d})},l.prototype.setEndCapture=function(){return u.STU.send({scope:r,id:i,function:"setEndCapture"})},l.prototype.getDHprime=function(){return u.STU.send({scope:r,id:i,function:"getDHprime"})},l.prototype.setDHprime=function(d){return u.STU.send({scope:r,id:i,function:"setDHprime",prime:d})},l.prototype.getDHbase=function(){return u.STU.send({scope:r,id:i,function:"getDHbase"})},l.prototype.setDHbase=function(d){return u.STU.send({scope:r,id:i,function:"setDHbase",base})},l.prototype.setClearScreenArea=function(d){return u.STU.send({scope:r,id:i,function:"setClearScreenArea",area:d})},l.prototype.getInkingMode=function(){return u.STU.send({scope:r,id:i,function:"getInkingMode"})},l.prototype.getInkThreshold=function(){return u.STU.send({scope:r,id:i,function:"getInkThreshold"})},l.prototype.setInkThreshold=function(d){return u.STU.send({scope:r,id:i,function:"setInkThreshold",inkThreshold:d})},l.prototype.setStartImageData=function(d){return u.STU.send({scope:r,id:i,function:"setStartImageData",encodingMode:d})},l.prototype.setStartImageDataArea=function(d,S){return u.STU.send({scope:r,id:i,function:"setStartImageDataArea",encodingMode:d,area:S})},l.prototype.setImageDataBlock=function(d){return u.STU.send({scope:r,id:i,function:"setEndImageData",imageDataBlock:d})},l.prototype.setEndImageData=function(d){return u.STU.send({scope:r,id:i,function:"setEndImageData",endImageDataFlag})},l.prototype.getHandwritingThicknessColor=function(){return u.STU.send({scope:r,id:i,function:"getHandwritingThicknessColor"})},l.prototype.setHandwritingThicknessColor=function(d){return u.STU.send({scope:r,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:d})},l.prototype.getHandwritingThicknessColor24=function(){return u.STU.send({scope:r,id:i,function:"getHandwritingThicknessColor24"})},l.prototype.setHandwritingThicknessColor24=function(d){return u.STU.send({scope:r,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:d})},l.prototype.getBackgroundColor=function(){return u.STU.send({scope:r,id:i,function:"getBackgroundColor"})},l.prototype.setBackgroundColor=function(d){return u.STU.send({scope:r,id:i,function:"setBackgroundColor",backgroundColor:d})},l.prototype.getBackgroundColor24=function(){return u.STU.send({scope:r,id:i,function:"getBackgroundColor24"})},l.prototype.setBackgroundColor24=function(d){return u.STU.send({scope:r,id:i,function:"setBackgroundColor24",backgroundColor24:d})},l.prototype.BootScreenFlag={Disable:0,Enable:1},l.prototype.setBootScreen=function(d){return u.STU.send({scope:r,id:i,function:"setBootScreen",bootScreenFlag:d})},l.prototype.getBootScreen=function(){return u.STU.send({scope:r,id:i,function:"getBootScreen"})},l.prototype.getHandwritingDisplayArea=function(){return u.STU.send({scope:r,id:i,function:"getHandwritingDisplayArea"})},l.prototype.setHandwritingDisplayArea=function(d){return u.STU.send({scope:r,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:d})},l.prototype.getBacklightBrightness=function(){return u.STU.send({scope:r,id:i,function:"getBacklightBrightness"})},l.prototype.setBacklightBrightness=function(d){return u.STU.send({scope:r,id:i,function:"setBacklightBrightness",backlightBrightness:d})},l.prototype.getScreenContrast=function(){return u.STU.send({scope:r,id:i,function:"getScreenContrast"})},l.prototype.setScreenContrast=function(d){return u.STU.send({scope:r,id:i,function:"setScreenContrast",screenContrast:d})},l.prototype.getEncryptionStatus=function(){return u.STU.send({scope:r,id:i,function:"getEncryptionStatus"})},l.prototype.EncryptionCommand=function(){var d="WacomGSS.STU.Protocol";function S(b){this.encryptionCommandNumber=b.encryptionCommandNumber,this.parameter=b.parameter,this.lengthOrIndex=b.lengthOrIndex,this.data=b.data}function y(){this.encryptionCommandNumber=0,this.parameter=0,this.lengthOrIndex=0,this.data=[]}return y.prototype.initializeSetEncryptionType=function(b,P,B){return u.STU.send({scope:d,function:"EncryptionCommand_initializeSetEncryptionType",symmetricKeyType:b,asymmetricPaddingType:P,asymmetricKeyType:B}).then(function(H){return S.call(this,H),this})},y.prototype.initializeSetParameterBlock=function(b,P){return u.STU.send({scope:d,function:"EncryptionCommand_initializeSetParameterBlock",index:b,data:P}).then(function(B){return S.call(this,B),this})},y.prototype.initializeGenerateSymmetricKey=function(){return u.STU.send({scope:d,function:"EncryptionCommand_initializeGenerateSymmetricKey"}).then(function(b){return S.call(this,b),this})},y.prototype.initializeGetParameterBlock=function(b,P){return u.STU.send({scope:d,function:"EncryptionCommand_initializeGetParameterBlock"}).then(function(B){return S.call(this,B),this})},y}(),l.prototype.getEncryptionCommand=function(d){return u.STU.send({scope:r,id:i,function:"getEncryptionCommand",encryptionCommandNumber:d})},l.prototype.getReportSizeCollection=function(){return u.STU.send({scope:r,id:i,function:"getReportSizeCollection"})},l.prototype.setReportRate=function(d){return u.STU.send({scope:r,id:i,function:"setReportRate",reportRate:d})},l.prototype.getReportRate=function(){return u.STU.send({scope:r,id:i,function:"getReportRate"})},l.prototype.RenderingMode={RenderingMode_Legacy:0,RenderingMode_WILL:1},l.prototype.setRenderingMode=function(d){return u.STU.send({scope:r,id:i,function:"setRenderingMode",renderingMode:d})},l.prototype.getRenderingMode=function(){return u.STU.send({scope:r,id:i,function:"getRenderingMode"})},l}(),I.prototype.ProtocolHelper={ReportHandler:function(){var r="WacomGSS.STU.ProtocolHelper.ReportHandler",i=null,p=null;function l(){this.onReportPenData=function(d){},this.onReportPenDataOption=function(d){},this.onReportPenDataTimeCountSequence=function(d){},this.onReportPenDataEncrypted=function(d){},this.onReportPenDataEncryptedOption=function(d){},this.onReportPenDataTimeCountSequenceEncrypted=function(d){},this.onReportDevicePublicKey=function(d){},this.onReportEncryptionStatus=function(d){},this.onReportEventDataPinPad=function(d){},this.onReportEventDataKeyPad=function(d){},this.onReportEventDataSignature=function(d){},this.onReportEventDataPinPadEncrypted=function(d){},this.onReportEventDataKeyPadEncrypted=function(d){},this.onReportEventDataSignatureEncrypted=function(d){},this.decrypt=function(d){},this.tabletDisconnected=function(d){},this.stream=function(d){var S=new u.STU.Protocol;switch(d.reportId){case S.ReportId.ReportId_PenData:this.onReportPenData(d);break;case S.ReportId.ReportId_PenDataOption:this.onReportPenDataOption(d);break;case S.ReportId.ReportId_PenDataTimeCountSequence:this.onReportPenDataTimeCountSequence(d);break;case S.ReportId.ReportId_PenDataEncrypted:this.onReportPenDataEncrypted(d);break;case S.ReportId.ReportId_PenDataEncryptedOption:this.onReportPenDataEncryptedOption(d);break;case S.ReportId.ReportId_PenDataTimeCountSequenceEncrypted:this.onReportPenDataTimeCountSequenceEncrypted(d);break;case S.ReportId.ReportId_DevicePublicKey:this.onReportDevicePublicKey(d);break;case S.ReportId.ReportId_EncryptionStatus:this.onReportEncryptionStatus(d);break;case S.ReportId.ReportId_EventData:this.onEventData(S,d);break;case S.ReportId.ReportId_EventDataEncrypted:this.onEventDataEncrypted(S,d);break;case S.ReportId.SigCaptX_Decrypt:this.decrypt(d);break;case S.ReportId.SigCaptX_TabletDisconnected:this.tabletDisconnected(d);break}}}return l.prototype.startReporting=function(d,S){return i=u.STU.setStream(this),u.STU.send({interfaceQueueHolder:d.toJSON(),scope:r,function:"startReporting",streamId:i,tabletDecrypt:S===!0}).then(function(y){return p=y.id,y})},l.prototype.stopReporting=function(){if(i===null)throw"Error: trying to stop reporting before starting";return u.STU.send({id:p,scope:r,function:"stopReporting"}).then(function(d){return u.STU.removeStream(i),d})},l.prototype.onEventData=function(d,S){switch(S.operationModeType){case d.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPad(S);break;case d.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPad(S);break;case d.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignature(S);break}},l.prototype.onEventDataEncrypted=function(d,S){switch(S.operationModeType){case d.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPadEncrypted(S);break;case d.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPadEncrypted(S);break;case d.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignatureEncrypted(S);break}},l}(),InkState_isOff:1,InkState_isOn:2,InkState_isInk:4,InkState_isFirst:8,InkState_isLast:16,InkState:{InkState_Up:1,InkState_Down:2,InkState_Inking:6,InkState_First:14,InkState_Last:17},OpDirection:{OpDirection_Get:256,OpDirection_Set:512},statusCanSend:function(r,i,p){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"statusCanSend",statusCode:r,reportId:i,opDirection:p})},waitForStatusToSend:function(r,i,p,l,d){var S=Q.defer();function y(){r.getStatus().then(function(b){return u.STU.ProtocolHelper.statusCanSend(b.statusCode,i,p)}).then(function(b){if(b===!0){S.resolve();return}if(l<=0){S.reject(new Error("timeout error"));return}l--,setTimeout(y,d)})}return setTimeout(y,0),S.promise},waitForStatus:function(r,i,p,l){var d=Q.defer();function S(){r.getStatus().then(function(y){if(y.statusCode===i){d.resolve();return}if(p<=0){d.reject(new Error("timeout error"));return}p--,setTimeout(S,l)})}return setTimeout(S,0),d.promise},supportsEncryption:function(r){var i=u.STU.ProtocolHelper.OpDirection.OpDirection_Get;return u.STU.ProtocolHelper.waitForStatusToSend(r,u.STU.Protocol.ReportId.ReportId_DHprime,i,25,50).then(function(p){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption",protocol:r})})},supportsEncryption_DHprime:function(r){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption_DHprime",dhPrime:r})},setHostPublicKeyAndPollForDevicePublicKey:function(r,i,p,l){return r.setHostPublicKey(i).then(function(d){var S=u.STU.ProtocolHelper.OpDirection.OpDirection_Get;return u.STU.ProtocolHelper.waitForStatusToSend(r,u.STU.Protocol.ReportId.ReportId_DevicePublicKey,S,p,l)}).then(function(d){return r.getDevicePublicKey()}).then(function(d){if(d.length!==i.length)throw new Error("Unexpected key size");return d})},writeImage:function(r,i,p,l,d){l=typeof l=="undefined"?25:l,d=typeof d=="undefined"?25:d;var S=u.STU.ProtocolHelper.OpDirection.OpDirection_Set;return u.STU.ProtocolHelper.waitForStatusToSend(r,u.STU.Protocol.ReportId.ReportId_StartImageData,S,l,d).then(function(y){return r.setStartImageData(i)}).then(function(y){var b=r.ImageDataBlock_maxLengthHID;return u.STU.ProtocolHelper.writeImageCommon(r,i,b,p,l,d)})},writeImageCommon:function(r,i,p,l,d,S){if(p>r.ImageDataBlock_maxLengthSerial)throw new Error("Invalid maxImageBlockSize");var y=u.STU.ProtocolHelper.OpDirection.OpDirection_Set;return u.STU.ProtocolHelper.waitForStatusToSend(r,u.STU.Protocol.ReportId.ReportId_ImageDataBlock,y,d,S).then(function(b){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeImageCommon",protocol:r.toJSON(),intf:r.getInterface().toJSON(),encodingMode:i,imageData:l,maxImageBlockSize:p})})},flattenMonochrome:function(r,i,p,l){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenMonochrome",b64Data:r,screenWidth:i,screenHeight:p,dataStore:l===!0}).then(function(d){if(typeof d=="string")return d;var S=new u.STU.DataStore;return S.setId(d.id),S})},flatten:function(r,i,p,l,d){var S=new u.STU.Protocol;switch(r){case S.EncodingMode.EncodingMode_24bit:case S.EncodingMode.EncodingMode_24bit_Bulk:return u.STU.ProtocolHelper.flattenColor24(i,p,l,d);case S.EncodingMode.EncodingMode_16bit:case S.EncodingMode.EncodingMode_16bit_Bulk:return u.STU.ProtocolHelper.flattenColor16(i,p,l,d);case S.EncodingMode.EncodingMode_1bit:case S.EncodingMode.EncodingMode_1bit_Bulk:return u.STU.ProtocolHelper.flattenMonochrome(i,p,l,d)}},resizeAndFlatten:function(r,i,p,l,d,S,y,b,P,B,H,z){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"resizeAndFlatten",b64Data:r,offsetX:i,offsetY:p,bitmapWidth:l,bitmapHeight:d,screenWidth:S,screenHeight:y,encodingMode:b,scale:P,backgroundColor:B,clip:H,dataStore:z===!0}).then(function(F){if(typeof F=="string")return F;var A=new u.STU.DataStore;return A.setId(F.id),A})},encodingFlagSupportsColor:function(r){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"encodingFlagSupportsColor",screenWidth:r})},flattenColor16:function(r,i,p,l){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor16",b64Data:r,screenWidth:i,screenHeight:p,dataStore:l===!0}).then(function(d){if(typeof d=="string")return d;var S=new u.STU.DataStore;return S.setId(d.id),S})},flattenColor24:function(r,i,p,l){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor24",b64Data:r,screenWidth:i,screenHeight:p,dataStore:l===!0}).then(function(d){if(typeof d=="string")return d;var S=new u.STU.DataStore;return S.setId(d.id),S})},generateSymmetricKeyAndWaitForEncryptionStatus:function(r,i,p,l){var d=u.STU.ProtocolHelper.OpDirection.OpDirection_Set,S=Q.defer(),y=h();return a[y]=S,u.STU.ProtocolHelper.waitForStatusToSend(r,u.STU.Protocol.ReportId.ReportId_EncryptionCommand,d,i,p).then(function(b){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"generateSymmetricKeyAndWaitForEncryptionStatus",protocol:r.toJSON(),intf:r.getInterface().toJSON(),timeout:l,sleepBetweenRetries:p,ticket2:y}).then(function(P){return S.promise})})},simulateEncodingFlag:function(r,i){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"simulateEncodingFlag",idProduct:r,encodingFlag:typeof obj=="undefined"?0:i})},writeImageArea:function(r,i,p,l,d,S){d=typeof d=="undefined"?25:d,S=typeof S=="undefined"?25:S;var y=u.STU.ProtocolHelper.OpDirection.OpDirection_Set;return u.STU.ProtocolHelper.waitForStatusToSend(r,u.STU.Protocol.ReportId.ReportId_StartImageDataArea,y,d,S).then(function(b){return r.setStartImageDataArea(i,p)}).then(function(b){var P=r.ImageDataBlock_maxLengthHID;return u.STU.ProtocolHelper.writeImageCommon(r,i,P,l,d,S)})},writeRomImage:function(r,i,p,l,d,S){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeRomImage",protocol:r,romStartImageData:i,maxImageBlockSize:p,imageData:l,retries:d,sleepBetweenRetries:S})}},I.prototype.Tablet=function(){var r="WacomGSS.STU.Tablet",i=null;function p(){}return p.prototype.toJSON=function(){return{id:i,scope:r}},p.prototype.Constructor=function(l,d,S){return u.STU.send({scope:r,function:"Constructor",hasIntf:typeof l!="undefined",intf:typeof l=="undefined"?null:l.toJSON(),encryptionHandler:typeof d=="undefined"||d===null?null:d.toJSON(),encryptionHandler2:typeof S=="undefined"||S===null?null:S.toJSON()}).then(function(y){return i=y.id,y})},p.prototype.attach=function(l){return u.STU.send({scope:r,id:i,function:"attach",intf:typeof l=="undefined"?null:l.toJSON()})},p.prototype.detach=function(l){return u.STU.send({scope:r,id:i,function:"detach"}).then(function(d){var S;return c(d.scope)&&c(d.id)&&(d.scope==="WacomGSS.STU.UsbInterface"?(S=new I.UsbInterface,S.id=d.id):d.scope==="WacomGSS.STU.SerialInterface"&&(S=new I.SerialInterface,S.id=d.id)),S})},p.prototype.getInformation=function(){return u.STU.send({scope:r,id:i,function:"getInformation"})},p.prototype.setClearScreen=function(){return u.STU.send({scope:r,id:i,function:"setClearScreen"})},p.prototype.isSupported=function(l){return u.STU.send({scope:r,id:i,function:"isSupported",reportId:l})},p.prototype.getProductId=function(l){return u.STU.send({scope:r,id:i,function:"getProductId"})},p.prototype.setPenDataOptionMode=function(l){return u.STU.send({scope:r,id:i,function:"setPenDataOptionMode",penDataOptionMode:l})},p.prototype.getDHprime=function(){return u.STU.send({scope:r,id:i,function:"getDHprime"})},p.prototype.startCapture=function(l){return u.STU.send({scope:r,id:i,function:"startCapture",sessionId:l})},p.prototype.setInkingMode=function(l){return u.STU.send({scope:r,id:i,function:"setInkingMode",inkingMode:l})},p.prototype.queueSetPredicateAll=function(l){return u.STU.send({scope:r,id:i,function:"queueSetPredicateAll",predicate:l})},p.prototype.endCapture=function(){return u.STU.send({scope:r,id:i,function:"endCapture"})},p.prototype.disconnect=function(){return u.STU.send({scope:r,id:i,function:"disconnect"})},p.prototype.empty=function(){return u.STU.send({scope:r,id:i,function:"empty"})},p.prototype.isConnected=function(){return u.STU.send({scope:r,id:i,function:"isConnected"})},p.prototype.supportsWrite=function(){return u.STU.send({scope:r,id:i,function:"supportsWrite"})},p.prototype.getReportCountLengths=function(){return u.STU.send({scope:r,id:i,function:"getReportCountLengths"})},p.prototype.getStatus=function(){return u.STU.send({scope:r,id:i,function:"getStatus"})},p.prototype.reset=function(){return u.STU.send({scope:r,id:i,function:"reset"})},p.prototype.getHidInformation=function(){return u.STU.send({scope:r,id:i,function:"getHidInformation"})},p.prototype.getCapability=function(){return u.STU.send({scope:r,id:i,function:"getCapability"})},p.prototype.getUid=function(){return u.STU.send({scope:r,id:i,function:"getUid"})},p.prototype.setUid=function(l){return u.STU.send({scope:r,id:i,function:"setUid",uid:l})},p.prototype.getUid2=function(){return u.STU.send({scope:r,id:i,function:"getUid2"})},p.prototype.setDefaultMode=function(l){return u.STU.send({scope:r,id:i,function:"setDefaultMode",defaultMode:l})},p.prototype.getDefaultMode=function(){return u.STU.send({scope:r,id:i,function:"getDefaultMode"})},p.prototype.getHostPublicKey=function(){return u.STU.send({scope:r,id:i,function:"getHostPublicKey"})},p.prototype.getDevicePublicKey=function(){return u.STU.send({scope:r,id:i,function:"getDevicePublicKey"})},p.prototype.setDHprime=function(l){return u.STU.send({scope:r,id:i,function:"setDHprime",prime:l})},p.prototype.getDHbase=function(){return u.STU.send({scope:r,id:i,function:"getDHbase"})},p.prototype.setDHbase=function(l){return u.STU.send({scope:r,id:i,function:"setDHbase",base})},p.prototype.setClearScreenArea=function(l){return u.STU.send({scope:r,id:i,function:"setClearScreenArea",area:l})},p.prototype.getInkingMode=function(){return u.STU.send({scope:r,id:i,function:"getInkingMode"})},p.prototype.getInkThreshold=function(){return u.STU.send({scope:r,id:i,function:"getInkThreshold"})},p.prototype.setInkThreshold=function(l){return u.STU.send({scope:r,id:i,function:"setInkThreshold",inkThreshold:l})},p.prototype.writeImage=function(l,d){var S=null;return typeof d=="string"?S=d:S=d.toJSON(),u.STU.send({scope:r,id:i,function:"writeImage",encodingMode:l,b64Data:S})},p.prototype.writeImageArea=function(l,d,S){var y=null;return typeof S=="string"?y=S:y=S.toJSON(),u.STU.send({scope:r,id:i,function:"writeImageArea",encodingMode:l,area:d,b64Data:y})},p.prototype.endImageData=function(l){return u.STU.send({scope:r,id:i,function:"endImageData"})},p.prototype.getHandwritingThicknessColor=function(){return u.STU.send({scope:r,id:i,function:"getHandwritingThicknessColor"})},p.prototype.setHandwritingThicknessColor=function(l){return u.STU.send({scope:r,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:l})},p.prototype.getHandwritingThicknessColor24=function(){return u.STU.send({scope:r,id:i,function:"getHandwritingThicknessColor24"})},p.prototype.setHandwritingThicknessColor24=function(l){return u.STU.send({scope:r,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:l})},p.prototype.getBackgroundColor=function(){return u.STU.send({scope:r,id:i,function:"getBackgroundColor"})},p.prototype.setBackgroundColor=function(l){return u.STU.send({scope:r,id:i,function:"setBackgroundColor",backgroundColor:l})},p.prototype.getBackgroundColor24=function(){return u.STU.send({scope:r,id:i,function:"getBackgroundColor24"})},p.prototype.setBackgroundColor24=function(l){return u.STU.send({scope:r,id:i,function:"setBackgroundColor24",backgroundColor24:l})},p.prototype.getHandwritingDisplayArea=function(){return u.STU.send({scope:r,id:i,function:"getHandwritingDisplayArea"})},p.prototype.setHandwritingDisplayArea=function(l){return u.STU.send({scope:r,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:l})},p.prototype.getBacklightBrightness=function(){return u.STU.send({scope:r,id:i,function:"getBacklightBrightness"})},p.prototype.setBacklightBrightness=function(l){return u.STU.send({scope:r,id:i,function:"setBacklightBrightness",backlightBrightness:l})},p.prototype.getScreenContrast=function(){return u.STU.send({scope:r,id:i,function:"getScreenContrast"})},p.prototype.setScreenContrast=function(l){return u.STU.send({scope:r,id:i,function:"setScreenContrast",screenContrast:l})},p.prototype.getPenDataOptionMode=function(){return u.STU.send({scope:r,id:i,function:"getPenDataOptionMode"})},p.prototype.getEncryptionStatus=function(){return u.STU.send({scope:r,id:i,function:"getEncryptionStatus"})},p.prototype.getEncryptionCommand=function(l){return u.STU.send({scope:r,id:i,function:"getEncryptionCommand",encryptionCommandNumber:l})},p.prototype.decrypt=function(l){return u.STU.send({scope:r,id:i,decrypt:"decrypt",data:l})},p.prototype.setReportRate=function(l){return u.STU.send({scope:r,id:i,function:"setReportRate",reportRate:l})},p.prototype.getReportRate=function(){return u.STU.send({scope:r,id:i,function:"getReportRate"})},p.prototype.setRenderingMode=function(l){return u.STU.send({scope:r,id:i,function:"setRenderingMode",renderingMode:l})},p.prototype.getRenderingMode=function(){return u.STU.send({scope:r,id:i,function:"getRenderingMode"})},p.prototype.setOperationMode=function(l){return u.STU.send({scope:r,id:i,function:"setOperationMode",operationMode:l})},p.prototype.getOperationMode=function(){return u.STU.send({scope:r,id:i,function:"getOperationMode"})},p.prototype.writeRomImage=function(l,d){return u.STU.send({scope:r,id:i,function:"writeRomImage",romStartImageData:l,imageData:d})},p.prototype.setRomImageHash=function(l,d,S){return u.STU.send({scope:r,id:i,function:"setRomImageHash",operationModeType:l,imageType:d,imageNumber:S})},p.prototype.getRomImageHash=function(){return u.STU.send({scope:r,id:i,function:"getRomImageHash"})},p.prototype.setRomImageDelete=function(l,d,S){return u.STU.send({scope:r,id:i,function:"setRomImageDelete",romImageDeleteMode:l,imageType:d,imageNumber:S})},p.prototype.getCurrentImageArea=function(){return u.STU.send({scope:r,id:i,function:"getCurrentImageArea"})},p.prototype.setRomImageDisplay=function(l,d,S){return u.STU.send({scope:r,id:i,function:"setRomImageDisplay",operationModeType:l,imageType:d,imageNumber:S})},p.prototype.getEserial=function(){return u.STU.send({scope:r,id:i,function:"getEserial"})},p}(),I.prototype.SerialInterface=function(){var r="WacomGSS.STU.SerialInterface",i="";function p(){}return p.prototype.Constructor=function(){return u.STU.send({scope:r,function:"Constructor"}).then(function(l){return i=l.id,l})},p.prototype.BaudRate_STU500=115200,p.prototype.BaudRate_STU430_530_prerelease=460800,p.prototype.BaudRate_STU430_530=3e6,p.prototype.connect=function(l,d,S){return u.STU.send({scope:r,id:i,function:"connect",fileName:l,baudRate:d,useCrc:S})},p.prototype.toJSON=function(){return{id:i,scope:r}},p.prototype.disconnect=function(){return u.STU.send({scope:r,id:i,function:"disconnect"})},p.prototype.isConnected=function(){return u.STU.send({scope:r,id:i,function:"isConnected"})},p.prototype.queueNotifyAll=function(){return u.STU.send({scope:r,id:i,function:"queueNotifyAll"})},p.prototype.queueSetPredicateAll=function(l){return u.STU.send({scope:r,id:i,function:"queueSetPredicateAll",predicate:l})},p.prototype.get=function(l){return u.STU.send({scope:r,id:i,function:"get_",length:l})},p.prototype.set=function(l){return u.STU.send({scope:r,id:i,function:"set",base64Data:l})},p.prototype.supportsWrite=function(){return u.STU.send({scope:r,id:i,function:"supportsWrite"})},p.prototype.write=function(l){return u.STU.send({scope:r,id:i,function:"write",base64Data:l})},p.prototype.getReportCountLengths=function(){return u.STU.send({scope:r,id:i,function:"getReportCountLengths"})},p.prototype.getProductId=function(){return u.STU.send({scope:r,id:i,function:"getProductId"})},p}(),I.prototype.TlsInterface=function(){var r="WacomGSS.STU.TlsInterface",i="";function p(){}return p.prototype.Constructor=function(){return u.STU.send({scope:r,function:"Constructor"}).then(function(l){return i=l.id,l})},p.prototype.ConnectOption={ConnectOption_OOB:1,ConnectOption_SSL:2},p.prototype.connect=function(l,d){return u.STU.send({scope:r,id:i,function:"connect",fileName:l,connectOption:d})},p.prototype.toJSON=function(){return{id:i,scope:r}},p.prototype.disconnect=function(){return u.STU.send({scope:r,id:i,function:"disconnect"})},p.prototype.isConnected=function(){return u.STU.send({scope:r,id:i,function:"isConnected"})},p.prototype.get=function(l){return u.STU.send({scope:r,id:i,function:"get_",length:l})},p.prototype.set=function(l){return u.STU.send({scope:r,id:i,function:"set",base64Data:l})},p.prototype.supportsWrite=function(){return u.STU.send({scope:r,id:i,function:"supportsWrite"})},p.prototype.write=function(l){return u.STU.send({scope:r,id:i,function:"write",base64Data:l})},p.prototype.getReportCountLengths=function(){return u.STU.send({scope:r,id:i,function:"getReportCountLengths"})},p.prototype.getProductId=function(){return u.STU.send({scope:r,id:i,function:"getProductId"})},p}(),I.prototype.DataStore=function(){var r="WacomGSS.STU.DataStore",i=null;function p(){}return p.prototype.setId=function(l){i=l},p.prototype.toJSON=function(){return{id:i,scope:r}},p.prototype.Constructor=function(l){return u.STU.send({scope:r,function:"Constructor",b64Data:l})},p.prototype.getData=function(){return u.STU.send({scope:r,id:i,function:"getData"})},p.prototype.getRemove=function(){return u.STU.send({scope:r,id:i,function:"getRemove"}).then(function(l){return i=null,l})},p.prototype.remove=function(){return u.STU.send({scope:r,id:i,function:"remove"}).then(function(l){return i=null,l})},p.prototype.setData=function(l){return u.STU.send({scope:r,id:i,function:"setData",b64Data:l})},p}(),I.prototype.SerialProtocol={getHeaderLength:function(){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"getHeaderLength"})},isStartReport:function(r){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"isStartReport",byte:r})},decodeHasCrc:function(r){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeHasCrc",header1:r})},decodeEncodedDataLength:function(r,i){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeEncodedDataLength",header1:r,header2:i})},calcEncodedDataLength:function(r,i){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"calcEncodedDataLength",useCrc:r,length:i})},encodeHeader:function(r,i,p){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeHeader",encodedData:r,useCrc:i,encodedDataLength:p})},encodeReport:function(r,i){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeReport",report:r,useCrc:i})},decodeData:function(r){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeData",data:r})},checkCrcAndRemove:function(r){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"checkCrcAndRemove",container:r})}},I.prototype.EncryptionHandler=function(){var r="WacomGSS.STU.EncryptionHandler",i=null,p=null,l=null,d=new Object;function S(y){l=y,this.stream=function(b){try{d[b.function](b)}catch(P){throw new Error("EncryptionHandler."+b.function+" : "+P+`
message was:
`+JSON.stringify(b))}}}return S.prototype.Constructor=function(){return i=u.STU.setStream(this),u.STU.send({scope:r,function:"Constructor",streamId:i}).then(function(y){return p=y.id,y})},S.prototype.toJSON=function(){return{id:p,scope:r}},d.reset=function(y){l.reset(),u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:null})},d.clearKeys=function(y){l.clearKeys(),u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:null})},d.requireDH=function(y){var b=l.requireDH();u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:b})},d.setDH=function(y){l.setDH(y.data.dhPrime,y.data.dhBase),u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:null})},d.generateHostPublicKey=function(y){var b=l.generateHostPublicKey();u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:b})},d.computeSharedKey=function(y){l.computeSharedKey(y.data),u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:null})},d.decrypt=function(y){var b=l.decrypt(y.data);u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:b})},S}(),I.prototype.EncryptionHandler2=function(){var r="WacomGSS.STU.EncryptionHandler2",i=null,p=null,l=null,d=new Object;function S(y){l=y,this.stream=function(b){try{d[b.function](b)}catch(P){throw new Error("EncryptionHandler2."+b.function+" : "+P+`
message was:
`+JSON.stringify(b))}}}return S.prototype.Constructor=function(){return i=u.STU.setStream(this),u.STU.send({scope:r,function:"Constructor",streamId:i}).then(function(y){return p=y.id,y})},S.prototype.toJSON=function(){return{id:p,scope:r}},d.reset=function(y){l.reset(),u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:null})},d.clearKeys=function(y){l.clearKeys(),u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:null})},d.getParameters=function(y){var b=l.getParameters(y.data.symmetricKeyType,y.data.asymmetricPaddingType,y.data.asymmetricKeyType),P=b[0],B=b[1],H=b[2];u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:{symmetricKeyType:P,asymmetricPaddingType:B,asymmetricKeyType:H}})},d.getPublicExponent=function(y){var b=l.getPublicExponent();u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:b})},d.generatePublicKey=function(y){var b=l.generatePublicKey();u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:b})},d.computeSessionKey=function(y){l.computeSessionKey(y.data),u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:null})},d.decrypt=function(y){var b=l.decrypt(y.data);u.STU.sendNoReturn({scope:r,function:"set_value",promiseId:y.promiseId,data:b})},S}(),I}();u.STU=new u.STUConstructor;var Ye={},$o=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Tn={},Pe={};let Mt;const Vo=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Pe.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Pe.getSymbolTotalCodewords=function(t){return Vo[t]};Pe.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Pe.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Mt=t};Pe.isKanjiModeEnabled=function(){return typeof Mt!="undefined"};Pe.toSJIS=function(t){return Mt(t)};var gt={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},e.from=function(o,a){if(e.isValid(o))return o;try{return t(o)}catch{return a}}})(gt);function Cn(){this.buffer=[],this.length=0}Cn.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var zo=Cn;function nt(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}nt.prototype.set=function(e,t,n,o){const a=e*this.size+t;this.data[a]=n,o&&(this.reservedBit[a]=!0)};nt.prototype.get=function(e,t){return this.data[e*this.size+t]};nt.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};nt.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var jo=nt,xn={};(function(e){const t=Pe.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const a=Math.floor(o/7)+2,s=t(o),c=s===145?26:Math.ceil((s-13)/(2*a-2))*2,h=[s-7];for(let v=1;v<a-1;v++)h[v]=h[v-1]-c;return h.push(6),h.reverse()},e.getPositions=function(o){const a=[],s=e.getRowColCoords(o),c=s.length;for(let h=0;h<c;h++)for(let v=0;v<c;v++)h===0&&v===0||h===0&&v===c-1||h===c-1&&v===0||a.push([s[h],s[v]]);return a}})(xn);var In={};const qo=Pe.getSymbolSize,Jt=7;In.getPositions=function(t){const n=qo(t);return[[0,0],[n-Jt,0],[0,n-Jt]]};var _n={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const s=a.size;let c=0,h=0,v=0,I=null,D=null;for(let _=0;_<s;_++){h=v=0,I=D=null;for(let r=0;r<s;r++){let i=a.get(_,r);i===I?h++:(h>=5&&(c+=t.N1+(h-5)),I=i,h=1),i=a.get(r,_),i===D?v++:(v>=5&&(c+=t.N1+(v-5)),D=i,v=1)}h>=5&&(c+=t.N1+(h-5)),v>=5&&(c+=t.N1+(v-5))}return c},e.getPenaltyN2=function(a){const s=a.size;let c=0;for(let h=0;h<s-1;h++)for(let v=0;v<s-1;v++){const I=a.get(h,v)+a.get(h,v+1)+a.get(h+1,v)+a.get(h+1,v+1);(I===4||I===0)&&c++}return c*t.N2},e.getPenaltyN3=function(a){const s=a.size;let c=0,h=0,v=0;for(let I=0;I<s;I++){h=v=0;for(let D=0;D<s;D++)h=h<<1&2047|a.get(I,D),D>=10&&(h===1488||h===93)&&c++,v=v<<1&2047|a.get(D,I),D>=10&&(v===1488||v===93)&&c++}return c*t.N3},e.getPenaltyN4=function(a){let s=0;const c=a.data.length;for(let v=0;v<c;v++)s+=a.data[v];return Math.abs(Math.ceil(s*100/c/5)-10)*t.N4};function n(o,a,s){switch(o){case e.Patterns.PATTERN000:return(a+s)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(a+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return a*s%2+a*s%3===0;case e.Patterns.PATTERN110:return(a*s%2+a*s%3)%2===0;case e.Patterns.PATTERN111:return(a*s%3+(a+s)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(a,s){const c=s.size;for(let h=0;h<c;h++)for(let v=0;v<c;v++)s.isReserved(v,h)||s.xor(v,h,n(a,v,h))},e.getBestMask=function(a,s){const c=Object.keys(e.Patterns).length;let h=0,v=1/0;for(let I=0;I<c;I++){s(I),e.applyMask(I,a);const D=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(I,a),D<v&&(v=D,h=I)}return h}})(_n);var mt={};const Oe=gt,ot=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],rt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];mt.getBlocksCount=function(t,n){switch(n){case Oe.L:return ot[(t-1)*4+0];case Oe.M:return ot[(t-1)*4+1];case Oe.Q:return ot[(t-1)*4+2];case Oe.H:return ot[(t-1)*4+3];default:return}};mt.getTotalCodewordsCount=function(t,n){switch(n){case Oe.L:return rt[(t-1)*4+0];case Oe.M:return rt[(t-1)*4+1];case Oe.Q:return rt[(t-1)*4+2];case Oe.H:return rt[(t-1)*4+3];default:return}};var Pn={},yt={};const Ze=new Uint8Array(512),dt=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Ze[n]=t,dt[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Ze[n]=Ze[n-255]})();yt.log=function(t){if(t<1)throw new Error("log("+t+")");return dt[t]};yt.exp=function(t){return Ze[t]};yt.mul=function(t,n){return t===0||n===0?0:Ze[dt[t]+dt[n]]};(function(e){const t=yt;e.mul=function(o,a){const s=new Uint8Array(o.length+a.length-1);for(let c=0;c<o.length;c++)for(let h=0;h<a.length;h++)s[c+h]^=t.mul(o[c],a[h]);return s},e.mod=function(o,a){let s=new Uint8Array(o);for(;s.length-a.length>=0;){const c=s[0];for(let v=0;v<a.length;v++)s[v]^=t.mul(a[v],c);let h=0;for(;h<s.length&&s[h]===0;)h++;s=s.slice(h)}return s},e.generateECPolynomial=function(o){let a=new Uint8Array([1]);for(let s=0;s<o;s++)a=e.mul(a,new Uint8Array([1,t.exp(s)]));return a}})(Pn);const Rn=Pn;function Bt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Bt.prototype.initialize=function(t){this.degree=t,this.genPoly=Rn.generateECPolynomial(this.degree)};Bt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=Rn.mod(n,this.genPoly),a=this.degree-o.length;if(a>0){const s=new Uint8Array(this.degree);return s.set(o,a),s}return o};var Ko=Bt,En={},Le={},At={};At.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Me={};const kn="[0-9]+",Wo="[A-Z $%*+\\-./:]+";let et="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";et=et.replace(/u/g,"\\u");const Jo="(?:(?![A-Z0-9 $%*+\\-./:]|"+et+`)(?:.|[\r
]))+`;Me.KANJI=new RegExp(et,"g");Me.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Me.BYTE=new RegExp(Jo,"g");Me.NUMERIC=new RegExp(kn,"g");Me.ALPHANUMERIC=new RegExp(Wo,"g");const Go=new RegExp("^"+et+"$"),Qo=new RegExp("^"+kn+"$"),Yo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Me.testKanji=function(t){return Go.test(t)};Me.testNumeric=function(t){return Qo.test(t)};Me.testAlphanumeric=function(t){return Yo.test(t)};(function(e){const t=At,n=Me;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,c){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?s.ccBits[0]:c<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function o(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(s,c){if(e.isValid(s))return s;try{return o(s)}catch{return c}}})(Le);(function(e){const t=Pe,n=mt,o=gt,a=Le,s=At,c=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,h=t.getBCHDigit(c);function v(r,i,p){for(let l=1;l<=40;l++)if(i<=e.getCapacity(l,p,r))return l}function I(r,i){return a.getCharCountIndicator(r,i)+4}function D(r,i){let p=0;return r.forEach(function(l){p+=I(l.mode,i)+l.getBitsLength()}),p}function _(r,i){for(let p=1;p<=40;p++)if(D(r,p)<=e.getCapacity(p,i,a.MIXED))return p}e.from=function(i,p){return s.isValid(i)?parseInt(i,10):p},e.getCapacity=function(i,p,l){if(!s.isValid(i))throw new Error("Invalid QR Code version");typeof l=="undefined"&&(l=a.BYTE);const d=t.getSymbolTotalCodewords(i),S=n.getTotalCodewordsCount(i,p),y=(d-S)*8;if(l===a.MIXED)return y;const b=y-I(l,i);switch(l){case a.NUMERIC:return Math.floor(b/10*3);case a.ALPHANUMERIC:return Math.floor(b/11*2);case a.KANJI:return Math.floor(b/13);case a.BYTE:default:return Math.floor(b/8)}},e.getBestVersionForData=function(i,p){let l;const d=o.from(p,o.M);if(Array.isArray(i)){if(i.length>1)return _(i,d);if(i.length===0)return 1;l=i[0]}else l=i;return v(l.mode,l.getLength(),d)},e.getEncodedBits=function(i){if(!s.isValid(i)||i<7)throw new Error("Invalid QR Code version");let p=i<<12;for(;t.getBCHDigit(p)-h>=0;)p^=c<<t.getBCHDigit(p)-h;return i<<12|p}})(En);var Dn={};const Pt=Pe,Un=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Xo=1<<14|1<<12|1<<10|1<<4|1<<1,Gt=Pt.getBCHDigit(Un);Dn.getEncodedBits=function(t,n){const o=t.bit<<3|n;let a=o<<10;for(;Pt.getBCHDigit(a)-Gt>=0;)a^=Un<<Pt.getBCHDigit(a)-Gt;return(o<<10|a)^Xo};var Mn={};const Zo=Le;function Ke(e){this.mode=Zo.NUMERIC,this.data=e.toString()}Ke.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ke.prototype.getLength=function(){return this.data.length};Ke.prototype.getBitsLength=function(){return Ke.getBitsLength(this.data.length)};Ke.prototype.write=function(t){let n,o,a;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),a=parseInt(o,10),t.put(a,10);const s=this.data.length-n;s>0&&(o=this.data.substr(n),a=parseInt(o,10),t.put(a,s*3+1))};var er=Ke;const tr=Le,wt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function We(e){this.mode=tr.ALPHANUMERIC,this.data=e}We.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};We.prototype.getLength=function(){return this.data.length};We.prototype.getBitsLength=function(){return We.getBitsLength(this.data.length)};We.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=wt.indexOf(this.data[n])*45;o+=wt.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(wt.indexOf(this.data[n]),6)};var nr=We;const or=Le;function Je(e){this.mode=or.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Je.getBitsLength=function(t){return t*8};Je.prototype.getLength=function(){return this.data.length};Je.prototype.getBitsLength=function(){return Je.getBitsLength(this.data.length)};Je.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var rr=Je;const ir=Le,ar=Pe;function Ge(e){this.mode=ir.KANJI,this.data=e}Ge.getBitsLength=function(t){return t*13};Ge.prototype.getLength=function(){return this.data.length};Ge.prototype.getBitsLength=function(){return Ge.getBitsLength(this.data.length)};Ge.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=ar.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var sr=Ge,Bn={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,o,a){var s={},c={};c[o]=0;var h=t.PriorityQueue.make();h.push(o,0);for(var v,I,D,_,r,i,p,l,d;!h.empty();){v=h.pop(),I=v.value,_=v.cost,r=n[I]||{};for(D in r)r.hasOwnProperty(D)&&(i=r[D],p=_+i,l=c[D],d=typeof c[D]=="undefined",(d||l>p)&&(c[D]=p,h.push(D,p),s[D]=I))}if(typeof a!="undefined"&&typeof c[a]=="undefined"){var S=["Could not find a path from ",o," to ",a,"."].join("");throw new Error(S)}return s},extract_shortest_path_from_predecessor_list:function(n,o){for(var a=[],s=o;s;)a.push(s),n[s],s=n[s];return a.reverse(),a},find_path:function(n,o,a){var s=t.single_source_shortest_paths(n,o,a);return t.extract_shortest_path_from_predecessor_list(s,a)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,a={},s;n=n||{};for(s in o)o.hasOwnProperty(s)&&(a[s]=o[s]);return a.queue=[],a.sorter=n.sorter||o.default_sorter,a},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var a={value:n,cost:o};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Bn);(function(e){const t=Le,n=er,o=nr,a=rr,s=sr,c=Me,h=Pe,v=Bn.exports;function I(S){return unescape(encodeURIComponent(S)).length}function D(S,y,b){const P=[];let B;for(;(B=S.exec(b))!==null;)P.push({data:B[0],index:B.index,mode:y,length:B[0].length});return P}function _(S){const y=D(c.NUMERIC,t.NUMERIC,S),b=D(c.ALPHANUMERIC,t.ALPHANUMERIC,S);let P,B;return h.isKanjiModeEnabled()?(P=D(c.BYTE,t.BYTE,S),B=D(c.KANJI,t.KANJI,S)):(P=D(c.BYTE_KANJI,t.BYTE,S),B=[]),y.concat(b,P,B).sort(function(z,F){return z.index-F.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function r(S,y){switch(y){case t.NUMERIC:return n.getBitsLength(S);case t.ALPHANUMERIC:return o.getBitsLength(S);case t.KANJI:return s.getBitsLength(S);case t.BYTE:return a.getBitsLength(S)}}function i(S){return S.reduce(function(y,b){const P=y.length-1>=0?y[y.length-1]:null;return P&&P.mode===b.mode?(y[y.length-1].data+=b.data,y):(y.push(b),y)},[])}function p(S){const y=[];for(let b=0;b<S.length;b++){const P=S[b];switch(P.mode){case t.NUMERIC:y.push([P,{data:P.data,mode:t.ALPHANUMERIC,length:P.length},{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.ALPHANUMERIC:y.push([P,{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.KANJI:y.push([P,{data:P.data,mode:t.BYTE,length:I(P.data)}]);break;case t.BYTE:y.push([{data:P.data,mode:t.BYTE,length:I(P.data)}])}}return y}function l(S,y){const b={},P={start:{}};let B=["start"];for(let H=0;H<S.length;H++){const z=S[H],F=[];for(let A=0;A<z.length;A++){const g=z[A],O=""+H+A;F.push(O),b[O]={node:g,lastCount:0},P[O]={};for(let N=0;N<B.length;N++){const j=B[N];b[j]&&b[j].node.mode===g.mode?(P[j][O]=r(b[j].lastCount+g.length,g.mode)-r(b[j].lastCount,g.mode),b[j].lastCount+=g.length):(b[j]&&(b[j].lastCount=g.length),P[j][O]=r(g.length,g.mode)+4+t.getCharCountIndicator(g.mode,y))}}B=F}for(let H=0;H<B.length;H++)P[B[H]].end=0;return{map:P,table:b}}function d(S,y){let b;const P=t.getBestModeForData(S);if(b=t.from(y,P),b!==t.BYTE&&b.bit<P.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(b)+`.
 Suggested mode is: `+t.toString(P));switch(b===t.KANJI&&!h.isKanjiModeEnabled()&&(b=t.BYTE),b){case t.NUMERIC:return new n(S);case t.ALPHANUMERIC:return new o(S);case t.KANJI:return new s(S);case t.BYTE:return new a(S)}}e.fromArray=function(y){return y.reduce(function(b,P){return typeof P=="string"?b.push(d(P,null)):P.data&&b.push(d(P.data,P.mode)),b},[])},e.fromString=function(y,b){const P=_(y,h.isKanjiModeEnabled()),B=p(P),H=l(B,b),z=v.find_path(H.map,"start","end"),F=[];for(let A=1;A<z.length-1;A++)F.push(H.table[z[A]].node);return e.fromArray(i(F))},e.rawSplit=function(y){return e.fromArray(_(y,h.isKanjiModeEnabled()))}})(Mn);const St=Pe,bt=gt,lr=zo,dr=jo,ur=xn,cr=In,Rt=_n,Et=mt,fr=Ko,ut=En,pr=Dn,hr=Le,Tt=Mn;function gr(e,t){const n=e.size,o=cr.getPositions(t);for(let a=0;a<o.length;a++){const s=o[a][0],c=o[a][1];for(let h=-1;h<=7;h++)if(!(s+h<=-1||n<=s+h))for(let v=-1;v<=7;v++)c+v<=-1||n<=c+v||(h>=0&&h<=6&&(v===0||v===6)||v>=0&&v<=6&&(h===0||h===6)||h>=2&&h<=4&&v>=2&&v<=4?e.set(s+h,c+v,!0,!0):e.set(s+h,c+v,!1,!0))}}function mr(e){const t=e.size;for(let n=8;n<t-8;n++){const o=n%2===0;e.set(n,6,o,!0),e.set(6,n,o,!0)}}function yr(e,t){const n=ur.getPositions(t);for(let o=0;o<n.length;o++){const a=n[o][0],s=n[o][1];for(let c=-2;c<=2;c++)for(let h=-2;h<=2;h++)c===-2||c===2||h===-2||h===2||c===0&&h===0?e.set(a+c,s+h,!0,!0):e.set(a+c,s+h,!1,!0)}}function Sr(e,t){const n=e.size,o=ut.getEncodedBits(t);let a,s,c;for(let h=0;h<18;h++)a=Math.floor(h/3),s=h%3+n-8-3,c=(o>>h&1)===1,e.set(a,s,c,!0),e.set(s,a,c,!0)}function Ct(e,t,n){const o=e.size,a=pr.getEncodedBits(t,n);let s,c;for(s=0;s<15;s++)c=(a>>s&1)===1,s<6?e.set(s,8,c,!0):s<8?e.set(s+1,8,c,!0):e.set(o-15+s,8,c,!0),s<8?e.set(8,o-s-1,c,!0):s<9?e.set(8,15-s-1+1,c,!0):e.set(8,15-s-1,c,!0);e.set(o-8,8,1,!0)}function vr(e,t){const n=e.size;let o=-1,a=n-1,s=7,c=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let v=0;v<2;v++)if(!e.isReserved(a,h-v)){let I=!1;c<t.length&&(I=(t[c]>>>s&1)===1),e.set(a,h-v,I),s--,s===-1&&(c++,s=7)}if(a+=o,a<0||n<=a){a-=o,o=-o;break}}}function wr(e,t,n){const o=new lr;n.forEach(function(v){o.put(v.mode.bit,4),o.put(v.getLength(),hr.getCharCountIndicator(v.mode,e)),v.write(o)});const a=St.getSymbolTotalCodewords(e),s=Et.getTotalCodewordsCount(e,t),c=(a-s)*8;for(o.getLengthInBits()+4<=c&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const h=(c-o.getLengthInBits())/8;for(let v=0;v<h;v++)o.put(v%2?17:236,8);return br(o,e,t)}function br(e,t,n){const o=St.getSymbolTotalCodewords(t),a=Et.getTotalCodewordsCount(t,n),s=o-a,c=Et.getBlocksCount(t,n),h=o%c,v=c-h,I=Math.floor(o/c),D=Math.floor(s/c),_=D+1,r=I-D,i=new fr(r);let p=0;const l=new Array(c),d=new Array(c);let S=0;const y=new Uint8Array(e.buffer);for(let z=0;z<c;z++){const F=z<v?D:_;l[z]=y.slice(p,p+F),d[z]=i.encode(l[z]),p+=F,S=Math.max(S,F)}const b=new Uint8Array(o);let P=0,B,H;for(B=0;B<S;B++)for(H=0;H<c;H++)B<l[H].length&&(b[P++]=l[H][B]);for(B=0;B<r;B++)for(H=0;H<c;H++)b[P++]=d[H][B];return b}function Tr(e,t,n,o){let a;if(Array.isArray(e))a=Tt.fromArray(e);else if(typeof e=="string"){let I=t;if(!I){const D=Tt.rawSplit(e);I=ut.getBestVersionForData(D,n)}a=Tt.fromString(e,I||40)}else throw new Error("Invalid data");const s=ut.getBestVersionForData(a,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const c=wr(t,n,a),h=St.getSymbolSize(t),v=new dr(h);return gr(v,t),mr(v),yr(v,t),Ct(v,n,0),t>=7&&Sr(v,t),vr(v,c),isNaN(o)&&(o=Rt.getBestMask(v,Ct.bind(null,v,n))),Rt.applyMask(o,v),Ct(v,n,o),{modules:v,version:t,errorCorrectionLevel:n,maskPattern:o,segments:a}}Tn.create=function(t,n){if(typeof t=="undefined"||t==="")throw new Error("No input text");let o=bt.M,a,s;return typeof n!="undefined"&&(o=bt.from(n.errorCorrectionLevel,bt.M),a=ut.from(n.version),s=Rt.from(n.maskPattern),n.toSJISFunc&&St.setToSJISFunction(n.toSJISFunc)),Tr(t,a,o,s)};var An={},Nt={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(s){return[s,s]}))),o.length===6&&o.push("F","F");const a=parseInt(o.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const a=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,s=o.width&&o.width>=21?o.width:void 0,c=o.scale||4;return{width:s,scale:s?4:c,margin:a,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,a){return a.width&&a.width>=o+a.margin*2?a.width/(o+a.margin*2):a.scale},e.getImageWidth=function(o,a){const s=e.getScale(o,a);return Math.floor((o+a.margin*2)*s)},e.qrToImageData=function(o,a,s){const c=a.modules.size,h=a.modules.data,v=e.getScale(c,s),I=Math.floor((c+s.margin*2)*v),D=s.margin*v,_=[s.color.light,s.color.dark];for(let r=0;r<I;r++)for(let i=0;i<I;i++){let p=(r*I+i)*4,l=s.color.light;if(r>=D&&i>=D&&r<I-D&&i<I-D){const d=Math.floor((r-D)/v),S=Math.floor((i-D)/v);l=_[h[d*c+S]?1:0]}o[p++]=l.r,o[p++]=l.g,o[p++]=l.b,o[p]=l.a}}})(Nt);(function(e){const t=Nt;function n(a,s,c){a.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=c,s.width=c,s.style.height=c+"px",s.style.width=c+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,c,h){let v=h,I=c;typeof v=="undefined"&&(!c||!c.getContext)&&(v=c,c=void 0),c||(I=o()),v=t.getOptions(v);const D=t.getImageWidth(s.modules.size,v),_=I.getContext("2d"),r=_.createImageData(D,D);return t.qrToImageData(r.data,s,v),n(_,I,D),_.putImageData(r,0,0),I},e.renderToDataURL=function(s,c,h){let v=h;typeof v=="undefined"&&(!c||!c.getContext)&&(v=c,c=void 0),v||(v={});const I=e.render(s,c,v),D=v.type||"image/png",_=v.rendererOpts||{};return I.toDataURL(D,_.quality)}})(An);var Nn={};const Cr=Nt;function Qt(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function xt(e,t,n){let o=e+t;return typeof n!="undefined"&&(o+=" "+n),o}function xr(e,t,n){let o="",a=0,s=!1,c=0;for(let h=0;h<e.length;h++){const v=Math.floor(h%t),I=Math.floor(h/t);!v&&!s&&(s=!0),e[h]?(c++,h>0&&v>0&&e[h-1]||(o+=s?xt("M",v+n,.5+I+n):xt("m",a,0),a=0,s=!1),v+1<t&&e[h+1]||(o+=xt("h",c),c=0)):a++}return o}Nn.render=function(t,n,o){const a=Cr.getOptions(n),s=t.modules.size,c=t.modules.data,h=s+a.margin*2,v=a.color.light.a?"<path "+Qt(a.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",I="<path "+Qt(a.color.dark,"stroke")+' d="'+xr(c,s,a.margin)+'"/>',D='viewBox="0 0 '+h+" "+h+'"',_=a.width?'width="'+a.width+'" height="'+a.width+'" ':"",r='<svg xmlns="http://www.w3.org/2000/svg" '+_+D+' shape-rendering="crispEdges">'+v+I+`</svg>
`;return typeof o=="function"&&o(null,r),r};const Ir=$o,kt=Tn,On=An,_r=Nn;function Ot(e,t,n,o,a){const s=[].slice.call(arguments,1),c=s.length,h=typeof s[c-1]=="function";if(!h&&!Ir())throw new Error("Callback required as last argument");if(h){if(c<2)throw new Error("Too few arguments provided");c===2?(a=n,n=t,t=o=void 0):c===3&&(t.getContext&&typeof a=="undefined"?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(n=t,t=o=void 0):c===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(v,I){try{const D=kt.create(n,o);v(e(D,t,o))}catch(D){I(D)}})}try{const v=kt.create(n,o);a(null,e(v,t,o))}catch(v){a(v)}}Ye.create=kt.create;Ye.toCanvas=Ot.bind(null,On.render);Ye.toDataURL=Ot.bind(null,On.renderToDataURL);Ye.toString=Ot.bind(null,function(e,t,n){return _r.render(e,n)});const Pr={id:"IdCardBack",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif",transform:"scale(0.5)",top:"-200px",left:"185px"}},Rr={class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"59px","font-size":"22pt","line-height":"23pt"}},Er={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},kr={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},Dr={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},Ur={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},Mr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},Br={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},Ar={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},Nr={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},Yt=Object.assign({name:"IdCardBack"},{__name:"IdCardBack",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async T=>{try{var x=document.getElementById("qr-img");x.src=await Ye.toDataURL(T)}catch(R){console.error(R)}},o=e,a=t;function s(){a("onPenDataSave",H)}var c=je(!1),h="Cancel",v="Clear",I="OK",D=1e3,_,r,i,p,l,d,S=-1,y,b,P,B,H,z,F;De(()=>o.details,(T,x)=>{T.sig_src&&(H=T.sig_src,y={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},B={offPressureMark:16,onPressureMark:21},ye()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function A(){console.log("DCA disconnected"),setTimeout(xe,0)}function g(T,x,R,$){this.x=T,this.y=x,this.width=R,this.height=$,this.Contains=function(C){return C.x>=this.x&&C.x<=this.x+this.width&&C.y>=this.y&&C.y<=this.y+this.height}}function O(){this.Bounds,this.Text,this.Click}function N(T,x){this.x=T,this.y=x}function j(T,x){i=document.createElement("div"),i.id="signatureWindow",i.className="active",i.style.position="relative",i.style.top=0+"px",i.style.left=0+"px",i.style.width=T+"px",i.style.height=x+"px",document.getElementById("sigPreviewContainer").appendChild(i),_=document.createElement("canvas"),_.id="myCanvas",_.height=i.offsetHeight,_.width=i.offsetWidth,_.style.zIndex=999,i.appendChild(_),r=_.getContext("2d"),console.log("canvas.addEventListener:",_.addEventListener),_.addEventListener?(_.addEventListener("click",Be,!1),console.log("onCanvasClick 0")):_.attachEvent?(_.attachEvent("onClick",Be),console.log("onCanvasClick 1")):(_.onClick=Be,console.log("onCanvasClick 2"))}function U(){var T=Q.defer();if(F!=null){var x=new u.STU.Protocol;F.setInkingMode(x.InkingMode.InkingMode_Off).then(function(R){return console.log("received: "+JSON.stringify(R)),F.endCapture()}).then(function(R){return console.log("received: "+JSON.stringify(R)),P!==null?P.remove():R}).then(function(R){return console.log("received: "+JSON.stringify(R)),P=null,F.setClearScreen()}).then(function(R){return console.log("received: "+JSON.stringify(R)),F.disconnect()}).then(function(R){console.log("received: "+JSON.stringify(R)),F=null,ae(_,r)}).then(function(R){T.resolve()}).fail(function(R){console.log("disconnect error: "+R),T.resolve()})}else T.resolve();return T.promise}window.addEventListener("beforeunload",function(T){var x="";return u.STU.close(),(T||window.event).returnValue=x,x});function G(){}G.prototype=new Error;function X(){c.value=!0,J()}function J(){var T=new u.STU.Protocol,x,R,$;u.STU.isDCAReady().then(function(C){if(!C)throw new G;return u.STU.onDCAtimeout=A,u.STU.getUsbDevices()}).then(function(C){if(C==null||C.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(C)),z=C,u.STU.isSupportedUsbDevice(z[0].idVendor,z[0].idProduct)}).then(function(C){return console.log("received: "+JSON.stringify(C)),x=new u.STU.UsbInterface,x.Constructor()}).then(function(C){return console.log("received: "+JSON.stringify(C)),x.connect(z[0],!0)}).then(function(C){return console.log("received: "+JSON.stringify(C)),F=new u.STU.Tablet,F.Constructor(x,R,$)}).then(function(C){return console.log("received: "+JSON.stringify(C)),x=null,F.getInkThreshold()}).then(function(C){return console.log("m_inkThreshold received: "+JSON.stringify(C)),B=C,F.getCapability()}).then(function(C){return console.log("m_capability received: "+JSON.stringify(C)),y=C,j(y.screenWidth,y.screenHeight),F.getInformation()}).then(function(C){return console.log("received: "+JSON.stringify(C)),F.getInkThreshold()}).then(function(C){return console.log("received: "+JSON.stringify(C)),F.getProductId()}).then(function(C){return console.log("received: "+JSON.stringify(C)),u.STU.ProtocolHelper.simulateEncodingFlag(C,y.encodingFlag)}).then(function(C){console.log("received: "+JSON.stringify(C));var V=C;if((V&T.EncodingFlag.EncodingFlag_24bit)!=0)return F.supportsWrite().then(function(Z){b=Z?T.EncodingMode.EncodingMode_24bit_Bulk:T.EncodingMode.EncodingMode_24bit});if((V&T.EncodingFlag.EncodingFlag_16bit)!=0)return F.supportsWrite().then(function(Z){b=Z?T.EncodingMode.EncodingMode_16bit_Bulk:T.EncodingMode.EncodingMode_16bit});b=T.EncodingMode.EncodingMode_1bit}).then(function(C){return F.setClearScreen()}).then(function(C){return console.log("received from setClearScreen: "+JSON.stringify(C)),C}).then(function(C){return console.log("received: "+JSON.stringify(C)),F.isSupported(T.ReportId.ReportId_PenDataOptionMode)}).then(function(C){return console.log("received: "+JSON.stringify(C)),C?F.getProductId().then(function(V){var Z=T.PenDataOptionMode.PenDataOptionMode_None;switch(V){case u.STU.ProductId.ProductId_520A:Z=T.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case u.STU.ProductId.ProductId_430:case u.STU.ProductId.ProductId_530:case u.STU.ProductId.ProductId_540:Z=T.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return F.setPenDataOptionMode(Z)}):(b=T.EncodingMode.EncodingMode_1bit,b)}).then(function(C){console.log("received: "+JSON.stringify(C)),ve();var V=_.toDataURL("image/png");return u.STU.ProtocolHelper.resizeAndFlatten(V,0,0,0,0,y.screenWidth,y.screenHeight,b,1,!1,0,!0)}).then(function(C){return P=C,console.log("received: "+JSON.stringify(C)),F.writeImage(b,C)}).then(function(C){return console.log("received: "+JSON.stringify(C)),F.setInkingMode(T.InkingMode.InkingMode_On)}).then(function(C){console.log("received: "+JSON.stringify(C));var V=new u.STU.ProtocolHelper.ReportHandler;l={x:0,y:0},p=!1,r.lineWidth=1;var Z=function(ie){me(ie,_),Ee(ie,_,r),H.push(ie)},fe=function(ie){me(ie.penData[0],_),Ee(ie.penData[0],_,r),me(ie.penData[1],_),Ee(ie.penData[1],_,r),H.push(ie.penData[0],ie.penData[1])},we=function(ie){},be=function(ie){};return H=new Array,V.onReportPenData=Z,V.onReportPenDataOption=Z,V.onReportPenDataTimeCountSequence=Z,V.onReportPenDataEncrypted=fe,V.onReportPenDataEncryptedOption=fe,V.onReportPenDataTimeCountSequenceEncrypted=Z,V.onReportDevicePublicKey=we,V.onReportEncryptionStatus=we,V.decrypt=be,V.startReporting(F,!0)}).fail(function(C){console.log(C),C instanceof G?(u.STU.Reinitialize(),setTimeout(J,D)):(alert(`promptSigDialog failed:
`+C),setTimeout(xe(),0))})}function ve(){if(d=new Array(3),d[0]=new O,d[1]=new O,d[2]=new O,z[0].idProduct!=u.STU.ProductId.ProductId_300){var T=y.screenWidth/3,x=y.screenWidth/3,R=y.screenWidth-T-x,$=y.screenHeight*6/7,C=y.screenHeight-$;d[0].Bounds=new g(0,$,R,C),d[1].Bounds=new g(R,$,T,C),d[2].Bounds=new g(R+T,$,x,C)}else{var V=y.screenWidth*3/4,Z=y.screenWidth-V,fe=y.screenHeight/3,we=y.screenHeight/3,be=y.screenHeight-fe-we;d[0].Bounds=new g(V,0,Z,be),d[1].Bounds=new g(V,be,Z,fe),d[2].Bounds=new g(V,be+fe,Z,we)}d[0].Text=I,d[1].Text=v,d[2].Text=h,d[0].Click=re,d[1].Click=ee,d[2].Click=k,ae(_,r),ge()}function ge(){r.save(),r.setTransform(1,0,0,1,0,0),r.beginPath(),r.lineWidth=1,r.strokeStyle="black",r.font="30px Arial";for(var T=0;T<d.length;++T){r.fillStyle="lightgrey",r.fillRect(d[T].Bounds.x,d[T].Bounds.y,d[T].Bounds.width,d[T].Bounds.height),r.fillStyle="black",r.rect(d[T].Bounds.x,d[T].Bounds.y,d[T].Bounds.width,d[T].Bounds.height);var x=d[T].Bounds.x+(d[T].Bounds.width/2-r.measureText(d[T].Text).width/2),R;z[0].idProduct==u.STU.ProductId.ProductId_300?R=28:z[0].idProduct==u.STU.ProductId.ProductId_430?R=26:R=40,r.fillText(d[T].Text,x,d[T].Bounds.y+R)}r.stroke(),r.closePath(),r.restore()}function ne(){ae(_,r),ge(),H=new Array,F.writeImage(b,P)}function re(){console.log("btnOk_Click: ",this),ye(),setTimeout(xe,0)}function k(){setTimeout(xe,0)}function ee(){console.log("clear!"),ne()}function he(T,x){return Math.pow(T.x-x.x,2)+Math.pow(T.y-x.y,2)}function ae(T,x){x.save(),x.setTransform(1,0,0,1,0,0),x.fillStyle="white",x.fillRect(0,0,T.width,T.height),x.restore()}function le(T,x){x.save(),x.setTransform(1,0,0,1,0,0),x.fillStyle="#ffffff00",x.fillRect(0,0,T.width,T.height),x.restore()}function me(T,x){var R={};R.x=Math.round(x.width*T.x/y.tabletMaxX),R.y=Math.round(x.height*T.y/y.tabletMaxY);for(var $=p?!(T.pressure<=B.offPressureMark):T.pressure>B.onPressureMark,C=-1,V=0;V<d.length;++V)if(d[V].Bounds.Contains(R)){C=V;break}return p&&!$?(C!=-1&&S===C&&d[C].Click(),S=-1):C!=-1&&!p&&$&&(S=C),C==-1}function Ee(T,x,R){var $={};$.x=Math.round(x.width*T.x/y.tabletMaxX),$.y=Math.round(x.height*T.y/y.tabletMaxY);var C=p?!(T.pressure<=B.offPressureMark):T.pressure>B.onPressureMark;!p&&C&&(l=$),(C&&10<he(l,$)||p&&!C)&&(R.beginPath(),R.moveTo(l.x,l.y),R.lineTo($.x,$.y),R.stroke(),R.closePath(),l=$),p=C}function ye(){var T=document.getElementById("signatureImage"),x=document.createElement("canvas");x.id="signatureCanvas",x.height=T.height,x.width=T.width;var R=x.getContext("2d");le(x,R),R.lineWidth="2.5",R.strokeStyle="black",l={x:0,y:0},p=!1;for(var $=0;$<H.length;$++)Ee(H[$],x,R);s(),T.src=x.toDataURL("image/png")}function xe(){c.value=!1,u.STU.onDCAtimeout=null,U(),document.getElementById("sigPreviewContainer").removeChild(i)}function Be(T){for(var x=T.pageX-i.offsetLeft,R=T.pageY-i.offsetTop,$=0;$<d.length;$++)if(d[$].Bounds.Contains(new N(x,R))){d[$].Click();break}}return(T,x)=>(ke(),Ue(ht,null,[M("div",Pr,[M("div",Rr,K(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+K(e.details.address_res_city)+", "+K(e.details.address_res_zip_code)+", "+K(e.details.address_res_province)+", "+K(e.details.address_res_country),1),x[4]||(x[4]=M("div",{style:{position:"absolute",top:"242px",left:"347px"}},[M("img",{id:"qr-img",style:{height:"300px",width:"300px"},alt:""})],-1)),M("div",Er,K(e.details.gender),1),M("div",kr,K(e.details.date_of_birth),1),M("div",Dr,K(e.details.blood_type),1),M("div",Ur,K(e.details.contact_number),1),M("div",Mr,K(e.details.emergency_name),1),M("div",Br,K(e.details.emergency_number),1),M("div",Ar,K(e.details.date_issued_formatted),1),M("div",Nr,K(e.details.date_expire_formatted),1),M("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:x[0]||(x[0]=R=>X())},x[3]||(x[3]=[M("img",{id:"signatureImage",class:"signatureImage",src:bn,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,-1)]))]),L(at,{modelValue:yn(c),"onUpdate:modelValue":x[2]||(x[2]=R=>Sn(c)?c.value=R:c=R),"backdrop-filter":"sepia(90%)",persistent:""},{default:te(()=>[L(lt,null,{default:te(()=>[L(qe,{class:"row items-center q-pb-none text-h6"},{default:te(()=>x[5]||(x[5]=[Re(" Signature ")])),_:1,__:[5]}),L(qe,null,{default:te(()=>[x[6]||(x[6]=M("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1)),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:x[1]||(x[1]=R=>re())}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:ee}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:k})]),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"])],64))}});const Or={id:"IdCardBackV2",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif"}},Fr={class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"59px","font-size":"22pt","line-height":"23pt","z-index":"9999"}},Lr={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},Hr={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},$r={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},Vr={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},zr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},jr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},qr={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},Kr={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},Xt=Object.assign({name:"IdCardBack"},{__name:"IdCardBackV2",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async T=>{try{var x=document.getElementById("qr-img-v2");x.src=await Ye.toDataURL(T)}catch(R){console.error(R)}},o=e,a=t;function s(){a("onPenDataSave",H)}var c=je(!1),h="Cancel",v="Clear",I="OK",D=1e3,_,r,i,p,l,d,S=-1,y,b,P,B,H,z,F;De(()=>o.details,(T,x)=>{T.sig_src&&(H=T.sig_src,y={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},B={offPressureMark:16,onPressureMark:21},ye()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function A(){console.log("DCA disconnected"),setTimeout(xe,0)}function g(T,x,R,$){this.x=T,this.y=x,this.width=R,this.height=$,this.Contains=function(C){return C.x>=this.x&&C.x<=this.x+this.width&&C.y>=this.y&&C.y<=this.y+this.height}}function O(){this.Bounds,this.Text,this.Click}function N(T,x){this.x=T,this.y=x}function j(T,x){i=document.createElement("div"),i.id="signatureWindow",i.className="active",i.style.position="relative",i.style.top=0+"px",i.style.left=0+"px",i.style.width=T+"px",i.style.height=x+"px",document.getElementById("sigPreviewContainer").appendChild(i),_=document.createElement("canvas"),_.id="myCanvas",_.height=i.offsetHeight,_.width=i.offsetWidth,_.style.zIndex=999,i.appendChild(_),r=_.getContext("2d"),console.log("canvas.addEventListener:",_.addEventListener),_.addEventListener?(_.addEventListener("click",Be,!1),console.log("onCanvasClick 0")):_.attachEvent?(_.attachEvent("onClick",Be),console.log("onCanvasClick 1")):(_.onClick=Be,console.log("onCanvasClick 2"))}function U(){var T=Q.defer();if(F!=null){var x=new u.STU.Protocol;F.setInkingMode(x.InkingMode.InkingMode_Off).then(function(R){return console.log("received: "+JSON.stringify(R)),F.endCapture()}).then(function(R){return console.log("received: "+JSON.stringify(R)),P!==null?P.remove():R}).then(function(R){return console.log("received: "+JSON.stringify(R)),P=null,F.setClearScreen()}).then(function(R){return console.log("received: "+JSON.stringify(R)),F.disconnect()}).then(function(R){console.log("received: "+JSON.stringify(R)),F=null,ae(_,r)}).then(function(R){T.resolve()}).fail(function(R){console.log("disconnect error: "+R),T.resolve()})}else T.resolve();return T.promise}window.addEventListener("beforeunload",function(T){var x="";return u.STU.close(),(T||window.event).returnValue=x,x});function G(){}G.prototype=new Error;function X(){c.value=!0,J()}function J(){var T=new u.STU.Protocol,x,R,$;u.STU.isDCAReady().then(function(C){if(!C)throw new G;return u.STU.onDCAtimeout=A,u.STU.getUsbDevices()}).then(function(C){if(C==null||C.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(C)),z=C,u.STU.isSupportedUsbDevice(z[0].idVendor,z[0].idProduct)}).then(function(C){return console.log("received: "+JSON.stringify(C)),x=new u.STU.UsbInterface,x.Constructor()}).then(function(C){return console.log("received: "+JSON.stringify(C)),x.connect(z[0],!0)}).then(function(C){return console.log("received: "+JSON.stringify(C)),F=new u.STU.Tablet,F.Constructor(x,R,$)}).then(function(C){return console.log("received: "+JSON.stringify(C)),x=null,F.getInkThreshold()}).then(function(C){return console.log("m_inkThreshold received: "+JSON.stringify(C)),B=C,F.getCapability()}).then(function(C){return console.log("m_capability received: "+JSON.stringify(C)),y=C,j(y.screenWidth,y.screenHeight),F.getInformation()}).then(function(C){return console.log("received: "+JSON.stringify(C)),F.getInkThreshold()}).then(function(C){return console.log("received: "+JSON.stringify(C)),F.getProductId()}).then(function(C){return console.log("received: "+JSON.stringify(C)),u.STU.ProtocolHelper.simulateEncodingFlag(C,y.encodingFlag)}).then(function(C){console.log("received: "+JSON.stringify(C));var V=C;if((V&T.EncodingFlag.EncodingFlag_24bit)!=0)return F.supportsWrite().then(function(Z){b=Z?T.EncodingMode.EncodingMode_24bit_Bulk:T.EncodingMode.EncodingMode_24bit});if((V&T.EncodingFlag.EncodingFlag_16bit)!=0)return F.supportsWrite().then(function(Z){b=Z?T.EncodingMode.EncodingMode_16bit_Bulk:T.EncodingMode.EncodingMode_16bit});b=T.EncodingMode.EncodingMode_1bit}).then(function(C){return F.setClearScreen()}).then(function(C){return console.log("received from setClearScreen: "+JSON.stringify(C)),C}).then(function(C){return console.log("received: "+JSON.stringify(C)),F.isSupported(T.ReportId.ReportId_PenDataOptionMode)}).then(function(C){return console.log("received: "+JSON.stringify(C)),C?F.getProductId().then(function(V){var Z=T.PenDataOptionMode.PenDataOptionMode_None;switch(V){case u.STU.ProductId.ProductId_520A:Z=T.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case u.STU.ProductId.ProductId_430:case u.STU.ProductId.ProductId_530:case u.STU.ProductId.ProductId_540:Z=T.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return F.setPenDataOptionMode(Z)}):(b=T.EncodingMode.EncodingMode_1bit,b)}).then(function(C){console.log("received: "+JSON.stringify(C)),ve();var V=_.toDataURL("image/png");return u.STU.ProtocolHelper.resizeAndFlatten(V,0,0,0,0,y.screenWidth,y.screenHeight,b,1,!1,0,!0)}).then(function(C){return P=C,console.log("received: "+JSON.stringify(C)),F.writeImage(b,C)}).then(function(C){return console.log("received: "+JSON.stringify(C)),F.setInkingMode(T.InkingMode.InkingMode_On)}).then(function(C){console.log("received: "+JSON.stringify(C));var V=new u.STU.ProtocolHelper.ReportHandler;l={x:0,y:0},p=!1,r.lineWidth=1;var Z=function(ie){me(ie,_),Ee(ie,_,r),H.push(ie)},fe=function(ie){me(ie.penData[0],_),Ee(ie.penData[0],_,r),me(ie.penData[1],_),Ee(ie.penData[1],_,r),H.push(ie.penData[0],ie.penData[1])},we=function(ie){},be=function(ie){};return H=new Array,V.onReportPenData=Z,V.onReportPenDataOption=Z,V.onReportPenDataTimeCountSequence=Z,V.onReportPenDataEncrypted=fe,V.onReportPenDataEncryptedOption=fe,V.onReportPenDataTimeCountSequenceEncrypted=Z,V.onReportDevicePublicKey=we,V.onReportEncryptionStatus=we,V.decrypt=be,V.startReporting(F,!0)}).fail(function(C){console.log(C),C instanceof G?(u.STU.Reinitialize(),setTimeout(J,D)):(alert(`promptSigDialog failed:
`+C),setTimeout(xe(),0))})}function ve(){if(d=new Array(3),d[0]=new O,d[1]=new O,d[2]=new O,z[0].idProduct!=u.STU.ProductId.ProductId_300){var T=y.screenWidth/3,x=y.screenWidth/3,R=y.screenWidth-T-x,$=y.screenHeight*6/7,C=y.screenHeight-$;d[0].Bounds=new g(0,$,R,C),d[1].Bounds=new g(R,$,T,C),d[2].Bounds=new g(R+T,$,x,C)}else{var V=y.screenWidth*3/4,Z=y.screenWidth-V,fe=y.screenHeight/3,we=y.screenHeight/3,be=y.screenHeight-fe-we;d[0].Bounds=new g(V,0,Z,be),d[1].Bounds=new g(V,be,Z,fe),d[2].Bounds=new g(V,be+fe,Z,we)}d[0].Text=I,d[1].Text=v,d[2].Text=h,d[0].Click=re,d[1].Click=ee,d[2].Click=k,ae(_,r),ge()}function ge(){r.save(),r.setTransform(1,0,0,1,0,0),r.beginPath(),r.lineWidth=1,r.strokeStyle="black",r.font="30px Arial";for(var T=0;T<d.length;++T){r.fillStyle="lightgrey",r.fillRect(d[T].Bounds.x,d[T].Bounds.y,d[T].Bounds.width,d[T].Bounds.height),r.fillStyle="black",r.rect(d[T].Bounds.x,d[T].Bounds.y,d[T].Bounds.width,d[T].Bounds.height);var x=d[T].Bounds.x+(d[T].Bounds.width/2-r.measureText(d[T].Text).width/2),R;z[0].idProduct==u.STU.ProductId.ProductId_300?R=28:z[0].idProduct==u.STU.ProductId.ProductId_430?R=26:R=40,r.fillText(d[T].Text,x,d[T].Bounds.y+R)}r.stroke(),r.closePath(),r.restore()}function ne(){ae(_,r),ge(),H=new Array,F.writeImage(b,P)}function re(){console.log("btnOk_Click: ",this),ye(),setTimeout(xe,0)}function k(){setTimeout(xe,0)}function ee(){console.log("clear!"),ne()}function he(T,x){return Math.pow(T.x-x.x,2)+Math.pow(T.y-x.y,2)}function ae(T,x){x.save(),x.setTransform(1,0,0,1,0,0),x.fillStyle="white",x.fillRect(0,0,T.width,T.height),x.restore()}function le(T,x){x.save(),x.setTransform(1,0,0,1,0,0),x.fillStyle="#ffffff00",x.fillRect(0,0,T.width,T.height),x.restore()}function me(T,x){var R={};R.x=Math.round(x.width*T.x/y.tabletMaxX),R.y=Math.round(x.height*T.y/y.tabletMaxY);for(var $=p?!(T.pressure<=B.offPressureMark):T.pressure>B.onPressureMark,C=-1,V=0;V<d.length;++V)if(d[V].Bounds.Contains(R)){C=V;break}return p&&!$?(C!=-1&&S===C&&d[C].Click(),S=-1):C!=-1&&!p&&$&&(S=C),C==-1}function Ee(T,x,R){var $={};$.x=Math.round(x.width*T.x/y.tabletMaxX),$.y=Math.round(x.height*T.y/y.tabletMaxY);var C=p?!(T.pressure<=B.offPressureMark):T.pressure>B.onPressureMark;!p&&C&&(l=$),(C&&10<he(l,$)||p&&!C)&&(R.beginPath(),R.moveTo(l.x,l.y),R.lineTo($.x,$.y),R.stroke(),R.closePath(),l=$),p=C}function ye(){var T=document.getElementById("signatureImageV2"),x=document.createElement("canvas");x.id="signatureCanvas",x.height=T.height,x.width=T.width;var R=x.getContext("2d");le(x,R),R.lineWidth="2.5",R.strokeStyle="black",l={x:0,y:0},p=!1;for(var $=0;$<H.length;$++)Ee(H[$],x,R);s(),T.src=x.toDataURL("image/png")}function xe(){c.value=!1,u.STU.onDCAtimeout=null,U(),document.getElementById("sigPreviewContainer").removeChild(i)}function Be(T){for(var x=T.pageX-i.offsetLeft,R=T.pageY-i.offsetTop,$=0;$<d.length;$++)if(d[$].Bounds.Contains(new N(x,R))){d[$].Click();break}}return(T,x)=>(ke(),Ue(ht,null,[M("div",Or,[M("div",Fr,K(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+K(e.details.address_res_city)+", "+K(e.details.address_res_zip_code)+", "+K(e.details.address_res_province)+", "+K(e.details.address_res_country),1),x[4]||(x[4]=M("div",{style:{position:"absolute",top:"242px",left:"347px"}},[M("img",{id:"qr-img-v2",style:{height:"300px",width:"300px"},alt:""})],-1)),M("div",Lr,K(e.details.gender),1),M("div",Hr,K(e.details.date_of_birth),1),M("div",$r,K(e.details.blood_type),1),M("div",Vr,K(e.details.contact_number),1),M("div",zr,K(e.details.emergency_name),1),M("div",jr,K(e.details.emergency_number),1),M("div",qr,K(e.details.date_issued_formatted),1),M("div",Kr,K(e.details.date_expire_formatted),1),M("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:x[0]||(x[0]=R=>X())},x[3]||(x[3]=[M("img",{id:"signatureImageV2",class:"signatureImage",src:bn,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,-1)]))]),L(at,{modelValue:yn(c),"onUpdate:modelValue":x[2]||(x[2]=R=>Sn(c)?c.value=R:c=R),"backdrop-filter":"sepia(90%)",persistent:""},{default:te(()=>[L(lt,null,{default:te(()=>[L(qe,{class:"row items-center q-pb-none text-h6"},{default:te(()=>x[5]||(x[5]=[Re(" Signature ")])),_:1,__:[5]}),L(qe,null,{default:te(()=>[x[6]||(x[6]=M("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1)),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:x[1]||(x[1]=R=>re())}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:ee}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:k})]),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"])],64))}});var Zt=Qe({name:"QCardActions",props:{...yo,vertical:Boolean},setup(e,{slots:t}){const n=So(e),o=Se(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>Ae("div",{class:o.value},tt(t.default))}});function en(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var tn=vo({name:"close-popup",beforeMount(e,{value:t}){const n={depth:en(t),handler(o){n.depth!==0&&setTimeout(()=>{const a=ao(e);a!==void 0&&so(a,o,n.depth)})},handlerKey(o){wo(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=en(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var Wr=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n};const Jr={props:{image:{type:String,default:""},accept:{type:String,default:"image/*"},placeholderSvg:{type:String,default:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let e=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},methods:{drawRoundedRect(e,t,n,o,a,s){if(s===0)e.rect(t,n,o,a);else{const c=o-s,h=a-s;e.translate(t,n),e.arc(s,s,s,Math.PI,Math.PI*1.5),e.lineTo(c,0),e.arc(c,s,s,Math.PI*1.5,Math.PI*2),e.lineTo(o,h),e.arc(c,h,s,Math.PI*2,Math.PI*.5),e.lineTo(s,a),e.arc(s,h,s,Math.PI*.5,Math.PI),e.translate(-t,-n)}},svgToImage(e){let t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),o=(self.URL||self.webkitURL||self).createObjectURL(t),a=new Image;return a.src=o,a},setState(e){var t=Math.ceil(1),n=Math.floor(1e4);this.state=e,this.state.cnt="HELLO"+Math.floor(Math.random()*(n-t))+t},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let e=this.borderRadius;const t=this.getDimensions(),n=t.border,o=t.canvas.height,a=t.canvas.width;e=Math.max(e,0),e=Math.min(e,a/2-n,o/2-n),this.context.beginPath(),this.drawRoundedRect(this.context,n,n,a-n*2,o-n*2,e),this.context.rect(a,0,-a,o),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+this.border*2,height:this.height+this.border*2}}},onDrop(e){if(e=e||window.event,e.stopPropagation(),e.preventDefault(),e.dataTransfer&&e.dataTransfer.files.length){const t=new FileReader,n=e.dataTransfer.files[0];this.changed=!0,t.onload=o=>this.loadImage(o.target.result),t.readAsDataURL(n)}},onDragStart(e){e=e||window.event,e.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let t=document,n=!1,o=s=>{this.onDragEnd(s),!n&&s.targetTouches&&e.target.click(),t.removeEventListener("mouseup",o),t.removeEventListener("mousemove",a),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",a)},a=s=>{n=!0,this.onMouseMove(s)};t.addEventListener("mouseup",o),t.addEventListener("mousemove",a),t.addEventListener("touchend",o),t.addEventListener("touchmove",a)},onDragEnd(e){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(e){if(e=e||window.event,this.state.drag===!1)return;this.dragged=!0,this.changed=!0;let t=this.state.image;const n=t.x,o=t.y,a=e.targetTouches?e.targetTouches[0].pageX:e.clientX,s=e.targetTouches?e.targetTouches[0].pageY:e.clientY,c={mx:a,my:s,image:t};if(this.state.mx&&this.state.my){const h=(this.state.mx-a)/this.scale,v=(this.state.my-s)/this.scale;t.y=this.getBoundedY(o-v,this.scale),t.x=this.getBoundedX(n-h,this.scale)}this.state.mx=c.mx,this.state.my=c.my,this.state.image=t},replaceImageInBounds(){let e=this.state.image;e.y=this.getBoundedY(e.y,this.scale),e.x=this.getBoundedX(e.x,this.scale)},loadImage(e){let t=new Image,n=this;t.onload=()=>{let o=n.getInitialSize(t.width,t.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=t,n.state.image.width=o.width,n.state.image.height=o.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,this.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},t.onerror=o=>console.log("error loading image: ",o),this.isDataURL(e)||(t.crossOrigin="anonymous"),t.src=e},getInitialSize(e,t){let n,o;const a=this.getDimensions(),s=a.height/a.width,c=t/e;return s>c?(n=this.getDimensions().height,o=e*(n/t)):(o=this.getDimensions().width,n=t*(o/e)),{height:n,width:o}},isDataURL(e){return e===null?!1:!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX(e,t){var n=this.state.image,o=this.getDimensions();let a=Math.abs(n.width*Math.cos(this.rotationRadian))+Math.abs(n.height*Math.sin(this.rotationRadian)),s=Math.floor((a-o.width/t)/2);return s=Math.max(0,s),Math.max(-s,Math.min(e,s))},getBoundedY(e,t){var n=this.state.image,o=this.getDimensions();let a=Math.abs(n.width*Math.sin(this.rotationRadian))+Math.abs(n.height*Math.cos(this.rotationRadian)),s=Math.floor((a-o.height/t)/2);return s=Math.max(0,s),Math.max(-s,Math.min(e,s))},paintImage(e,t,n){if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.globalCompositeOperation="destination-over";let a=this.getDimensions();e.translate(a.canvas.width/2,a.canvas.height/2),e.rotate(this.rotationRadian),e.translate(-a.canvas.width/2,-a.canvas.height/2),e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}},transformDataWithRotation(e,t){let n=-this.rotationRadian,o=e*Math.cos(n)-t*Math.sin(n),a=e*Math.sin(n)+t*Math.cos(n);return[o,a]},calculatePosition(e,t){e=e||this.state.image;var n=this.getDimensions();let o=e.width*this.scale,a=e.height*this.scale;var s=(o-n.width)/2,c=(a-n.height)/2,h=e.x*this.scale,v=e.y*this.scale;return[h,v]=this.transformDataWithRotation(h,v),h+=t-s,v+=t-c,{x:h,y:v,height:a,width:o}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;const n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t.resource,-e.x,-e.y),n},getImageScaled(){const{width:e,height:t}=this.getDimensions(),n=document.createElement("canvas");return n.width=e,n.height=t,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged(){return this.changed},getCroppingRect(){const e=this.getDimensions(),t={x:e.border,y:e.border,width:e.width,height:e.height},n=this.calculatePosition(this.state.image,e.border);return{x:(t.x-n.x)/n.width,y:(t.y-n.y)/n.height,width:t.width/n.width,height:t.height/n.height}},clicked(e){this.dragged===!0?this.dragged=!1:this.$refs.input.click()},fileSelected(e){var t=e.target.files||e.dataTransfer.files;if(this.$emit("select-file",t),!!t.length){var n=new FileReader;this.changed=!0,n.onload=o=>this.loadImage(o.target.result),n.readAsDataURL(t[0])}},resetImage(){let e=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),e.imageLoaded=!1,this.$emit("imageLoaded",e.imageLoaded),e.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},watch:{state:{handler(e,t){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}},Gr=["width","height"],Qr=["accept"];function Yr(e,t,n,o,a,s){return ke(),Ue("div",null,[M("canvas",{width:s.canvasWidth,height:s.canvasHeight,class:"cursorPointer",id:"avatarEditorCanvas",ref:"avatarEditorCanvas",onDragover:t[0]||(t[0]=vn(()=>{},["prevent"])),onDrop:t[1]||(t[1]=(...c)=>s.onDrop&&s.onDrop(...c)),onMousedown:t[2]||(t[2]=(...c)=>s.onDragStart&&s.onDragStart(...c)),onTouchstart:t[3]||(t[3]=(...c)=>s.onDragStart&&s.onDragStart(...c)),onClick:t[4]||(t[4]=(...c)=>s.clicked&&s.clicked(...c))},null,40,Gr),M("input",{type:"file",ref:"input",accept:n.accept,onChange:t[5]||(t[5]=(...c)=>s.fileSelected&&s.fileSelected(...c)),style:{display:"none"}},null,40,Qr)])}var Xr=Wr(Jr,[["render",Yr]]);const Zr={id:"photoGetterContainer"},ei={id:"uploadedPhotoEditor",style:{width:"250px",height:"188px",overflow:"hidden",display:"relative","text-align":"center"}},ti=["hidden"],ni={class:"q-mt-sm"},oi={id:"uploadForm",enctype:"multipart/form-data"},nn=Object.assign({name:"PhotoGetter",components:{VueAvatar:Xr},data(){return{imageIsLoading:"loaded",uploadDialog:!1,prompt:!1,selectedCamDevice:null,camDevices:[],player:null,rotation:0,scale:1,borderRadius:0,imgSrc:null}},watch:{"selected_employee_data.employees_id"(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto().then(()=>{})}))},prompt(e,t){e||window.stream&&window.stream.getTracks().forEach(n=>{n.stop()})},selectedCamDevice(e){this.getStream()}},methods:{imageLoaded(){this.imageIsLoading="loaded"},async getPhoto(){await this.$api.post("http://192.168.50.51:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.selected_employee_data.employees_id}).then(({data:e})=>{this.$refs.uploadedPhotoRef.src=e,e||(this.imageIsLoading="loaded")}).catch(e=>{console.error(e)})},uploadImage(){this.imageIsLoading="loading";var e=document.getElementById("uploadForm"),t=new FormData(e);t.append("employees_id",this.selected_employee_data.employees_id),this.$api.post("http://192.168.50.51:8081/id_photo_upload.php",t,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:n})=>{this.getPhoto(),this.$emit("imageCaptured",t),this.uploadDialog=!this.uploadDialog,this.imageIsLoading="loaded"}).catch(n=>{console.error(n)})},saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();const n=t.toDataURL("image/jpeg",1),o=document.getElementById("uploadedPhoto");o.src=n;const a=document.getElementById("canvasCapture");a.getContext("2d").drawImage(o,0,0,a.width,a.height),this.$emit("imageCaptured",n),this.uploadDialog=!this.uploadDialog},onImageReady:function(){this.scale=1,this.rotation=0},uploadPhoto(e){const t=document.getElementById("uploadPhotoInput");var n=document.getElementById("uploadedPhoto");t.files&&t.files[0]&&(n.onload=()=>{URL.revokeObjectURL(n.src),document.getElementById("uploadedPhotoEditor");const o=document.getElementById("canvasCapture");o.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);const s=o.toDataURL("image/jpeg",1);this.$emit("imageCaptured",s)},n.src=URL.createObjectURL(t.files[0]))},promptDialog(){this.camDevices=[],this.getDevices().then(this.gotDevices),this.prompt=!this.prompt,this.$nextTick(()=>{this.player=document.getElementById("player");const e=document.getElementById("canvasCapture"),t=e.getContext("2d");document.getElementById("capture").addEventListener("click",()=>{t.drawImage(this.player,0,0,e.width,e.height);const o=e.toDataURL("image/jpeg",1),a=document.getElementById("uploadedPhoto");a.src=o,this.prompt=!this.prompt,this.$emit("imageCaptured",o),window.stream&&window.stream.getTracks().forEach(s=>{s.stop()})}),this.getStream()})},getStream(){window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e=this.selectedCamDevice.value,t={video:{deviceId:e?{exact:e}:void 0}};return navigator.mediaDevices.getUserMedia(t).then(this.gotStream)},gotStream(e){window.stream=e,this.player.srcObject=e},async getDevices(){return await navigator.mediaDevices.enumerateDevices()},async gotDevices(e){window.deviceInfos=e;for(const t of e){const n={label:"",value:""};n.value=t.deviceId,t.kind==="videoinput"&&(n.label=t.label||`Camera ${videoSelect.length+1}`,this.camDevices.push(n))}this.selectedCamDevice==null&&(this.selectedCamDevice=this.camDevices[0])}},created(){}},{__name:"PhotoGetter",props:{selected_employee_data:{type:Object}},emits:["imageCaptured"],setup(e){return(t,n)=>(ke(),Ue(ht,null,[M("div",Zr,[M("div",ei,[M("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageLoaded()),id:"uploadedPhoto",ref:"uploadedPhotoRef",style:{transform:"scale(1)",width:"250px !important"}},null,40,ti),L(Ut,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),n[6]||(n[6]=M("canvas",{hidden:"",id:"canvasCapture",width:"250px",height:"188px"},null,-1))]),M("div",ni,[L(_e,{unelevated:"",icon:"file_upload",onClick:n[1]||(n[1]=o=>t.uploadDialog=!t.uploadDialog),disable:!e.selected_employee_data.employees_id},{default:te(()=>n[7]||(n[7]=[Re("Upload")])),_:1,__:[7]},8,["disable"]),bo(t.$slots,"buttons")]),L(at,{modelValue:t.prompt,"onUpdate:modelValue":n[3]||(n[3]=o=>t.prompt=o),persistent:""},{default:te(()=>[L(lt,{style:{"min-width":"1500px","text-align":"center"}},{default:te(()=>[L(qe,{class:"q-pt-none q-ma-lg"},{default:te(()=>[L(_t,{modelValue:t.selectedCamDevice,"onUpdate:modelValue":n[2]||(n[2]=o=>t.selectedCamDevice=o),options:t.camDevices,label:"Device"},null,8,["modelValue","options"]),n[9]||(n[9]=M("video",{id:"player",autoplay:"",style:{width:"1000px"}},null,-1)),n[10]||(n[10]=M("br",null,null,-1)),L(_e,{id:"capture"},{default:te(()=>n[8]||(n[8]=[Re("Capture")])),_:1,__:[8]})]),_:1,__:[9,10]}),L(Zt,{align:"right",class:"text-primary"},{default:te(()=>[zt(L(_e,{flat:"",label:"Cancel"},null,512),[[tn]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),L(at,{modelValue:t.uploadDialog,"onUpdate:modelValue":n[5]||(n[5]=o=>t.uploadDialog=o),persistent:""},{default:te(()=>[L(lt,{style:{"_min-width":"1500px","text-align":"center"}},{default:te(()=>[L(qe,{class:"q-pt-none q-ma-lg"},{default:te(()=>[M("form",oi,[n[11]||(n[11]=M("input",{type:"file",id:"fileInput",name:"image",accept:"image/jpeg"},null,-1)),M("button",{type:"button",onClick:n[4]||(n[4]=o=>t.uploadImage())},"Upload")])]),_:1}),L(Zt,{align:"right",class:"text-primary"},{default:te(()=>[zt(L(_e,{flat:"",label:"Cancel"},null,512),[[tn]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),ri={style:{position:"relative",display:"inline"},ref:"clickBox"},ii=["hidden"],ai={style:{"font-size":"12pt"}},si={style:{"font-size":"12pt"}},li={style:{"font-size":"12pt"}},on=Object.assign({name:"PhotoAdjuster",data:function(){return{displayModal:!1,photoFormat:this.photoProps,photoFormatDefault:Object.assign({},this.photoProps),interval:null,count:0,horizontalDir:null}},methods:{mousedown(e){this.horizontalDir=e,this.increment(),this.interval=setInterval(this.increment,100)},mouseup(){clearInterval(this.interval)},increment(){this.horizontalDir=="left"?this.photoFormat.left+=1:this.photoFormat.left-=1},promptDialog(){this.displayModal=!this.displayModal},reset(){this.photoFormat.top=this.photoFormatDefault.top,this.photoFormat.left=this.photoFormatDefault.left,this.photoFormat.width=this.photoFormatDefault.width}}},{__name:"PhotoAdjuster",props:{photoProps:{type:Object,required:!0},selected_employee_data:{type:Object}},setup(e){return(t,n)=>(ke(),Ue("div",ri,[L(_e,{unelevated:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.promptDialog()),disable:!e.selected_employee_data.employees_id},null,8,["disable"]),M("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 19px 60px -27px","border-radius":"5px",right:"-210px"}},[L(_e,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:te(()=>n[6]||(n[6]=[Re("Reset")])),_:1,__:[6]}),M("label",ai,"Vertical: "+K(t.photoFormat.top)+"px",1),L(ue,{type:"number",dense:"",modelValue:t.photoFormat.top,"onUpdate:modelValue":n[2]||(n[2]=o=>t.photoFormat.top=o)},null,8,["modelValue"]),M("label",si,"Horizontal: "+K(t.photoFormat.left)+"px",1),L(ue,{type:"number",dense:"",modelValue:t.photoFormat.left,"onUpdate:modelValue":n[3]||(n[3]=o=>t.photoFormat.left=o),min:-6e3,max:440,step:1},null,8,["modelValue"]),M("label",li,"Scale: "+K(t.photoFormat.width)+"px",1),L(ue,{type:"number",dense:"",modelValue:t.photoFormat.width,"onUpdate:modelValue":n[4]||(n[4]=o=>t.photoFormat.width=o),min:0,max:1e3,step:1},null,8,["modelValue"]),L(_e,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:te(()=>n[7]||(n[7]=[Re("Close")])),_:1,__:[7]})],8,ii)],512))}}),di={style:{position:"relative"},ref:"clickBox"},ui=["hidden"],ci={for:"",style:{"font-size":"12pt"}},fi={for:"",style:{"font-size":"12pt"}},pi={for:"",style:{"font-size":"12pt"}},it=Object.assign({name:"TextFormatter",data:function(){return{displayModal:!1,text:this.textProps,textDefault:Object.assign({},this.textProps)}},methods:{adjustLastName(){this.displayModal=!this.displayModal,console.log(this.textProps)},reset(){this.text.font_size=this.textDefault.font_size,this.text.bottom=this.textDefault.bottom,this.text.left=this.textDefault.left}},mounted(){}},{__name:"TextFormatter",props:{textProps:{type:Object},textFor:{type:String}},setup(e){return(t,n)=>(ke(),Ue("div",di,[L(_e,{round:"",dense:"",flat:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.adjustLastName())}),M("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 10px 20px 10px","border-radius":"5px",right:"0px"}},[L(_e,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:te(()=>n[6]||(n[6]=[Re("Reset")])),_:1,__:[6]}),M("label",ci,"Font-size: "+K(t.text.font_size)+"px",1),L(ue,{type:"number",modelValue:t.text.font_size,"onUpdate:modelValue":n[2]||(n[2]=o=>t.text.font_size=o),min:8,max:60,step:1},null,8,["modelValue"]),M("label",fi,"Vertical Position: "+K(t.text.bottom)+"px",1),L(ue,{type:"number",modelValue:t.text.bottom,"onUpdate:modelValue":n[3]||(n[3]=o=>t.text.bottom=o),min:0,max:300,step:1},null,8,["modelValue"]),e.textFor=="position"?(ke(),Ue(ht,{key:0},[M("label",pi,"Line Height: "+K(t.text.line_height)+"px",1),L(ue,{type:"number",modelValue:t.text.line_height,"onUpdate:modelValue":n[4]||(n[4]=o=>t.text.line_height=o),min:0,max:238,step:1},null,8,["modelValue"])],64)):mn("",!0),L(_e,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:te(()=>n[7]||(n[7]=[Re("Close")])),_:1,__:[7]})],8,ui)],512))}});function hi(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),o=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(a),t&&(o.href=t),a.href=e,a.href}const gi=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Fe(e){const t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n]);return t}let $e=null;function Fn(e={}){return $e||(e.includeStyleProperties?($e=e.includeStyleProperties,$e):($e=Fe(window.getComputedStyle(document.documentElement)),$e))}function ct(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function mi(e){const t=ct(e,"border-left-width"),n=ct(e,"border-right-width");return e.clientWidth+t+n}function yi(e){const t=ct(e,"border-top-width"),n=ct(e,"border-bottom-width");return e.clientHeight+t+n}function Ln(e,t={}){const n=t.width||mi(e),o=t.height||yi(e);return{width:n,height:o}}function Si(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ie=16384;function vi(e){(e.width>Ie||e.height>Ie)&&(e.width>Ie&&e.height>Ie?e.width>e.height?(e.height*=Ie/e.width,e.width=Ie):(e.width*=Ie/e.height,e.height=Ie):e.width>Ie?(e.height*=Ie/e.width,e.width=Ie):(e.width*=Ie/e.height,e.height=Ie))}function ft(e){return new Promise((t,n)=>{const o=new Image;o.onload=()=>{o.decode().then(()=>{requestAnimationFrame(()=>t(o))})},o.onerror=n,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function wi(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function bi(e,t,n){const o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),wi(a)}const Ce=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Ce(n,t)};function Ti(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Ci(e,t){return Fn(t).map(n=>{const o=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${o}${a?" !important":""};`}).join(" ")}function xi(e,t,n,o){const a=`.${e}:${t}`,s=n.cssText?Ti(n):Ci(n,o);return document.createTextNode(`${a}{${s}}`)}function rn(e,t,n,o){const a=window.getComputedStyle(e,n),s=a.getPropertyValue("content");if(s===""||s==="none")return;const c=gi();try{t.className=`${t.className} ${c}`}catch{return}const h=document.createElement("style");h.appendChild(xi(c,n,a,o)),t.appendChild(h)}function Ii(e,t,n){rn(e,t,":before",n),rn(e,t,":after",n)}const an="application/font-woff",sn="image/jpeg",_i={woff:an,woff2:an,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:sn,jpeg:sn,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Pi(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Ft(e){const t=Pi(e).toLowerCase();return _i[t]||""}function Ri(e){return e.split(/,/)[1]}function Dt(e){return e.search(/^(data:)/)!==-1}function Hn(e,t){return`data:${t};base64,${e}`}async function $n(e,t,n){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const a=await o.blob();return new Promise((s,c)=>{const h=new FileReader;h.onerror=c,h.onloadend=()=>{try{s(n({res:o,result:h.result}))}catch(v){c(v)}},h.readAsDataURL(a)})}const It={};function Ei(e,t,n){let o=e.replace(/\?.*/,"");return n&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function Lt(e,t,n){const o=Ei(e,t,n.includeQueryParams);if(It[o]!=null)return It[o];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await $n(e,n.fetchRequestInit,({res:c,result:h})=>(t||(t=c.headers.get("Content-Type")||""),Ri(h)));a=Hn(s,t)}catch(s){a=n.imagePlaceholder||"";let c=`Failed to fetch resource: ${e}`;s&&(c=typeof s=="string"?s:s.message),c&&console.warn(c)}return It[o]=a,a}async function ki(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):ft(t)}async function Di(e,t){if(e.currentSrc){const s=document.createElement("canvas"),c=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,c==null||c.drawImage(e,0,0,s.width,s.height);const h=s.toDataURL();return ft(h)}const n=e.poster,o=Ft(n),a=await Lt(n,o,t);return ft(a)}async function Ui(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await vt(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Mi(e,t){return Ce(e,HTMLCanvasElement)?ki(e):Ce(e,HTMLVideoElement)?Di(e,t):Ce(e,HTMLIFrameElement)?Ui(e,t):e.cloneNode(Vn(e))}const Bi=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Vn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Ai(e,t,n){var o,a;if(Vn(t))return t;let s=[];return Bi(e)&&e.assignedNodes?s=Fe(e.assignedNodes()):Ce(e,HTMLIFrameElement)&&((o=e.contentDocument)===null||o===void 0?void 0:o.body)?s=Fe(e.contentDocument.body.childNodes):s=Fe(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||Ce(e,HTMLVideoElement)||await s.reduce((c,h)=>c.then(()=>vt(h,n)).then(v=>{v&&t.appendChild(v)}),Promise.resolve()),t}function Ni(e,t,n){const o=t.style;if(!o)return;const a=window.getComputedStyle(e);a.cssText?(o.cssText=a.cssText,o.transformOrigin=a.transformOrigin):Fn(n).forEach(s=>{let c=a.getPropertyValue(s);s==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),Ce(e,HTMLIFrameElement)&&s==="display"&&c==="inline"&&(c="block"),s==="d"&&t.getAttribute("d")&&(c=`path(${t.getAttribute("d")})`),o.setProperty(s,c,a.getPropertyPriority(s))})}function Oi(e,t){Ce(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ce(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Fi(e,t){if(Ce(e,HTMLSelectElement)){const n=t,o=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));o&&o.setAttribute("selected","")}}function Li(e,t,n){return Ce(t,Element)&&(Ni(e,t,n),Ii(e,t,n),Oi(e,t),Fi(e,t)),t}async function Hi(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const o={};for(let s=0;s<n.length;s++){const h=n[s].getAttribute("xlink:href");if(h){const v=e.querySelector(h),I=document.querySelector(h);!v&&I&&!o[h]&&(o[h]=await vt(I,t,!0))}}const a=Object.values(o);if(a.length){const s="http://www.w3.org/1999/xhtml",c=document.createElementNS(s,"svg");c.setAttribute("xmlns",s),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const h=document.createElementNS(s,"defs");c.appendChild(h);for(let v=0;v<a.length;v++)h.appendChild(a[v]);e.appendChild(c)}return e}async function vt(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>Mi(o,t)).then(o=>Ai(e,o,t)).then(o=>Li(e,o,t)).then(o=>Hi(o,t))}const zn=/url\((['"]?)([^'"]+?)\1\)/g,$i=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Vi=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function zi(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function ji(e){const t=[];return e.replace(zn,(n,o,a)=>(t.push(a),n)),t.filter(n=>!Dt(n))}async function qi(e,t,n,o,a){try{const s=n?hi(t,n):t,c=Ft(t);let h;if(a){const v=await a(s);h=Hn(v,c)}else h=await Lt(s,c,o);return e.replace(zi(t),`$1${h}$3`)}catch{}return e}function Ki(e,{preferredFontFormat:t}){return t?e.replace(Vi,n=>{for(;;){const[o,,a]=$i.exec(n)||[];if(!a)return"";if(a===t)return`src: ${o};`}}):e}function jn(e){return e.search(zn)!==-1}async function qn(e,t,n){if(!jn(e))return e;const o=Ki(e,n);return ji(o).reduce((s,c)=>s.then(h=>qi(h,c,t,n)),Promise.resolve(o))}async function Ve(e,t,n){var o;const a=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(a){const s=await qn(a,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function Wi(e,t){await Ve("background",e,t)||await Ve("background-image",e,t),await Ve("mask",e,t)||await Ve("-webkit-mask",e,t)||await Ve("mask-image",e,t)||await Ve("-webkit-mask-image",e,t)}async function Ji(e,t){const n=Ce(e,HTMLImageElement);if(!(n&&!Dt(e.src))&&!(Ce(e,SVGImageElement)&&!Dt(e.href.baseVal)))return;const o=n?e.src:e.href.baseVal,a=await Lt(o,Ft(o),t);await new Promise((s,c)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...v)=>{try{s(t.onImageErrorHandler(...v))}catch(I){c(I)}}:c;const h=e;h.decode&&(h.decode=s),h.loading==="lazy"&&(h.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function Gi(e,t){const o=Fe(e.childNodes).map(a=>Kn(a,t));await Promise.all(o).then(()=>e)}async function Kn(e,t){Ce(e,Element)&&(await Wi(e,t),await Ji(e,t),await Gi(e,t))}function Qi(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(a=>{n[a]=o[a]}),e}const ln={};async function dn(e){let t=ln[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},ln[e]=t,t}async function un(e,t){let n=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async c=>{let h=c.replace(o,"$1");return h.startsWith("https://")||(h=new URL(h,e.url).href),$n(h,t.fetchRequestInit,({result:v})=>(n=n.replace(c,`url(${v})`),[c,v]))});return Promise.all(s).then(()=>n)}function cn(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const v=a.exec(o);if(v===null)break;t.push(v[0])}o=o.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(c,"gi");for(;;){let v=s.exec(o);if(v===null){if(v=h.exec(o),v===null)break;s.lastIndex=h.lastIndex}else h.lastIndex=s.lastIndex;t.push(v[0])}return t}async function Yi(e,t){const n=[],o=[];return e.forEach(a=>{if("cssRules"in a)try{Fe(a.cssRules||[]).forEach((s,c)=>{if(s.type===CSSRule.IMPORT_RULE){let h=c+1;const v=s.href,I=dn(v).then(D=>un(D,t)).then(D=>cn(D).forEach(_=>{try{a.insertRule(_,_.startsWith("@import")?h+=1:a.cssRules.length)}catch(r){console.error("Error inserting rule from remote css",{rule:_,error:r})}})).catch(D=>{console.error("Error loading remote css",D.toString())});o.push(I)}})}catch(s){const c=e.find(h=>h.href==null)||document.styleSheets[0];a.href!=null&&o.push(dn(a.href).then(h=>un(h,t)).then(h=>cn(h).forEach(v=>{c.insertRule(v,c.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",s)}}),Promise.all(o).then(()=>(e.forEach(a=>{if("cssRules"in a)try{Fe(a.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),n))}function Xi(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>jn(t.style.getPropertyValue("src")))}async function Zi(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Fe(e.ownerDocument.styleSheets),o=await Yi(n,t);return Xi(o)}function Wn(e){return e.trim().replace(/["']/g,"")}function ea(e){const t=new Set;function n(o){(o.style.fontFamily||getComputedStyle(o).fontFamily).split(",").forEach(s=>{t.add(Wn(s))}),Array.from(o.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function ta(e,t){const n=await Zi(e,t),o=ea(e);return(await Promise.all(n.filter(s=>o.has(Wn(s.style.fontFamily))).map(s=>{const c=s.parentStyleSheet?s.parentStyleSheet.href:null;return qn(s.cssText,c,t)}))).join(`
`)}async function na(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ta(e,t);if(n){const o=document.createElement("style"),a=document.createTextNode(n);o.appendChild(a),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function oa(e,t={}){const{width:n,height:o}=Ln(e,t),a=await vt(e,t,!0);return await na(a,t),await Kn(a,t),Qi(a,t),await bi(a,n,o)}async function ra(e,t={}){const{width:n,height:o}=Ln(e,t),a=await oa(e,t),s=await ft(a),c=document.createElement("canvas"),h=c.getContext("2d"),v=t.pixelRatio||Si(),I=t.canvasWidth||n,D=t.canvasHeight||o;return c.width=I*v,c.height=D*v,t.skipAutoScale||vi(c),c.style.width=`${I}`,c.style.height=`${D}`,t.backgroundColor&&(h.fillStyle=t.backgroundColor,h.fillRect(0,0,c.width,c.height)),h.drawImage(s,0,0,c.width,c.height),c}async function ze(e,t={}){return(await ra(e,t)).toDataURL("image/jpeg",t.quality||1)}const ia={class:"row",style:{position:"inherit"}},aa={class:"col-6",style:{}},sa={class:"row"},la={class:"col"},da={style:{"margin-left":"30px"}},ua={class:"col-7"},ca={class:"row"},fa={class:"row"},pa={class:"col"},ha={class:"col q-ml-sm"},ga={class:"row"},ma={class:"row"},ya={class:"row"},Sa={class:"row"},va={class:"col"},wa={class:"col q-ml-sm"},ba={id:"cardFrontAndBack",class:"flex",style:{position:"relative"}},Ta={class:"flex flex-center"},Pa=Object.assign({name:"IndexPage",components:{IdCardFront:Kt,IdCardFrontV2:Wt,IdCardBack:Yt,IdCardBackV2:Xt,PhotoGetter:nn,PhotoAdjuster:on,TextFormatter:it},data:function(){return{photoFormat:{top:27,left:117,width:401},textFormat:{position:{font_size:17,bottom:83,left:40,line_height:20},lastName:{font_size:43,bottom:119,left:40},firstName:{font_size:28,bottom:97,left:40}},selected_employee_input:null,selected_employee_data:{empno:null,lastName:null,firstName:null,middleName:null,extName:null,position:null,position_function:null,address:null},selected_employee_image_data:null,employees:[],selections:this.employees,timestamp:0}},methods:{saveImageCaptured(e){this.timestamp=new Date().valueOf()},savePendata(e){this.$api.post("http://192.168.50.51:8081/id_card_backend.php",{savePendata:!0,m_penData:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{}).catch(t=>{console.error(t)})},adjustLastName(){},downloadAsPdf(){var e=document.getElementById("IdCardFront"),t=document.getElementById("IdCardBack");ze(e,{quality:1}).then(n=>{this.$api.post("http://192.168.50.51:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"front",image:n},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{ze(t,{quality:1}).then(o=>{this.$api.post("http://192.168.50.51:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"back",image:o},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{var a=document.createElement("a");a.href="http://192.168.50.51:8081/id_card_print_pdf.php?employee_id="+this.selected_employee_data.employees_id,a.click()})})})})},async setImageData(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2"),n="",o="";await ze(e,{quality:1}).then(a=>{n=a}),await ze(t,{quality:1}).then(a=>{o=a}),this.selected_employee_image_data={frontDataUrl:n,backDataUrl:o}},downloadImage(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2");ze(e,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_FRONT.jpeg",o.href=n,o.click()}),ze(t,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_BACK.jpeg",o.href=n,o.click()}),this.$api.post("http://192.168.50.51:8081/id_card_backend.php",{tagAsPrinted:!0,selected_employee_data:this.selected_employee_data}).catch(n=>{console.error(n)})},onClearForm(){window.location.reload()},async onSubmit(){await this.setImageData(),this.$api.post("http://192.168.50.51:8081/id_card_backend.php",{saveEmployeeData:!0,selected_employee_data:this.selected_employee_data,selected_employee_image_data:this.selected_employee_image_data,textFormat:this.textFormat,photoFormat:this.photoFormat}).then(({data:e})=>{console.log("Save changes"),this.getEmployeeData()})},onReset(){},getEmployeeData(){!this.selected_employee_input||this.$api.post("http://192.168.50.51:8081/id_card_backend.php",{getEmployeeData:!0,employeeId:this.selected_employee_input.value}).then(({data:e})=>{this.selected_employee_data=e,e.text_formatting&&(this.textFormat.position.font_size=e.text_formatting.position.font_size,this.textFormat.position.bottom=e.text_formatting.position.bottom,this.textFormat.position.line_height=e.text_formatting.position.line_height,this.textFormat.lastName.font_size=e.text_formatting.lastName.font_size,this.textFormat.lastName.bottom=e.text_formatting.lastName.bottom,this.textFormat.firstName.font_size=e.text_formatting.firstName.font_size,this.textFormat.firstName.bottom=e.text_formatting.firstName.bottom),e.photo_formatting&&(this.photoFormat.top=e.photo_formatting.top,this.photoFormat.left=e.photo_formatting.left,this.photoFormat.scale=e.photo_formatting.scale)}).catch(e=>{console.error(e)})},filterFn(e,t){if(e===""){t(()=>{this.selections=this.employees});return}t(()=>{const n=e.toLowerCase();this.selections=this.employees.filter(o=>o.label.toLowerCase().indexOf(n)>-1)})}},created(){this.$api.post("http://192.168.50.51:8081/id_card_backend.php",{getEmployeeList:"true"}).then(({data:e})=>{this.employees=e}).catch(e=>{console.error(e)})},mounted(){this.getEmployeeData()}},{__name:"IndexPage",setup(e){return(t,n)=>(ke(),To(Co,{class:"q-pa-md",style:{position:"relative"}},{default:te(()=>[M("div",null,[M("div",ia,[M("div",aa,[L(_t,{clearable:"",class:"q-mb-md",filled:"",modelValue:t.selected_employee_input,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.selected_employee_input=o),n[2]||(n[2]=o=>t.getEmployeeData())],"use-input":"","input-debounce":"0",label:"Select Employee",options:t.selections,onFilter:t.filterFn,onClear:n[1]||(n[1]=o=>t.onClearForm()),behavior:"menu"},{"no-option":te(()=>[L(Yn,null,{default:te(()=>[L(Xn,{class:"text-grey"},{default:te(()=>n[22]||(n[22]=[Re(" No results ")])),_:1,__:[22]})]),_:1})]),_:1},8,["modelValue","options","onFilter"]),L(_e,{label:"Dashboard",to:"dashboard"}),M("div",sa,[M("div",la,[M("div",da,[L(nn,{onImageCaptured:t.saveImageCaptured,selected_employee_data:t.selected_employee_data},{buttons:te(()=>[L(on,{photoProps:t.photoFormat,selected_employee_data:t.selected_employee_data},null,8,["photoProps","selected_employee_data"])]),_:1},8,["onImageCaptured","selected_employee_data"])])]),M("div",ua,[L(Ro,{onSubmit:vn(t.onSubmit,["prevent"]),onReset:t.onReset,class:"q-gutter-sm_"},{default:te(()=>[L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.empno,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_employee_data.empno=o),label:"ID Number *",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"Please enter the ID number"]},null,8,["disable","modelValue","rules"]),L(ue,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.position,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_employee_data.position=o),label:"Position",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Position should not be empty!"]},{append:te(()=>[L(it,{textProps:t.textFormat.position,textFor:"position"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),M("div",ca,[L(ue,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.lastName,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_employee_data.lastName=o),label:"Last Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Last Name should not be empty!"]},{append:te(()=>[L(it,{textProps:t.textFormat.lastName,textFor:"lastName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),L(ue,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.firstName,"onUpdate:modelValue":n[6]||(n[6]=o=>t.selected_employee_data.firstName=o),label:"First Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* First Name should not be empty!"]},{append:te(()=>[L(it,{textProps:t.textFormat.firstName,textFor:"firstName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"])]),M("div",fa,[M("div",pa,[L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.middleName,"onUpdate:modelValue":n[7]||(n[7]=o=>t.selected_employee_data.middleName=o),label:"Middle Name",hint:""},null,8,["disable","modelValue"])]),M("div",ha,[L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.extName,"onUpdate:modelValue":n[8]||(n[8]=o=>t.selected_employee_data.extName=o),label:"Name Extension"},null,8,["disable","modelValue"])])]),L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_barangay,"onUpdate:modelValue":n[9]||(n[9]=o=>t.selected_employee_data.address_res_barangay=o),label:"Barangay",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),M("div",ga,[L(ue,{class:"col q-mr-sm",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_city,"onUpdate:modelValue":n[10]||(n[10]=o=>t.selected_employee_data.address_res_city=o),label:"City/Municipality",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),L(ue,{class:"col",disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_zip_code,"onUpdate:modelValue":n[11]||(n[11]=o=>t.selected_employee_data.address_res_zip_code=o),label:"Zipcode",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"])]),L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.address_res_province,"onUpdate:modelValue":n[12]||(n[12]=o=>t.selected_employee_data.address_res_province=o),label:"Province",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),M("div",ma,[L(_t,{disable:!t.selected_employee_input,class:"col",dense:"",outlined:"",modelValue:t.selected_employee_data.gender,"onUpdate:modelValue":n[13]||(n[13]=o=>t.selected_employee_data.gender=o),options:["MALE","FEMALE"],label:"Gender"},null,8,["disable","modelValue"]),L(ue,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.birthdate,"onUpdate:modelValue":n[14]||(n[14]=o=>t.selected_employee_data.birthdate=o),label:"Birthdate",type:"date"},null,8,["disable","modelValue"])]),M("div",ya,[L(ue,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.blood_type,"onUpdate:modelValue":n[15]||(n[15]=o=>t.selected_employee_data.blood_type=o),label:"Blood Type",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),L(ue,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.contact_number,"onUpdate:modelValue":n[16]||(n[16]=o=>t.selected_employee_data.contact_number=o),label:"Contact Number",hint:""},null,8,["disable","modelValue"])]),L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_name,"onUpdate:modelValue":n[17]||(n[17]=o=>t.selected_employee_data.emergency_name=o),label:"Emergency Contact Person",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_number,"onUpdate:modelValue":n[18]||(n[18]=o=>t.selected_employee_data.emergency_number=o),label:"Emergency Contact Number",hint:""},null,8,["disable","modelValue"]),M("div",Sa,[M("div",va,[L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_issued,"onUpdate:modelValue":n[19]||(n[19]=o=>t.selected_employee_data.date_issued=o),label:"Date Issued",type:"date"},null,8,["disable","modelValue"])]),M("div",wa,[L(ue,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_expire,"onUpdate:modelValue":n[20]||(n[20]=o=>t.selected_employee_data.date_expire=o),label:"Valid Until",type:"date"},null,8,["disable","modelValue"])])]),n[24]||(n[24]=M("div",{class:"q-mt-sm"},null,-1)),L(_e,{disable:!t.selected_employee_input,class:"q-mr-sm",type:"submit"},{default:te(()=>n[23]||(n[23]=[Re("Save")])),_:1,__:[23]},8,["disable"]),L(_e,{disable:!t.selected_employee_input,label:"Download",onClick:n[21]||(n[21]=o=>t.downloadImage())},null,8,["disable"])]),_:1,__:[24]},8,["onSubmit","onReset"])])])]),M("div",ba,[L(Kt,{style:{transform:"scale(0.5)",position:"absolute"},details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),L(Yt,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])]),n[25]||(n[25]=M("div",{style:{"margin-bottom":"10px",width:"100%",height:"100px","background-color":"green",color:"wheat","text-align":"center"}},[M("h1",null,"PRE-RENDERED")],-1)),M("div",Ta,[L(Wt,{details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),L(Xt,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])])]),_:1}))}});export{Pa as default};
